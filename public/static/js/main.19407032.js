/*! For license information please see main.19407032.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case S:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return D(e(t))}catch(Ds){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],V=-1;function j(e){return{current:e}}function z(e){0>V||(e.current=F[V],F[V]=null,V--)}function U(e,t){V++,F[V]=e.current,e.current=t}var B=j(null),$=j(null),q=j(null),G=j(null);function H(e,t){switch(U(q,t),U($,e),U(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(B),U(B,e)}function K(){z(B),z($),z(q)}function W(e){null!==e.memoizedState&&U(G,e);var t=B.current,n=sd(t,e.type);t!==n&&(U($,e),U(B,n))}function Q(e){$.current===e&&(z(B),z($)),G.current===e&&(z(G),Qd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function he(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ve(r):0!==(s&=o)?i=ve(s):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~a)?i=ve(o):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),De="__reactFiber$"+Ae,Re="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,Le="__reactEvents$"+Ae,Me="__reactListeners$"+Ae,Fe="__reactHandles$"+Ae,Ve="__reactResources$"+Ae,je="__reactMarker$"+Ae;function ze(e){delete e[De],delete e[Re],delete e[Le],delete e[Me],delete e[Fe]}function Ue(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[De]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[je]=!0}var He=new Set,Ke={};function We(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)He.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(Ds){var t=Ds.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<Ds.stack.indexOf("\n    at")?" (<anonymous>)":-1<Ds.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Ds){var r=Ds}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(Ds){return"\nError generating stack: "+Ds.message+"\n"+Ds.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ut(t)):null!=n?vt(e,s,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&It(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&It(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function Ot(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Dt||null!==Rt)&&(Bu(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),jt=!1;if(Vt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){jt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Oh){jt=!1}var Ut=null,Bt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Bt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Kt(){return!1}function Wt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Wt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Wt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Wt(nn),an=Wt(h({},nn,{dataTransfer:0})),sn=Wt(h({},en,{relatedTarget:0})),on=Wt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Wt(h({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Wt(h({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Wt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Wt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Wt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Wt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Wt(h({},Jt,{newState:0,oldState:0})),Sn=[9,13,27,32],En=Vt&&"CompositionEvent"in window,kn=null;Vt&&"documentMode"in document&&(kn=document.documentMode);var In=Vt&&"TextEvent"in window&&!kn,Tn=Vt&&(!En||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),_n=!1;function xn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Gc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Ln=null;function Mn(e){Fc(e,0)}function Fn(e){if(ht($e(e)))return e}function Vn(e,t){if("change"===e)return t}var jn=!1;if(Vt){var zn;if(Vt){var Un="oninput"in document;if(!Un){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Un="function"===typeof Bn.oninput}zn=Un}else zn=!1;jn=zn&&(!document.documentMode||9<document.documentMode)}function $n(){On&&(On.detachEvent("onpropertychange",qn),Ln=On=null)}function qn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Rn(t,Ln,e,At(e)),Mt(Mn,t)}}function Gn(e,t,n){"focusin"===e?($n(),Ln=n,(On=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Kn(e,t){if("click"===e)return Fn(t)}function Wn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Vt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Gc(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function hr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Vt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){wr.set(e,t),We(t,[e])}Sr.push("scrollEnd");var kr=new WeakMap;function Ir(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Cr=0,_r=0;function xr(){for(var e=Cr,t=_r=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Nr(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Rr(e)}function Ar(e,t){return Nr(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Ru)throw Ru=0,Ou=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Mr(31,n,t,i)).elementType=_,e.lanes=a,e;case g:return Ur(n.children,i,a,t);case y:o=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case k:return(e=Mr(13,n,t,i)).elementType=k,e.lanes=a,e;case I:return(e=Mr(19,n,t,i)).elementType=I,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case S:o=10;break e;case w:o=9;break e;case E:o=11;break e;case T:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ur(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Gr=0,Hr=null,Kr=0,Wr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Gr++]=Kr,qr[Gr++]=Hr,Hr=e,Kr=t}function ei(e,t,n){Wr[Qr++]=Xr,Wr[Qr++]=Jr,Wr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-pe(t)+i|n<<i|r,Jr=a+e}else Xr=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Hr;)Hr=qr[--Gr],qr[Gr]=null,Kr=qr[--Gr],qr[Gr]=null;for(;e===Yr;)Yr=Wr[--Qr],Wr[Qr]=null,Jr=Wr[--Qr],Wr[Qr]=null,Xr=Wr[--Qr],Wr[Qr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ui(e){throw mi(Ir(Error(s(418,"")),e)),li}function ci(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":Vc("cancel",t),Vc("close",t);break;case"iframe":case"object":case"embed":Vc("load",t);break;case"video":case"audio":for(n=0;n<Lc.length;n++)Vc(Lc[n],t);break;case"source":Vc("error",t);break;case"img":case"image":case"link":Vc("error",t),Vc("load",t);break;case"details":Vc("toggle",t);break;case"input":Vc("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Vc("invalid",t);break;case"textarea":Vc("invalid",t),St(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xc(t.textContent,n)?(null!=r.popover&&(Vc("beforetoggle",t),Vc("toggle",t)),null!=r.onScroll&&Vc("scroll",t),null!=r.onScrollEnd&&Vc("scrollend",t),null!=r.onClick&&(t.onclick=Jc),t=!0):t=!1,t||ui(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ui(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,ai=!1}function fi(){var e=si;return null!==e&&(null===wu?wu=e:wu.push.apply(wu,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=j(null),yi=null,vi=null;function bi(e,t,n){U(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,z(gi)}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Si(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Si(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ki(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&Ei(t,e,n,r),t.flags|=262144}function Ii(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ci(e){return xi(yi,e)}function _i(e,t){return null===yi&&Ti(e),xi(e,t)}function xi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,Di={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ni,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Pi(Ai,function(){e.controller.abort()})}var Li=null,Mi=0,Fi=0,Vi=null;function ji(){if(0===--Mi&&null!==Li){null!==Vi&&(Vi.status="fulfilled");var e=Li;Li=null,Fi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Mi=0,Fi=Pc(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(ji,ji)}(0,t),null!==zi&&zi(e,t)};var Ui=j(null);function Bi(){var e=Ui.current;return null!==e?e:iu.pooledCache}function $i(e,t){U(Ui,null===t?Ui.current:t.pool)}function qi(){var e=Bi();return null===e?null:{parent:Di._currentValue,pool:e}}var Gi=Error(s(460)),Hi=Error(s(474)),Ki=Error(s(542)),Wi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Gi}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Gi||e===Ki)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ru)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Nr(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ua(){if(la){if(null!==Vi)throw Vi}}function ca(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,c=u=l=null,o=a;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(su&p)===p:(r&p)===p){0!==p&&p===Fi&&(la=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:ta=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),fu|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var pa=j(null),fa=j(0);function ma(e,t){U(fa,e=hu),U(pa,t),hu=e|t.baseLanes}function ga(){U(fa,hu),U(pa,pa.current)}function ya(){hu=fa.current,z(pa),z(fa)}var va=0,ba=null,wa=null,Sa=null,Ea=!1,ka=!1,Ia=!1,Ta=0,Ca=0,_a=null,xa=0;function Na(){throw Error(s(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Hs:Ks,Ia=!1,a=n(r,i),Ia=!1,ka&&(a=Ra(t,n,r,i)),Da(e),a}function Da(e){O.H=Gs;var t=null!==wa&&null!==wa.next;if(va=0,Sa=wa=ba=null,Ea=!1,Ca=0,_a=null,t)throw Error(s(300));null===e||xo||null!==(e=e.dependencies)&&Ii(e)&&(xo=!0)}function Ra(e,t,n,r){ba=e;var i=0;do{if(ka&&(_a=null),Ca=0,ka=!1,25<=i)throw Error(s(301));if(i+=1,Sa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=Ws,a=t(n,r)}while(ka);return a}function Oa(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?za(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function La(){var e=0!==Ta;return Ta=0,e}function Ma(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Ea){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ea=!1}va=0,Sa=wa=ba=null,ka=!1,Ca=Ta=0,_a=null}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?ba.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function ja(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Sa?ba.memoizedState:Sa.next;if(null!==t)Sa=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Sa?ba.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function za(e){var t=Ca;return Ca+=1,null===_a&&(_a=[]),e=Xi(_a,e,t),t=ba,null===(null===Sa?t.memoizedState:Sa.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Hs:Ks),e}function Ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return za(e);if(e.$$typeof===S)return Ci(e)}throw Error(s(438,String(e)))}function Ba(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function $a(e,t){return"function"===typeof t?t(e):t}function qa(e){return Ga(ja(),wa,e)}function Ga(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,u=null,c=t=i.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(su&h)===h:(va&h)===h){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Fi&&(d=!0);else{if((va&p)===p){c=c.next,p===Fi&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,o=a):u=u.next=h,ba.lanes|=p,fu|=p}h=c.action,Ia&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else p={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,o=a):u=u.next=p,ba.lanes|=h,fu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?o=a:u.next=l,!Qn(a,e.memoizedState)&&(xo=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=u,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ha(e){var t=ja(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Qn(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ka(e,t,n){var r=ba,i=ja(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Qn((wa||i).memoizedState,n);if(o&&(i.memoizedState=n,xo=!0),i=i.queue,gs(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Sa&&1&Sa.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,i,n,t),null),null===iu)throw Error(s(349));a||0!==(124&va)||Wa(r,t,n)}return n}function Wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Xa(t)&&Ja(e)}function Ya(e,t,n){return n(function(){Xa(t)&&Ja(e)})}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ja(e){var t=Ar(e,2);null!==t&&Fu(t,e,2)}function Za(e){var t=Va();if("function"===typeof e){var n=e;if(e=n(),Ia){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ga(e,wa,"function"===typeof r?r:$a)}function ts(e,t,n,r,i){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,s={};O.T=s;try{var o=n(i,r),l=O.S;null!==l&&l(s,o),rs(e,t,o)}catch(u){as(e,t,u)}finally{O.T=a}}else try{rs(e,t,a=n(i,r))}catch(c){as(e,t,c)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=iu.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=Va()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=js.bind(null,ba,r),r.dispatch=n,r=Za(!1),a=Us.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Va()).queue=i,n=ts.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return cs(ja(),wa,e)}function cs(e,t,n){if(t=Ga(e,t,os)[0],e=qa($a)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=za(t)}catch(Ds){if(Ds===Gi)throw Ki;throw Ds}else r=t;var i=(t=ja()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,ps(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=ja(),n=wa;if(null!==n)return cs(t,n,e);ja(),t=t.memoizedState;var r=(n=ja()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return ja().memoizedState}function ms(e,t,n,r){var i=Va();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=ja();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Pa(r,wa.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(ba.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function ws(e,t){return gs(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Es(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,Ss.bind(null,t,e),n)}function ks(){}function Is(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),Ia){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Mu(),ba.lanes|=e,fu|=e,n)}function _s(e,t,n,r){return Qn(n,t)?n:null!==pa.current?(e=Cs(e,n,r),Qn(e,t)||(xo=!0),e):0===(42&va)?(xo=!0,e.memoizedState=n):(e=Mu(),ba.lanes|=e,fu|=e,t)}function xs(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s=O.T,o={};O.T=o,Us(e,!1,t,n);try{var l=i(),u=O.S;if(null!==u&&u(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Lu());else zs(e,t,r,Lu())}catch(c){zs(e,t,{then:function(){},status:"rejected",reason:c},Lu())}finally{L.p=a,O.T=s}}function Ns(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=As(e).queue;xs(e,i,t,M,null===n?Ns:function(){return Rs(e),n(r)})}function As(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rs(e){zs(e,As(e).next.queue,{},Lu())}function Os(){return Ci(Qd)}function Ls(){return ja().memoizedState}function Ms(){return ja().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lu(),r=aa(t,e=ia(n),n);return null!==r&&(Fu(r,t,n),sa(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Vs(e,t,n){var r=Lu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?$s(t,n):null!==(n=Pr(e,t,n,r))&&(Fu(n,e,r),qs(n,t,r))}function js(e,t,n){zs(e,t,n,Lu())}function zs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))$s(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Nr(e,t,i,0),null===iu&&xr(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Fu(n,e,r),qs(n,t,r),!0}return!1}function Us(e,t,n,r){if(r={lane:2,revertLane:Pc(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Fu(t,e,2)}function Bs(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function $s(e,t){ka=Ea=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Gs={readContext:Ci,use:Ua,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na},Hs={readContext:Ci,use:Ua,useCallback:function(e,t){return Va().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Va();t=void 0===t?null:t;var r=e();if(Ia){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Va();if(void 0!==n){var i=n(t);if(Ia){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Vs.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Va().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=js.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Va(),e,t)},useTransition:function(){var e=Za(!1);return e=xs.bind(null,ba,e.queue,!0,!1),Va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Va();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===iu)throw Error(s(349));0!==(124&su)||Wa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ys(Ya.bind(null,r,a,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,a,n,t),null),n},useId:function(){var e=Va(),t=iu.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=xa++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Va();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ba,useCacheRefresh:function(){return Va().memoizedState=Fs.bind(null,ba)}},Ks={readContext:Ci,use:Ua,useCallback:Is,useContext:Ci,useEffect:vs,useImperativeHandle:Es,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:qa,useRef:fs,useState:function(){return qa($a)},useDebugValue:ks,useDeferredValue:function(e,t){return _s(ja(),wa.memoizedState,e,t)},useTransition:function(){var e=qa($a)[0],t=ja().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Ka,useId:Ls,useHostTransitionStatus:Os,useFormState:us,useActionState:us,useOptimistic:function(e,t){return es(ja(),0,e,t)},useMemoCache:Ba,useCacheRefresh:Ms},Ws={readContext:Ci,use:Ua,useCallback:Is,useContext:Ci,useEffect:vs,useImperativeHandle:Es,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Ha,useRef:fs,useState:function(){return Ha($a)},useDebugValue:ks,useDeferredValue:function(e,t){var n=ja();return null===wa?Cs(n,e,t):_s(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ha($a)[0],t=ja().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Ka,useId:Ls,useHostTransitionStatus:Os,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=ja();return null!==wa?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:Ms},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){return(0,e._init)(e._payload)}function to(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&eo(a)===t.type)?(Js(t=i(t,n.props),n),t.return=e,t):(Js(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===S)return h(e,_i(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?u(e,t,n,r):null;case m:return n.key===i?c(e,t,n,r):null;case C:return p(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===S)return p(e,t,_i(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Xs(r),i);if(r.$$typeof===S)return y(e,t,n,_i(t,r),i);Zs(t,r)}return null}function v(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(l,u.sibling),(d=i(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&eo(b)===u.type){n(l,u.sibling),Js(d=i(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((d=Ur(c.props.children,l.mode,d,c.key)).return=l,l=d):(Js(d=zr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return o(l);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=i(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=$r(c,l.mode,d)).return=l,l=d}return o(l);case C:return v(l,u,c=(b=c._init)(c._payload),d)}if(R(c))return function(i,s,o,l){for(var u=null,c=null,d=s,f=s=0,m=null;null!==d&&f<o.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(i,d,o[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,f),null===c?u=g:c.sibling=g,c=g,d=m}if(f===o.length)return n(i,d),ai&&Zr(i,f),u;if(null===d){for(;f<o.length;f++)null!==(d=h(i,o[f],l))&&(s=a(d,s,f),null===c?u=d:c.sibling=d,c=d);return ai&&Zr(i,f),u}for(d=r(d);f<o.length;f++)null!==(m=y(d,i,f,o[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=a(m,s,f),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zr(i,f),u}(l,u,c,d);if(P(c)){if("function"!==typeof(b=P(c)))throw Error(s(150));return function(i,o,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,f=o,m=o=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(i,f,v.value,u);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,m),null===d?c=b:d.sibling=b,d=b,f=g}if(v.done)return n(i,f),ai&&Zr(i,m),c;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,u))&&(o=a(v,o,m),null===d?c=v:d.sibling=v,d=v);return ai&&Zr(i,m),c}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,i,m,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),ai&&Zr(i,m),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return v(l,u,Xs(c),d);if(c.$$typeof===S)return v(l,u,_i(l,c),d);Zs(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=i(u,c)).return=l,l=d):(n(l,u),(d=Br(c,l.mode,d)).return=l,l=d),o(l)):n(l,u)}return function(e,t,n,r){try{Ys=0;var i=v(e,t,n,r);return Qs=null,i}catch(Ds){if(Ds===Gi||Ds===Ki)throw Ds;var a=Mr(29,Ds,null,e.mode);return a.lanes=r,a.return=e,a}}}var no=to(!0),ro=to(!1),io=j(null),ao=null;function so(e){var t=e.alternate;U(co,1&co.current),U(io,e),null===ao&&(null===t||null!==pa.current||null!==t.memoizedState)&&(ao=e)}function oo(e){if(22===e.tag){if(U(co,co.current),U(io,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else lo()}function lo(){U(co,co.current),U(io,io.current)}function uo(e){z(io),ao===e&&(ao=null),z(co)}var co=j(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lu(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Fu(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lu(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Fu(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lu(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Fu(t,e,n),sa(t,e,n))}};function mo(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){vo(e)}function wo(e){console.error(e)}function So(e){vo(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function To(e){return(e=ia(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Tu?Tu=new Set([this]):Tu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(s(461)),xo=!1;function No(e,t,n,r){t.child=null===e?ro(t,null,n,r):no(t,e.child,n,r)}function Po(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ti(t),r=Aa(e,t,n,s,a,i),o=La(),null===e||xo?(ai&&o&&ti(t),t.flags|=1,No(e,t,r,i),t.child):(Ma(e,t,i),Yo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Do(e,t,a,r,i))}if(a=e.child,!Xo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=a,!Xo(e,i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return Mo(e,t,n,r,i)}function Ro(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Oo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),oo(t)}else null!==a?($i(0,a.cachePool),ma(t,a),lo(),t.memoizedState=null):(null!==e&&$i(0,null),ga(),lo());return No(e,t,i,n),t.child}function Oo(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&$i(0,null),ga(),oo(t),null!==e&&ki(e,t,r,!0),null}function Lo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mo(e,t,n,r,i){return Ti(t),n=Aa(e,t,n,r,void 0,i),r=La(),null===e||xo?(ai&&r&&ti(t),t.flags|=1,No(e,t,n,i),t.child):(Ma(e,t,i),Yo(e,t,i))}function Fo(e,t,n,r,i,a){return Ti(t),t.updateQueue=null,n=Ra(t,r,n,i),Da(e),r=La(),null===e||xo?(ai&&r&&ti(t),t.flags|=1,No(e,t,n,a),t.child):(Ma(e,t,a),Yo(e,t,a))}function Vo(e,t,n,r,i){if(Ti(t),null===t.stateNode){var a=Or,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ci(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ci(s):Or,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(po(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ca(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=yo(n,o);a.props=l;var u=a.context,c=n.contextType;s=Or,"object"===typeof c&&null!==c&&(s=Ci(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||u!==s)&&go(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ca(t,r,a,i),ua(),u=t.memoizedState,o||h!==u||ta?("function"===typeof d&&(po(t,n,d,r),u=t.memoizedState),(l=ta||mo(t,n,l,r,h,u,s))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),c=yo(n,s=t.memoizedProps),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,l=Or,"object"===typeof u&&null!==u&&(l=Ci(u)),(u="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&go(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ca(t,r,a,i),ua();var p=t.memoizedState;s!==d||h!==p||ta||null!==e&&null!==e.dependencies&&Ii(e.dependencies)?("function"===typeof o&&(po(t,n,o,r),p=t.memoizedState),(c=ta||mo(t,n,c,r,h,p,l)||null!==e&&null!==e.dependencies&&Ii(e.dependencies))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Lo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=no(t,e.child,null,i),t.child=no(t,null,n,i)):No(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Yo(e,t,i),e}function jo(e,t,n,r){return pi(),t.flags|=256,No(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:qi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yu),e}function $o(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?so(t):lo(),ai){var l,u=ii;if(l=u){e:{for(l=u,u=oi;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=vd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ui(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return yd(u)?t.lanes=32:t.lanes=536870912,null;uo(t)}return u=i.children,i=i.fallback,a?(lo(),u=Go({mode:"hidden",children:u},a=t.mode),i=Ur(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(a=t.child).memoizedState=Uo(n),a.childLanes=Bo(e,r,n),t.memoizedState=zo,i):(so(t),qo(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(lo(),t.child=e.child,t.flags|=128,t=null):(lo(),a=i.fallback,u=t.mode,i=Go({mode:"visible",children:i.children},u),(a=Ur(a,u,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,no(t,e.child,null,n),(i=t.child).memoizedState=Uo(n),i.childLanes=Bo(e,r,n),t.memoizedState=zo,t=a);else if(so(t),yd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ho(e,t,n)}else if(xo||ki(e,t,n,!1),r=0!==(n&e.childLanes),xo||r){if(null!==(r=iu)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:xe(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Fu(r,e,i),_o;"$?"===u.data||Wu(),t=Ho(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(u.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Wr[Qr++]=Xr,Wr[Qr++]=Jr,Wr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=qo(t,i.children)).flags|=4096);return t}return a?(lo(),a=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Vr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Vr(c,a):(a=Ur(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(u=e.child.memoizedState)?u=Uo(n):(null!==(l=u.cachePool)?(c=Di._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=qi(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Bo(e,r,n),t.memoizedState=zo,i):(so(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Go({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Go(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return no(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Wo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ho(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,a);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ii(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)xo=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),bi(0,Di,e.memoizedState.cache),pi();break;case 27:case 5:W(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(so(t),null!==(e=Yo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n);case 24:bi(0,Di,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ai&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===E){t.tag=11,t=Po(null,t,r,e,n);break e}if(i===T){t.tag=14,t=Ao(null,t,r,e,n);break e}}throw t=D(r)||r,Error(s(306,t,""))}Fr(r)?(e=yo(r,e),t.tag=1,t=Vo(null,t,r,e,n)):(t.tag=0,t=Mo(null,t,r,e,n))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return Vo(e,t,r=t.type,i=yo(r,t.pendingProps),n);case 3:e:{if(H(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ca(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Di,r),r!==a.cache&&Ei(t,[Di],n,!0),ua(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n);break e}if(r!==i){mi(i=Ir(Error(s(424)),t)),t=jo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Yo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 26:return Lo(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[De]=t,r[Re]=e,td(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&ai&&(r=t.stateNode=Sd(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,fd(t.type)?(bd=i,ii=vd(r.firstChild)):ii=i),No(e,t,t.pendingProps.children,n),Lo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ui(t)),W(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==o&&od(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Aa(e,t,Oa,null,null,n),Qd._currentValue=i),Lo(e,t),No(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ui(t)),null;case 13:return $o(e,t,n);case 4:return H(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=no(t,null,r,n):No(e,t,r,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),No(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=Ci(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Go(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Vr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ro(e,t,n);case 24:return Ti(t),r=Ci(Di),null===e?(null===(i=Bi())&&(i=iu,a=Ri(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Di,i)):(0!==(e.lanes&n)&&(ra(e,t),ca(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Di,r)):(r=a.cache,bi(0,Di,r),r!==i.cache&&Ei(t,[Di],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=io.current)&&((4194048&su)===su?null!==ao:(62914560&su)!==su&&0===(536870912&su)||t!==ao))throw Ji=Wi,Hi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vu|=t)}function nl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Di),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=B.current,hi(t)?ci(t):(e=Sd(i,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=B.current,hi(t))ci(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xc(e.nodeValue,n)))||ui(t)}else(e=id(e).createTextNode(r))[De]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[De]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return K(),null===e&&Uc(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(z(co),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)nl(i,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ho(e))){for(t.flags|=128,nl(i,!1),e=a.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>ku&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return rl(t),null}else 2*te()-i.renderingStartTime>ku&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return uo(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Di),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Di),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return uo(t),ya(),null!==e&&z(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Di),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Di),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:uo(t);break;case 19:z(co);break;case 10:wi(t.type);break;case 22:case 23:uo(t),ya(),null!==e&&z(Ui);break;case 24:wi(Di)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){dc(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){dc(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){dc(t,t.return,c)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){dc(e,e.return,r)}}}function cl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dc(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){dc(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){dc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){dc(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){dc(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,u=null,c=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":u=h;default:r.hasOwnProperty(f)||Zc(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Zc(e,t,p,f,r,h)}}return void gt(e,o,l,u,c,d,a,i);case"select":for(a in f=o=l=p=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":f=u;default:r.hasOwnProperty(a)||Zc(e,t,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=a||null!=u))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==u&&Zc(e,t,i,a,r,u)}return t=l,n=o,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zc(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Zc(e,t,o,i,r,a)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zc(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))if("selected"===u)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zc(e,t,u,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zc(e,t,g,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Zc(e,t,c,p,r,f)}return;default:if(Ct(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||ed(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Zc(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Zc(e,t,h,p,r,f)}(r,e.type,n,t),r[Re]=t}catch(i){dc(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jc));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[De]=e,t[Re]=n}catch(a){dc(e,e.return,a)}}var wl=!1,Sl=!1,El=!1,kl="function"===typeof WeakSet?WeakSet:Set,Il=null;function Tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Vl(e,n),4&r&&ol(5,n);break;case 1:if(Vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){dc(n,n.return,s)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dc(n,n.return,o)}}64&r&&ul(n),512&r&&dl(n,n.return);break;case 3:if(Vl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){dc(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Vl(e,n),null===t&&4&r&&pl(n),512&r&&dl(n,n.return);break;case 12:Vl(e,n);break;case 13:Vl(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||Sl,i=wl;var a=Sl;wl=r,(Sl=t)&&!a?zl(e,n,0!==(8772&n.subtreeFlags)):Vl(e,n),wl=i,Sl=a}break;case 30:break;default:Vl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,xl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(a){}switch(n.tag){case 26:Sl||hl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||hl(n,t);var r=_l,i=xl;fd(n.type)&&(_l=n.stateNode,xl=!1),Nl(e,t,n),Ed(n.stateNode),_l=r,xl=i;break;case 5:Sl||hl(n,t);case 6:if(r=_l,i=xl,_l=null,Nl(e,t,n),xl=i,null!==(_l=r))if(xl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(s){dc(n,t,s)}else try{_l.removeChild(n.stateNode)}catch(s){dc(n,t,s)}break;case 18:null!==_l&&(xl?(md(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),xh(e)):md(_l,n.stateNode));break;case 4:r=_l,i=xl,_l=n.stateNode.containerInfo,xl=!0,Nl(e,t,n),_l=r,xl=i;break;case 0:case 11:case 14:case 15:Sl||ll(2,n,t),Sl||ll(4,n,t),Nl(e,t,n);break;case 1:Sl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Nl(e,t,n),Sl=r;break;default:Nl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{xh(e)}catch(n){dc(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){_l=l.stateNode,xl=!1;break e}break;case 5:_l=l.stateNode,xl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,xl=!0;break e}l=l.return}if(null===_l)throw Error(s(160));Pl(a,o,i),_l=null,xl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Ol=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ml(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:Rl(t,e),Ml(e),512&r&&(Sl||null===n||hl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Rl(t,e),Ml(e),512&r&&(Sl||null===n||hl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[je]||a[De]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),td(a,r,n),a[De]=e,Ge(a),r=a;break e;case"link":var o=zd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[De]=e,Ge(a),r=a}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Ld(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Ud(i,e.type,e.stateNode):Ld(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ml(e),512&r&&(Sl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ml(e),512&r&&(Sl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(f){dc(e,e.return,f)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(El=!0);break;case 6:if(Rl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){dc(e,e.return,f)}}break;case 3:if(jd=null,i=Ol,Ol=Td(t.containerInfo),Rl(t,e),Ol=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{xh(t.containerInfo)}catch(f){dc(e,e.return,f)}El&&(El=!1,Fl(e));break;case 4:r=Ol,Ol=Td(e.stateNode.containerInfo),Rl(t,e),Ml(e),Ol=r;break;case 12:default:Rl(t,e),Ml(e);break;case 13:Rl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Eu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=wl,d=Sl;if(wl=c||i,Sl=d||u,Rl(t,e),Sl=d,wl=c,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||wl||Sl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){dc(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(f){dc(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Rl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),vl(e,gl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,gl(e),o);break;default:throw Error(s(161))}}catch(l){dc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),jl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:Ed(t.stateNode);case 26:case 5:hl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:zl(i,a,n),ol(4,a);break;case 1:if(zl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){dc(r,r.return,u)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(u){dc(r,r.return,u)}}n&&64&s&&ul(a),dl(a,a.return);break;case 27:bl(a);case 26:case 5:zl(i,a,n),n&&null===r&&4&s&&pl(a),dl(a,a.return);break;case 12:zl(i,a,n);break;case 13:zl(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&zl(i,a,n),dl(a,a.return);break;case 30:break;default:zl(i,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dc(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?$l(e,t,n,r):Hl(e,t):2&a._visibility?$l(e,t,n,r):(a._visibility|=2,Gl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(s,t);break;case 24:$l(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Gl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Gl(a,s,o,l,i),ol(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?Gl(a,s,o,l,i):Hl(a,s):(c._visibility|=2,Gl(a,s,o,l,i)),i&&2048&u&&Ul(s.alternate,s);break;case 24:Gl(a,s,o,l,i),i&&2048&u&&Bl(s.alternate,s);break;default:Gl(a,s,o,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===$d)throw Error(s(475));var r=$d;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Pd(n.href),a=e.querySelector(Ad(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ge(a);a=e.ownerDocument||e,n=Dd(n),(i=kd.get(i))&&Fd(n,i),Ge(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),td(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Ol;Ol=Td(e.stateNode.containerInfo),Wl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Il=r,eu(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Il=r,eu(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function eu(e,t){for(;null!==Il;){var n=Il;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Il=r;else e:for(n=e;null!==Il;){var i=(r=Il).sibling,a=r.return;if(Cl(r),r===n){Il=null;break e}if(null!==i){i.return=a,Il=i;break e}Il=a}}}var tu={getCacheForType:function(e){var t=Ci(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nu="function"===typeof WeakMap?WeakMap:Map,ru=0,iu=null,au=null,su=0,ou=0,lu=null,uu=!1,cu=!1,du=!1,hu=0,pu=0,fu=0,mu=0,gu=0,yu=0,vu=0,bu=null,wu=null,Su=!1,Eu=0,ku=1/0,Iu=null,Tu=null,Cu=0,_u=null,xu=null,Nu=0,Pu=0,Au=null,Du=null,Ru=0,Ou=null;function Lu(){if(0!==(2&ru)&&0!==su)return su&-su;if(null!==O.T){return 0!==Fi?Fi:Pc()}return Pe()}function Mu(){0===yu&&(yu=0===(536870912&su)||ai?Ee():536870912);var e=io.current;return null!==e&&(e.flags|=32),yu}function Fu(e,t,n){(e!==iu||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(qu(e,0),Uu(e,su,yu,!1)),Te(e,n),0!==(2&ru)&&e===iu||(e===iu&&(0===(2&ru)&&(mu|=n),4===pu&&Uu(e,su,yu,!1)),kc(e))}function Vu(e,t,n){if(0!==(6&ru))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=ru;ru|=2;var r=Hu(),i=Ku();iu!==e||su!==t?(Iu=null,ku=te()+500,qu(e,t)):cu=we(e,t);e:for(;;)try{if(0!==ou&&null!==au){t=au;var a=lu;t:switch(ou){case 1:ou=0,lu=null,ec(e,t,a,1);break;case 2:case 9:if(Qi(a)){ou=0,lu=null,Zu(t);break}t=function(){2!==ou&&9!==ou||iu!==e||(ou=7),kc(e)},a.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:Qi(a)?(ou=0,lu=null,Zu(t)):(ou=0,lu=null,ec(e,t,a,7));break;case 5:var o=null;switch(au.tag){case 26:o=au.memoizedState;case 5:case 27:var l=au;if(!o||Bd(o)){ou=0,lu=null;var u=l.sibling;if(null!==u)au=u;else{var c=l.return;null!==c?(au=c,tc(c)):au=null}break t}}ou=0,lu=null,ec(e,t,a,5);break;case 6:ou=0,lu=null,ec(e,t,a,6);break;case 8:$u(),pu=6;break e;default:throw Error(s(462))}}Xu();break}catch(d){Gu(e,d)}return vi=yi=null,O.H=r,O.A=i,ru=n,null!==au?0:(iu=null,su=0,xr(),pu)}(e,t):Qu(e,t,!0),a=r;;){if(0===i){cu&&!r&&Uu(e,t,0,!1);break}if(n=e.current.alternate,!a||zu(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=bu;var u=l.current.memoizedState.isDehydrated;if(u&&(qu(l,o).flags|=256),2!==(o=Qu(l,o,!1))){if(du&&!u){l.errorRecoveryDisabledLanes|=a,mu|=a,i=4;break e}a=wu,wu=i,null!==a&&(null===wu?wu=a:wu.push.apply(wu,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){qu(e,0),Uu(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uu(r,t,yu,!uu);break e;case 2:wu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Eu+300-te())){if(Uu(r,t,yu,!uu),0!==be(r,0,!0))break e;r.timeoutHandle=ud(ju.bind(null,r,n,wu,Iu,Su,t,yu,mu,vu,uu,a,2,-0,0),i)}else ju(r,n,wu,Iu,Su,t,yu,mu,vu,uu,a,0,-0,0)}break}i=Qu(e,t,!1),a=!1}kc(e)}function ju(e,t,n,r,i,a,o,l,u,c,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&($d={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===$d)throw Error(s(475));var e=$d;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(rc.bind(null,e,t,a,n,r,i,o,l,u,d,1,p,f)),void Uu(e,a,o,!c);rc(e,t,a,n,r,i,o,l,u)}function zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uu(e,t,n,r){t&=~gu,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ce(e,n,t)}function Bu(){return 0!==(6&ru)||(Ic(0,!1),!1)}function $u(){if(null!==au){if(0===ou)var e=au.return;else vi=yi=null,Fa(e=au),Qs=null,Ys=0,e=au;for(;null!==e;)sl(e.alternate,e),e=e.return;au=null}}function qu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$u(),iu=e,au=n=Vr(e.current,null),su=t,ou=0,lu=null,uu=!1,cu=we(e,t),du=!1,vu=yu=gu=mu=fu=pu=0,wu=bu=null,Su=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return hu=t,xr(),n}function Gu(e,t){ba=null,O.H=Gs,t===Gi||t===Ki?(t=Zi(),ou=3):t===Hi?(t=Zi(),ou=4):ou=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lu=t,null===au&&(pu=1,Eo(e,Ir(t,e.current)))}function Hu(){var e=O.H;return O.H=Gs,null===e?Gs:e}function Ku(){var e=O.A;return O.A=tu,e}function Wu(){pu=4,uu||(4194048&su)!==su&&null!==io.current||(cu=!0),0===(134217727&fu)&&0===(134217727&mu)||null===iu||Uu(iu,su,yu,!1)}function Qu(e,t,n){var r=ru;ru|=2;var i=Hu(),a=Ku();iu===e&&su===t||(Iu=null,qu(e,t)),t=!1;var s=pu;e:for(;;)try{if(0!==ou&&null!==au){var o=au,l=lu;switch(ou){case 8:$u(),s=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var u=ou;if(ou=0,lu=null,ec(e,o,l,u),n&&cu){s=0;break e}break;default:u=ou,ou=0,lu=null,ec(e,o,l,u)}}Yu(),s=pu;break}catch(c){Gu(e,c)}return t&&e.shellSuspendCounter++,vi=yi=null,ru=r,O.H=i,O.A=a,null===au&&(iu=null,su=0,xr()),s}function Yu(){for(;null!==au;)Ju(au)}function Xu(){for(;null!==au&&!Z();)Ju(au)}function Ju(e){var t=Jo(e.alternate,e,hu);e.memoizedProps=e.pendingProps,null===t?tc(e):au=t}function Zu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fo(n,t,t.pendingProps,t.type,void 0,su);break;case 11:t=Fo(n,t,t.pendingProps,t.type.render,t.ref,su);break;case 5:Fa(t);default:sl(n,t),t=Jo(n,t=au=jr(t,hu),hu)}e.memoizedProps=e.pendingProps,null===t?tc(e):au=t}function ec(e,t,n,r){vi=yi=null,Fa(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===ao?Wu():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hc(e,r,i)),!1;case 22:return n.flags|=65536,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hc(e,r,i)),!1}throw Error(s(435,n.tag))}return hc(e,r,i),Wu(),!1}if(ai)return null!==(t=io.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Ir(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Ir(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Ir(r,n),oa(e,i=Io(e.stateNode,r,i)),4!==pu&&(pu=2)),!1;var a=Error(s(520),{cause:r});if(a=Ir(a,n),null===bu?bu=[a]:bu.push(a),4!==pu&&(pu=2),null===t)return!0;r=Ir(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Tu||!Tu.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Co(i=To(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,su))return pu=1,Eo(e,Ir(n,e.current)),void(au=null)}catch(a){if(null!==i)throw au=i,a;return pu=1,Eo(e,Ir(n,e.current)),void(au=null)}32768&t.flags?(ai||1===r?e=!0:cu||0!==(536870912&su)?e=!1:(uu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=io.current)&&13===r.tag&&(r.flags|=16384))),nc(t,e)):tc(t)}function tc(e){var t=e;do{if(0!==(32768&t.flags))return void nc(t,uu);e=t.return;var n=il(t.alternate,t,hu);if(null!==n)return void(au=n);if(null!==(t=t.sibling))return void(au=t);au=t=e}while(null!==t);0===pu&&(pu=5)}function nc(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(au=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(au=e);au=e=n}while(null!==e);pu=6,au=null}function rc(e,t,n,r,i,a,o,l,u){e.cancelPendingCommit=null;do{lc()}while(0!==Cu);if(0!==(6&ru))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-pe(n),d=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=_r,o,l,u),e===iu&&(au=iu=null,su=0),xu=t,_u=e,Nu=n,Pu=a,Au=i,Du=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ae,function(){return uc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,o=ru,ru|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=o),p===a&&++d===r&&(u=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,Il=t;null!==Il;)if(e=(t=Il).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Il=e;else for(;null!==Il;){switch(a=(t=Il).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=yo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){dc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Il=e;break}Il=t.return}}(e,t)}finally{ru=o,L.p=i,O.T=r}}Cu=1,ic(),ac(),sc()}}function ic(){if(1===Cu){Cu=0;var e=_u,t=xu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=ru;ru|=4;try{Ll(t,e);var a=rd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{ru=i,L.p=r,O.T=n}}e.current=t,Cu=2}}function ac(){if(2===Cu){Cu=0;var e=_u,t=xu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=ru;ru|=4;try{Tl(e,t.alternate,t)}finally{ru=i,L.p=r,O.T=n}}Cu=3}}function sc(){if(4===Cu||3===Cu){Cu=0,ee();var e=_u,t=xu,n=Nu,r=Du;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cu=5:(Cu=0,xu=_u=null,oc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tu=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{O.T=t,L.p=i}}0!==(3&Nu)&&lc(),kc(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Ou?Ru++:(Ru=0,Ou=e):Ru=0,Ic(0,!1)}}function oc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function lc(e){return ic(),ac(),sc(),uc()}function uc(){if(5!==Cu)return!1;var e=_u,t=Pu;Pu=0;var n=Ne(Nu),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Au,Au=null;var a=_u,o=Nu;if(Cu=0,xu=_u=null,Nu=0,0!==(6&ru))throw Error(s(331));var l=ru;if(ru|=4,Jl(a.current),ql(a,a.current,o,n),ru=l,Ic(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,a)}catch(u){}return!0}finally{L.p=i,O.T=r,oc(e,t)}}function cc(e,t,n){t=Ir(n,t),null!==(e=aa(e,t=Io(e.stateNode,t,2),2))&&(Te(e,2),kc(e))}function dc(e,t,n){if(3===e.tag)cc(e,e,n);else for(;null!==t;){if(3===t.tag){cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Tu||!Tu.has(r))){e=Ir(n,e),null!==(r=aa(t,n=To(2),2))&&(Co(n,r,t,e),Te(r,2),kc(r));break}}t=t.return}}function hc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(du=!0,i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(su&n)===n&&(4===pu||3===pu&&(62914560&su)===su&&300>te()-Eu?0===(2&ru)&&qu(e,0):gu|=n,vu===su&&(vu=0)),kc(e)}function fc(e,t){0===t&&(t=ke()),null!==(e=Ar(e,t))&&(Te(e,t),kc(e))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fc(e,n)}var yc=null,vc=null,bc=!1,wc=!1,Sc=!1,Ec=0;function kc(e){e!==vc&&null===e.next&&(null===vc?yc=vc=e:vc=vc.next=e),wc=!0,bc||(bc=!0,hd(function(){0!==(6&ru)?X(re,Tc):Cc()}))}function Ic(e,t){if(!Sc&&wc){Sc=!0;do{for(var n=!1,r=yc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Nc(r,a))}else a=su,0===(3&(a=be(r,r===iu?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Nc(r,a));r=r.next}}while(n);Sc=!1}}function Tc(){Cc()}function Cc(){wc=bc=!1;var e=0;0!==Ec&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Ec),Ec=0);for(var t=te(),n=null,r=yc;null!==r;){var i=r.next,a=_c(r,t);0===a?(r.next=null,null===n?yc=i:n.next=i,null===i&&(vc=n)):(n=r,(0!==e||0!==(3&a))&&(wc=!0)),r=i}Ic(e,!1)}function _c(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Se(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=su,n=be(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=xc.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function xc(e,t){if(0!==Cu&&5!==Cu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=su;return 0===(r=be(e,e===iu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Vu(e,r,t),_c(e,te()),null!=e.callbackNode&&e.callbackNode===n?xc.bind(null,e):null)}function Nc(e,t){if(lc())return null;Vu(e,t,!0)}function Pc(){return 0===Ec&&(Ec=Ee()),Ec}function Ac(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Dc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Rc=0;Rc<Sr.length;Rc++){var Oc=Sr[Rc];Er(Oc.toLowerCase(),"on"+(Oc[0].toUpperCase()+Oc.slice(1)))}Er(pr,"onAnimationEnd"),Er(fr,"onAnimationIteration"),Er(mr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(gr,"onTransitionRun"),Er(yr,"onTransitionStart"),Er(vr,"onTransitionCancel"),Er(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function Fc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){vo(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){vo(c)}i.currentTarget=null,a=l}}}}function Vc(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function jc(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Uc(e){if(!e[zc]){e[zc]=!0,He.forEach(function(t){"selectionchange"!==t&&(Mc.has(t)||jc(t,!1,e),jc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zc]||(t[zc]=!0,jc("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(ch(t)){case 2:var i=ih;break;case 8:i=ah;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $c(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Ue(o)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=a=s;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=a,i=At(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var u=Zt,c=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=sn;break;case"focusout":c="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case pr:case fr:case mr:u=on;break;case br:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ft(m,p))&&d.push(qc(m,g,f)),h)break;m=m.return}0<d.length&&(o=new u(o,c,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Ue(c)&&!c[Oe])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ue(c):null)&&(h=l(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==u?o:$e(u),f=null==c?o:$e(c),(o=new d(g,m+"leave",u,n,i)).target=h,o.relatedTarget=f,g=null,Ue(i)===r&&((d=new d(p,m+"enter",c,n,i)).target=f,d.relatedTarget=h,g=d),h=g,u&&c)e:{for(p=c,m=0,f=d=u;f;f=Hc(f))m++;for(f=0,g=p;g;g=Hc(g))f++;for(;0<m-f;)d=Hc(d),m--;for(;0<f-m;)p=Hc(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hc(d),p=Hc(p)}d=null}else d=null;null!==u&&Kc(s,o,u,d,!1),null!==c&&null!==h&&Kc(s,h,c,d,!0)}if("select"===(u=(o=r?$e(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var y=Vn;else if(Dn(o))if(jn)y=Wn;else{y=Hn;var v=Gn}else!(u=o.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(y=Vn):y=Kn;switch(y&&(y=y(e,r))?Rn(s,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?$e(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?xn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=qt()):(Bt="value"in(Ut=i)?Ut.value:Ut.textContent,Pn=!0)),0<(v=Gc(r,w)).length&&(w=new un(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=Nn(n))&&(w.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(_n=!0,Cn);case"textInput":return(e=t.data)===Cn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!En&&xn(e,t)?(e=qt(),$t=Bt=Ut=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Gc(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Ac((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Ac(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ec){var e=s?Dc(i,s):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Dc(i,s):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Fc(s,t)})}function qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(qc(e,i,a)),null!=(i=Ft(e,t))&&r.push(qc(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Hc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=Ft(n,a))&&s.unshift(qc(n,u,l)):i||null!=(u=Ft(n,a))&&s.push(qc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wc=/\r\n?/g,Qc=/\u0000|\uFFFD/g;function Yc(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace(Qc,"")}function Xc(e,t){return t=Yc(t),Yc(e)===t}function Jc(){}function Zc(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zc(e,t,"name",i.name,i,null),Zc(e,t,"formEncType",i.formEncType,i,null),Zc(e,t,"formMethod",i.formMethod,i,null),Zc(e,t,"formTarget",i.formTarget,i,null)):(Zc(e,t,"encType",i.encType,i,null),Zc(e,t,"method",i.method,i,null),Zc(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"onScroll":null!=r&&Vc("scroll",e);break;case"onScrollEnd":null!=r&&Vc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Vc("beforetoggle",e),Vc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function ed(e,t,n,r,i,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Vc("scroll",e);break;case"onScrollEnd":null!=r&&Vc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vc("error",e),Vc("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,r,o,n,null)}}return a&&Zc(e,t,"srcSet",n.srcSet,n,null),void(i&&Zc(e,t,"src",n.src,n,null));case"input":Vc("invalid",e);var l=r=o=a=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zc(e,t,i,d,n,null)}}return yt(e,r,l,u,c,o,a,!1),void dt(e);case"select":for(a in Vc("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zc(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Vc("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zc(e,t,o,l,n,null)}return St(e,i,a,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zc(e,t,u,i,n,null);return;case"dialog":Vc("beforetoggle",e),Vc("toggle",e),Vc("cancel",e),Vc("close",e);break;case"iframe":case"object":Vc("load",e);break;case"video":case"audio":for(i=0;i<Lc.length;i++)Vc(Lc[i],e);break;case"image":Vc("error",e),Vc("load",e);break;case"details":Vc("toggle",e);break;case"embed":case"source":case"link":Vc("error",e),Vc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,c,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zc(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var ud="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Ed(s.documentElement),2&n&&Ed(s.body),4&n)for(Ed(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[je]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void xh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);xh(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var kd=new Map,Id=new Set;function Td(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=L.d;L.d={f:function(){var e=Cd.f(),t=Bu();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Rs(t):Cd.r(e)},D:function(e){Cd.D(e),xd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),xd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=_d;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Pd(e);break;case"script":a=Rd(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Od(a))||(td(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=_d;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Rd(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(a)))return}td(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=_d;if(n&&e){var r=qe(n).hoistableScripts,i=Rd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Vd(e,t),Ge(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=_d;if(r&&e){var i=qe(r).hoistableStyles,a=Pd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Fd(e,n);var l=s=r.createElement("link");Ge(l),td(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Md(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Cd.M(e,t);var n=_d;if(n&&e){var r=qe(n).hoistableScripts,i=Rd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Vd(e,t),Ge(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var _d="undefined"===typeof document?null:document;function xd(e,t,n){var r=_d;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Id.has(i)||(Id.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var i,a,o,l,u=(u=q.current)?Td(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=qe(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var c=qe(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ad(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),c||(i=u,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),td(a,"link",o),Ge(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(n),(r=(n=qe(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Pd(n.href);var a=e.querySelector(Ad(i));if(a)return t.state.loading|=4,t.instance=a,Ge(a),a;r=Dd(n),(i=kd.get(i))&&Fd(r,i),Ge(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),td(a,"link",r),t.state.loading|=4,Md(a,n.precedence,e),t.instance=a;case"script":return a=Rd(n.src),(i=e.querySelector(Od(a)))?(t.instance=i,Ge(i),i):(r=n,(i=kd.get(a))&&Vd(r=h({},n),i),Ge(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Vd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function zd(e,t,n){if(null===jd){var r=new Map,i=jd=new Map;i.set(n,r)}else(r=(i=jd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[je]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $d=null;function qd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Wd,e),Hd=null,Gd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Gd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:S,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Yd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,a,s,o,l,u,c,d){return e=new Yd(e,t,n,s,o,l,u,d),t=1,!0===a&&(t|=24),a=Mr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Jd(e){return e?e=Or:Or}function Zd(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Fu(n,0,t),sa(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Fu(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=2,sh(e,t,n,r)}finally{L.p=a,O.T=i}}function ah(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=8,sh(e,t,n,r)}finally{L.p=a,O.T=i}}function sh(e,t,n,r){if(rh){var i=oh(r);if(null===i)$c(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,i),!0;case"dragenter":return ph=wh(ph,e,t,n,r,i),!0;case"mouseover":return fh=wh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mh.set(a,wh(mh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gh.set(a,wh(gh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=Be(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ve(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}kc(a),0===(6&ru)&&(ku=te()+500,Ic(0,!1))}}break;case 13:null!==(o=Ar(a,2))&&Fu(o,0,2),Bu(),th(a,2)}if(null===(a=oh(r))&&$c(e,t,r,lh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else $c(e,t,r,null,n)}}function oh(e){return uh(e=At(e))}var lh=null;function uh(e){if(lh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,ph=null,fh=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function wh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Sh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Lu();e=xe(e);var t=Ar(n,e);null!==t&&Fu(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Eh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function kh(e,t,n){Eh(e)&&n.delete(t)}function Ih(){dh=!1,null!==hh&&Eh(hh)&&(hh=null),null!==ph&&Eh(ph)&&(ph=null),null!==fh&&Eh(fh)&&(fh=null),mh.forEach(kh),gh.forEach(kh)}function Th(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ih)))}var Ch=null;function _h(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===uh(r||n))continue;break}var a=Be(n);null!==a&&(e.splice(t,3),t-=3,Ps(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function xh(e){function t(t){return Th(t,e)}null!==hh&&Th(hh,e),null!==ph&&Th(ph,e),null!==fh&&Th(fh,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)Sh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Re]||null;if("function"===typeof a)s||_h(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Re]||null)o=s.formAction;else if(null!==uh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_h(n)}}}function Nh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Nh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Lu(),e,t,null,null)},Ph.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bu(),t[Oe]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&Sh(e)}};var Ah=i.version;if("19.1.0"!==Ah)throw Error(s(527,Ah,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return c(i),e;if(a===r)return c(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Dh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ce=Rh.inject(Dh),de=Rh}catch(Lh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=bo,a=wo,l=So;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Oe]=t.current,Uc(e),new Nh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=bo,l=wo,u=So,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Xd(e,1,!0,t,0,r,i,a,l,u,0,c)).context=Jd(null),n=t.current,(i=ia(r=xe(r=Lu()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Te(t,n),kc(t),e[Oe]=t.current,Uc(e),new Ph(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function I(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(){}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case h:return N((c=e._init)(e._payload),t,i,a,s)}}if(c)return s=s(e),c=""===a?"."+_(e,0):a,S(s)?(i="",null!=c&&(i=c.replace(C,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,u=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+c,s=I(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,f=""===a?".":a+":";if(S(e))for(var m=0;m<e.length;m++)c+=N(a=e[m],t,i,o=f+_(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,o=f+_(a,m++),s);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return I(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return I(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,D)}catch(a){D(a)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=E.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,I||(I=!0,k());else{var t=r(c);null!==t&&D(E,t.startTime-e)}}var k,I=!1,T=-1,C=5,_=-1;function x(){return!!y||!(t.unstable_now()-_<C)}function N(){if(y=!1,I){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(T),T=-1),f=!0;var a=p;try{t:{for(S(e),h=r(u);null!==h&&!(h.expirationTime>e&&x());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,S(e),n=!0;break t}h===r(u)&&i(u),S(e)}else i(u);h=r(u)}if(null!==h)n=!0;else{var l=r(c);null!==l&&D(E,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?k():I=!1}}}if("function"===typeof w)k=function(){w(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=N,k=function(){A.postMessage(null)}}else k=function(){v(N,0)};function D(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(b(T),T=-1):g=!0,D(E,a-s))):(e.sortIndex=o,n(u,e),m||f||(m=!0,I||(I=!0,k()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5d6bc61a.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="pokemon-tracker:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],u=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpokemon_tracker=self.webpackChunkpokemon_tracker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391),a="popstate";function s(){return p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",d=null,h=p();function p(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=p(),t=null==e?null:e-h;h=e,d&&d({action:l,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return l},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=c(y.location,e,t);n&&n(r,e),h=p()+1;let a=u(r,h),f=y.createHref(r);try{o.pushState(a,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(f)}s&&d&&d({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let r=c(y.location,e,t);n&&n(r,e),h=p();let i=u(r,h),a=y.createHref(r);o.replaceState(i,"",a),s&&d&&d({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let i=A(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=P(i);s=_(a[o],e,r)}return s}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=M([r,s.relativePath]),u=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),y(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))i(e,t,n);else i(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=v(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var b=/^:[\w-]+$/,w=3,S=2,E=1,k=10,I=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=I),t&&(r+=S),n.filter(e=>!T(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?E:k),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:M([a,c.pathname]),pathnameBase:F(M([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=M([a,c.pathnameBase]))}return s}function x(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e){let t=R(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function L(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let a,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:V(r),hash:j(i)}}(r,a),c=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!d||(u.pathname+="/"),u}var M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],B=(new Set(U),["GET",...U]);new Set(B),Symbol("ResetLoaderData");var $=r.createContext(null);$.displayName="DataRouter";var q=r.createContext(null);q.displayName="DataRouterState";var G=r.createContext(!1);var H=r.createContext({isTransitioning:!1});H.displayName="ViewTransition";var K=r.createContext(new Map);K.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var Q=r.createContext(null);Q.displayName="Navigation";var Y=r.createContext(null);Y.displayName="Location";var X=r.createContext({outlet:null,matches:[],isDataRoute:!1});X.displayName="Route";var J=r.createContext(null);J.displayName="RouteError";function Z(){return null!=r.useContext(Y)}function ee(){return o(Z(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(Y).location}var te="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ne(e){r.useContext(Q).static||r.useLayoutEffect(e)}function re(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=pe("useNavigate"),t=me("useNavigate"),n=r.useRef(!1);ne(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,te),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t]);return i}():function(){o(Z(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext($),{basename:t,navigator:n}=r.useContext(Q),{matches:i}=r.useContext(X),{pathname:a}=ee(),s=JSON.stringify(O(i)),u=r.useRef(!1);ne(()=>{u.current=!0});let c=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(u.current,te),!u.current)return;if("number"===typeof r)return void n.go(r);let o=L(r,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(i.replace?n.replace:n.push)(o,i.state,i)},[t,n,s,a,e]);return c}()}r.createContext(null);function ie(){let{matches:e}=r.useContext(X),t=e[e.length-1];return t?t.params:{}}function ae(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(X),{pathname:i}=ee(),a=JSON.stringify(O(n));return r.useMemo(()=>L(e,JSON.parse(a),i,"path"===t),[e,a,i,t])}function se(e,t,n,i){o(Z(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=r.useContext(Q),{matches:s}=r.useContext(X),u=s[s.length-1],c=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",f=u&&u.route;{let e=f&&f.path||"";ve(d,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=ee();if(t){let e="string"===typeof t?h(t):t;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=m(e,{pathname:b});l(f||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=de(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:M([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,i);return t&&S?r.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function oe(){let e=ge(),t=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,o)}var le=r.createElement(oe,null),ue=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext($);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},i)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,o,u)=>{let c,d=!1,h=null,p=null;n&&(c=a&&o.route.id?a[o.route.id]:void 0,h=o.route.errorElement||le,s&&(l<0&&0===u?(ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=o.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,u+1)),m=()=>{let t;return t=c?h:d?p:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ce,{match:o,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?r.createElement(ue,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}function he(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pe(e){let t=r.useContext($);return o(t,he(e)),t}function fe(e){let t=r.useContext(q);return o(t,he(e)),t}function me(e){let t=function(e){let t=r.useContext(X);return o(t,he(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ge(){let e=r.useContext(J),t=fe("useRouteError"),n=me("useRouteError");return void 0!==e?e:t.errors?.[n]}var ye={};function ve(e,t,n){t||ye[e]||(ye[e]=!0,l(!1,n))}var be={};function we(e,t){e||be[t]||(be[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return se(t,void 0,r,n)});function Se(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ee(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:u=!1}=e;o(!Z(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:c,navigator:s,static:u,future:{}}),[c,s,u]);"string"===typeof i&&(i=h(i));let{pathname:p="/",search:f="",hash:m="",state:g=null,key:y="default"}=i,v=r.useMemo(()=>{let e=A(p,c);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:y},navigationType:a}},[c,p,f,m,g,y,a]);return l(null!=v,`<Router basename="${c}"> is not able to match the URL "${p}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(Q.Provider,{value:d},r.createElement(Y.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:n}=e;return se(Ie(t),n)}r.Component;function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ie(e.props.children,a));o(e.type===Se,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ie(e.props.children,a)),n.push(s)}),n}var Te="get",Ce="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}var xe=null;var Ne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pe(e){return null==e||Ne.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ce}"`),null)}function Ae(e,t){let n,r,i,a,s;if(_e(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?A(s,t):null,n=e.getAttribute("method")||Te,i=Pe(e.getAttribute("enctype"))||Ce,a=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?A(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Te,i=Pe(e.getAttribute("formenctype"))||Pe(s.getAttribute("enctype"))||Ce,a=new FormData(s,e),!function(){if(null===xe)try{new FormData(document.createElement("form"),0),xe=!1}catch(e){xe=!0}return xe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Te,r=null,i=Ce,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function De(e){return{__html:e}}function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Oe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===A(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Le(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Fe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ve(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function ze(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Me(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function Be(){let e=r.useContext($);return Re(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=r.useContext(q);return Re(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qe=r.createContext(void 0);function Ge(){let e=r.useContext(qe);return Re(e,"You must render this element inside a <HydratedRouter> element"),e}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Xe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}qe.displayName="FrameworkContext";function We(e){let{page:t,...n}=e,{router:i}=Be(),a=r.useMemo(()=>m(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?r.createElement(Ye,{page:t,matches:a,...n}):null}function Qe(e){let{manifest:t,routeModules:n}=Ge(),[i,a]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return ze((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Le(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Fe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),i}function Ye(e){let{page:t,matches:n,...i}=e,a=ee(),{manifest:s,routeModules:o}=Ge(),{basename:l}=Be(),{loaderData:u,matches:c}=$e(),d=r.useMemo(()=>Ve(t,n,c,s,a,"data"),[t,n,c,s,a]),h=r.useMemo(()=>Ve(t,n,c,s,a,"assets"),[t,n,c,s,a]),p=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{let n=s.routes[t.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===t.route.id)&&t.route.id in u&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Oe(t,l,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,u,a,s,d,n,t,o]),f=r.useMemo(()=>je(h,s),[h,s]),m=Qe(h);return r.createElement(r.Fragment,null,p.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i})),f.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i})),m.map(e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})}))}var Xe=!1;function Je(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:o}=Ge(),{router:l,static:u,staticContext:c}=Be(),{matches:d}=$e(),h=r.useContext(G),p=Ue(s,o);a&&(a.didRenderScripts=!0);let f=Ke(d,null,i);r.useEffect(()=>{Xe=!0},[]);let g=r.useMemo(()=>{if(h)return null;let i=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=u?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(t.url)}`};\n${f.map((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Re(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:u}=i,c=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:u,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(u)};`:[c.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${c.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push(`/${a.join("/")}`),a.pop();s.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(t,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(a),type:"module",async:!0}))},[]),y=Xe||h?[]:(v=t.entry.imports.concat(je(f,t,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let b="object"===typeof t.sri?t.sri:{};return we(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Xe||h?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,p?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),g)}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function et(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(t))return r.createElement(tt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(tt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function tt(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=Ge();return s.root?.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,n?r.createElement(Je,null):null)))}var nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{nt&&(window.__reactRouterVersion="7.7.0")}catch(US){}function rt(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,u]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{r.startTransition(()=>u(e))},[u]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(Ee,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var it=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=r.forwardRef(function(e,t){let n,{onClick:i,discover:a="render",prefetch:s="none",relative:u,reloadDocument:c,replace:h,state:p,target:f,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=r.useContext(Q),w="string"===typeof m&&it.test(m),S=!1;if("string"===typeof m&&w&&(n=m,nt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=A(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:S=!0}catch(US){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Z(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(Q),{hash:a,pathname:s,search:l}=ae(e,{relative:t}),u=s;return"/"!==n&&(u="/"===s?n:M([n,s])),i.createHref({pathname:u,search:l,hash:a})}(m,{relative:u}),[k,I,T]=function(e,t){let n=r.useContext(qe),[i,a]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:He(l,f),onBlur:He(u,m),onMouseEnter:He(c,f),onMouseLeave:He(d,m),onTouchStart:He(h,f)}]:[!1,p,{}]}(s,v),C=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),u=ee(),c=ae(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(u)===d(c);l(e,{replace:t,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,t,e,a,s,o])}(m,{replace:h,state:p,target:f,preventScrollReset:g,relative:u,viewTransition:y});let _=r.createElement("a",{...v,...T,href:n||E,onClick:S||c?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:Ze(t,I),target:f,"data-discover":w||"render"!==a?void 0:"true"});return k&&!w?r.createElement(r.Fragment,null,_,r.createElement(We,{page:E})):_});at.displayName="Link";var st=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:c,children:d,...h}=e,p=ae(u,{relative:h.relative}),f=ee(),m=r.useContext(q),{navigator:g,basename:y}=r.useContext(Q),v=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(H);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ut("useViewTransitionState"),a=ae(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=A(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=A(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=x(a.pathname,l)||null!=x(a.pathname,s)}(p)&&!0===c,b=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=f.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&y&&(S=A(S,y)||S);const E="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,I=w===b||!s&&w.startsWith(b)&&"/"===w.charAt(E),T=null!=S&&(S===b||!s&&S.startsWith(b)&&"/"===S.charAt(b.length)),C={isActive:I,isPending:T,isTransitioning:v},_=I?n:void 0;k="function"===typeof a?a(C):[a,I?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(C):l;return r.createElement(at,{...h,"aria-current":_,className:k,ref:t,style:N,to:u,viewTransition:c},"function"===typeof d?d(C):d)});st.displayName="NavLink";var ot=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:u,method:c=Te,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g,...y}=e,v=ht(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(Q),i=r.useContext(X);o(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...ae(e||".",{relative:t})},l=ee();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname]));return d(s)}(h,{relative:f}),w="get"===c.toLowerCase()?"get":"post",S="string"===typeof h&&it.test(h);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:f,preventScrollReset:m,viewTransition:g})},...y,"data-discover":S||"render"!==n?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ut(e){let t=r.useContext($);return o(t,lt(e)),t}ot.displayName="Form";var ct=0,dt=()=>`__${String(++ct)}__`;function ht(){let{router:e}=ut("useSubmit"),{basename:t}=r.useContext(Q),n=me("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:u}=Ae(r,t);if(!1===i.navigate){let t=i.fetcherKey||dt();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const pt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new mt;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gt=function(e){return function(e){const t=pt(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yt=function(e){try{return ft.decodeString(e,!0)}catch(US){console.error("base64Decode failed: ",US)}return null};const vt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,bt=()=>{try{return vt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(US){return}const t=e&&yt(e[1]);return t&&JSON.parse(t)})()}catch(US){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${US}`)}},wt=e=>{var t,n;return null===(n=null===(t=bt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},St=()=>{var e;return null===(e=bt())||void 0===e?void 0:e.config},Et=e=>{var t;return null===(t=bt())||void 0===t?void 0:t[`_${e}`]};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function It(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Tt(){return!function(){var e;const t=null===(e=bt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(US){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ct(){try{return"object"===typeof indexedDB}catch(US){return!1}}class _t extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Nt,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new _t(n,a,t)}}const Nt=/\{\$([^}]+)}/g;function Pt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(At(n)&&At(a)){if(!Pt(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function At(e){return null!==e&&"object"===typeof e}function Dt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ot(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Mt),void 0===r.error&&(r.error=Mt),void 0===r.complete&&(r.complete=Mt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(US){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(US){"undefined"!==typeof console&&console.error&&console.error(US)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mt(){}function Ft(e){return e&&e._delegate?e._delegate:e}class Vt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jt="[DEFAULT]";class zt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(US){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(US){if(r)return null;throw US}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jt})}catch(US){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(US){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===jt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.component?this.component.multipleInstances?e:jt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bt=[];var $t;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($t||($t={}));const qt={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Gt=$t.INFO,Ht={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},Kt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ht[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Wt{constructor(e){this.name=e,this._logLevel=Gt,this._logHandler=Kt,this._userLogHandler=null,Bt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}let Qt,Yt;const Xt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap;let nn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function rn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(on(this),n),sn(Xt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(e.apply(on(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(on(this),t,...r);return Zt.set(a,t.sort?t.sort():[t]),sn(a)}}function an(e){return"function"===typeof e?rn(e):(e instanceof IDBTransaction&&function(e){if(Jt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Jt.set(e,t)}(e),t=e,(Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,nn):e);var t}function sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(sn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Xt.set(t,e)}).catch(()=>{}),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);const t=an(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}const on=e=>tn.get(e);const ln=["get","getKey","getAll","getAllKeys","count"],un=["put","add","delete","clear"],cn=new Map;function dn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cn.get(t))return cn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=un.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ln.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return cn.set(t,a),a}nn=(e=>({...e,get:(t,n,r)=>dn(t,n)||e.get(t,n,r),has:(t,n)=>!!dn(t,n)||e.has(t,n)}))(nn);class hn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const pn="@firebase/app",fn="0.9.13",mn=new Wt("@firebase/app"),gn="@firebase/app-compat",yn="@firebase/analytics-compat",vn="@firebase/analytics",bn="@firebase/app-check-compat",wn="@firebase/app-check",Sn="@firebase/auth",En="@firebase/auth-compat",kn="@firebase/database",In="@firebase/database-compat",Tn="@firebase/functions",Cn="@firebase/functions-compat",_n="@firebase/installations",xn="@firebase/installations-compat",Nn="@firebase/messaging",Pn="@firebase/messaging-compat",An="@firebase/performance",Dn="@firebase/performance-compat",Rn="@firebase/remote-config",On="@firebase/remote-config-compat",Ln="@firebase/storage",Mn="@firebase/storage-compat",Fn="@firebase/firestore",Vn="@firebase/firestore-compat",jn="firebase",zn="[DEFAULT]",Un={[pn]:"fire-core",[gn]:"fire-core-compat",[vn]:"fire-analytics",[yn]:"fire-analytics-compat",[wn]:"fire-app-check",[bn]:"fire-app-check-compat",[Sn]:"fire-auth",[En]:"fire-auth-compat",[kn]:"fire-rtdb",[In]:"fire-rtdb-compat",[Tn]:"fire-fn",[Cn]:"fire-fn-compat",[_n]:"fire-iid",[xn]:"fire-iid-compat",[Nn]:"fire-fcm",[Pn]:"fire-fcm-compat",[An]:"fire-perf",[Dn]:"fire-perf-compat",[Rn]:"fire-rc",[On]:"fire-rc-compat",[Ln]:"fire-gcs",[Mn]:"fire-gcs-compat",[Fn]:"fire-fst",[Vn]:"fire-fst-compat","fire-js":"fire-js",[jn]:"fire-js-all"},Bn=new Map,$n=new Map;function qn(e,t){try{e.container.addComponent(t)}catch(US){mn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,US)}}function Gn(e){const t=e.name;if($n.has(t))return mn.debug(`There were multiple attempts to register component ${t}.`),!1;$n.set(t,e);for(const n of Bn.values())qn(n,e);return!0}function Hn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Kn=new xt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Qn="9.23.0";function Yn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:zn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=St()),!n)throw Kn.create("no-options");const a=Bn.get(i);if(a){if(Pt(n,a.options)&&Pt(r,a.config))return a;throw Kn.create("duplicate-app",{appName:i})}const s=new Ut(i);for(const l of $n.values())s.addComponent(l);const o=new Wn(n,r,s);return Bn.set(i,o),o}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;const t=Bn.get(e);if(!t&&e===zn&&St())return Yn();if(!t)throw Kn.create("no-app",{appName:e});return t}function Jn(e,t,n){var r;let i=null!==(r=Un[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void mn.warn(e.join(" "))}Gn(new Vt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Zn="firebase-heartbeat-store";let er=null;function tr(){return er||(er=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=sn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(sn(s.result),e.oldVersion,e.newVersion,sn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Zn)}}).catch(e=>{throw Kn.create("idb-open",{originalErrorMessage:e.message})})),er}async function nr(e,t){try{const n=(await tr()).transaction(Zn,"readwrite"),r=n.objectStore(Zn);await r.put(t,rr(e)),await n.done}catch(US){if(US instanceof _t)mn.warn(US.message);else{const t=Kn.create("idb-set",{originalErrorMessage:null===US||void 0===US?void 0:US.message});mn.warn(t.message)}}}function rr(e){return`${e.name}!${e.options.appId}`}class ir{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ar();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ar(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),or(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),or(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=gt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ar(){return(new Date).toISOString().substring(0,10)}class sr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ct()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await tr();return await t.transaction(Zn).objectStore(Zn).get(rr(e))}catch(US){if(US instanceof _t)mn.warn(US.message);else{const t=Kn.create("idb-get",{originalErrorMessage:null===US||void 0===US?void 0:US.message});mn.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function or(e){return gt(JSON.stringify({version:2,heartbeats:e})).length}var lr;lr="",Gn(new Vt("platform-logger",e=>new hn(e),"PRIVATE")),Gn(new Vt("heartbeat",e=>new ir(e),"PRIVATE")),Jn(pn,fn,lr),Jn(pn,fn,"esm2017"),Jn("fire-js","");Jn("firebase","9.23.0","app");function ur(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function cr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dr=cr,hr=new xt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pr=new Wt("@firebase/auth");function fr(e){if(pr.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pr.error(`Auth (${Qn}): ${e}`,...n)}}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw br(e,...n)}function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return br(e,...n)}function yr(e,t,n){const r=Object.assign(Object.assign({},dr()),{[t]:n});return new xt("auth","Firebase",r).create(t,{appName:e.name})}function vr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mr(e,"argument-error"),yr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return hr.create(e,...n)}function wr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw br(t,...r)}}function Sr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fr(t),new Error(t)}function Er(e,t){e||Sr(t)}function kr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ir(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Cr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ir()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class _r{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Cr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xr(e,t){Er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Nr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ar=new _r(3e4,6e4);function Dr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rr(e,t,n,r){return Or(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=Dt(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Nr.fetch()(Mr(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function Or(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pr),t);try{const t=new Fr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Vr(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vr(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Vr(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Vr(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yr(e,o,s);mr(e,o)}}catch(US){if(US instanceof _t)throw US;mr(e,"network-request-failed",{message:String(US)})}}async function Lr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Rr(e,t,n,r,i);return"mfaPendingCredential"in a&&mr(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Mr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?xr(e.config,i):`${e.config.apiScheme}://${i}`}class Fr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(gr(this.auth,"network-request-failed")),Ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(e,t,r);return i.customData._tokenResponse=n,i}function jr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(US){}}function zr(e){return 1e3*Number(e)}function Ur(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return fr("JWT malformed, contained fewer than 3 sections"),null;try{const e=yt(n);return e?JSON.parse(e):(fr("Failed to decode base64 JWT payload"),null)}catch(US){return fr("Caught error parsing JWT payload as JSON",null===US||void 0===US?void 0:US.toString()),null}}async function Br(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(US){throw US instanceof _t&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(US)&&e.auth.currentUser===e&&await e.auth.signOut(),US}}class $r{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(US){return void("auth/network-request-failed"===(null===US||void 0===US?void 0:US.code)&&this.schedule(!0))}this.schedule()}}class qr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Br(e,async function(e,t){return Rr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));wr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,n=ur(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,u=s,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!c&&d,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new qr(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wr(e.idToken,"internal-error"),wr("undefined"!==typeof e.idToken,"internal-error"),wr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ur(e);return wr(t,"internal-error"),wr("undefined"!==typeof t.exp,"internal-error"),wr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Or(e,{},async()=>{const n=Dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Mr(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Nr.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Hr;return n&&(wr("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(wr("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(wr("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function Kr(e,t){wr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Wr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ur(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Br(this,this.stsTokenManager.getToken(this.auth,e));return wr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ft(e),r=await n.getIdToken(t),i=Ur(r);wr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:jr(zr(i.auth_time)),issuedAtTime:jr(zr(i.iat)),expirationTime:jr(zr(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ft(e);await Gr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Gr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Br(this,async function(e,t){return Rr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:E}=t;wr(v&&E,e,"internal-error");const k=Hr.fromJSON(this.name,E);wr("string"===typeof v,e,"internal-error"),Kr(c,e.name),Kr(d,e.name),wr("boolean"===typeof b,e,"internal-error"),wr("boolean"===typeof w,e,"internal-error"),Kr(h,e.name),Kr(p,e.name),Kr(f,e.name),Kr(m,e.name),Kr(g,e.name),Kr(y,e.name);const I=new Wr({uid:v,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(I.providerData=S.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Hr;r.updateFromServerResponse(t);const i=new Wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Gr(i),i}}const Qr=new Map;function Yr(e){Er(e instanceof Function,"Expected a class definition");let t=Qr.get(e);return t?(Er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qr.set(e,t),t)}class Xr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xr.type="NONE";const Jr=Xr;function Zr(e,t,n){return`firebase:${e}:${t}:${n}`}class ei{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Zr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Zr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ei(Yr(Jr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Yr(Jr);const a=Zr(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(a);if(t){const n=Wr._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new ei(i,e,n)):new ei(i,e,n)}}function ti(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ai(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oi(t))return"Blackberry";if(li(t))return"Webos";if(ri(t))return"Safari";if((t.includes("chrome/")||ii(t))&&!t.includes("edge/"))return"Chrome";if(si(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/firefox\//i.test(e)}function ri(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:It()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/crios\//i.test(e)}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iemobile/i.test(e)}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/android/i.test(e)}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/blackberry/i.test(e)}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/webos/i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ci(){return function(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return ui(e)||si(e)||li(e)||oi(e)||/windows phone/i.test(e)||ai(e)}function hi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ti(It());break;case"Worker":t=`${ti(It())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qn}/${r}`}async function pi(e,t){return Rr(e,"GET","/v2/recaptchaConfig",Dr(e,t))}function fi(e){return void 0!==e&&void 0!==e.enterprise}class mi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function gi(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=gr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function yi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class vi{constructor(e){this.type="recaptcha-enterprise",this.auth=Ei(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;fi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{pi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new mi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&fi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));gi("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function bi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new vi(e);let a;try{a=await i.verify(n)}catch(o){a=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class wi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(US){r(US)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(US){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===US||void 0===US?void 0:US.message})}}}class Si{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ki(this),this.idTokenSubscription=new ki(this),this.beforeStateQueue=new wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ei.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(US){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(US){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(US))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(US){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gr(e)}catch(US){if("auth/network-request-failed"!==(null===US||void 0===US?void 0:US.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ft(e):null;return t&&wr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}async initializeRecaptchaConfig(){const e=await pi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new mi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new vi(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yr(e)||this._popupRedirectResolver;wr(t,this,"argument-error"),this.redirectPersistenceManager=await ei.create(this,[Yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return wr(a,this,"internal-error"),a.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pr.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pr.warn(`Auth (${Qn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ei(e){return Ft(e)}class ki{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Lt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(e,t,n){const r=Ei(e);wr(r._canInitEmulator,r,"emulator-config-failed"),wr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ti(t),{host:s,port:o}=function(e){const t=Ti(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ci(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ci(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ti(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ci(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _i{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function xi(e,t){return Rr(e,"POST","/v1/accounts:update",t)}async function Ni(e,t){return Lr(e,"POST","/v1/accounts:signInWithPassword",Dr(e,t))}class Pi extends _i{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pi(e,t,"password")}static _fromEmailAndCode(e,t){return new Pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await bi(e,n,"signInWithPassword");return Ni(e,t)}return Ni(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await bi(e,n,"signInWithPassword");return Ni(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return xi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ai(e,t){return Lr(e,"POST","/v1/accounts:signInWithIdp",Dr(e,t))}class Di extends _i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ur(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Di(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ai(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ai(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ai(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dt(t)}return e}}const Ri={USER_NOT_FOUND:"user-not-found"};class Oi extends _i{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Oi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Oi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t));if(n.temporaryProof)throw Vr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ri)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Oi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Li{constructor(e){var t,n,r,i,a,s;const o=Rt(Ot(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);wr(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Rt(Ot(e)).link,n=t?Rt(Ot(t)).deep_link_id:null,r=Rt(Ot(e)).deep_link_id;return(r?Rt(Ot(r)).link:null)||r||n||t||e}(e);try{return new Li(t)}catch(n){return null}}}class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,t){return Pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Li.parseLink(t);return wr(n,"argument-error"),Pi._fromEmailAndCode(e,n.code,n.tenantId)}}Mi.PROVIDER_ID="password",Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vi extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ji extends Vi{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ji.credential(t.oauthAccessToken)}catch(n){return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com",ji.PROVIDER_ID="facebook.com";class zi extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Di._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zi.credential(n,r)}catch(i){return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com",zi.PROVIDER_ID="google.com";class Ui extends Vi{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ui.credential(t.oauthAccessToken)}catch(n){return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com",Ui.PROVIDER_ID="github.com";class Bi extends Vi{constructor(){super("twitter.com")}static credential(e,t){return Di._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bi.credential(n,r)}catch(i){return null}}}async function $i(e,t){return Lr(e,"POST","/v1/accounts:signUp",Dr(e,t))}Bi.TWITTER_SIGN_IN_METHOD="twitter.com",Bi.PROVIDER_ID="twitter.com";class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Wr._fromIdTokenResponse(e,n,r),a=Gi(n);return new qi({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Gi(n);return new qi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Gi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Hi extends _t{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hi(e,t,n,r)}}function Ki(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Hi._fromErrorAndOperation(e,n,t,r);throw n})}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Br(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",r)}async function Qi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await Br(e,Ki(r,i,t,e),n);wr(a.idToken,r,"internal-error");const s=Ur(a.idToken);wr(s,r,"internal-error");const{sub:o}=s;return wr(e.uid===o,r,"user-mismatch"),qi._forOperation(e,i,a)}catch(US){throw"auth/user-not-found"===(null===US||void 0===US?void 0:US.code)&&mr(r,"user-mismatch"),US}}async function Yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ki(e,r,t),a=await qi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Xi(e,t){return Yi(Ei(e),t)}new WeakMap;const Ji="__sak";class Zi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ji,"1"),this.storage.removeItem(Ji),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ea extends Zi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=It();return ri(e)||ui(e)}()&&function(){try{return!(!window||window===window.top)}catch(US){return!1}}(),this.fallbackToPolling=di(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ci()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ea.type="LOCAL";const ta=ea;class na extends Zi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}na.type="SESSION";const ra=na;class ia{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ia(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ia.receivers=[];class sa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=aa("",20);r.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function oa(){return window}function la(){return"undefined"!==typeof oa().WorkerGlobalScope&&"function"===typeof oa().importScripts}const ua="firebaseLocalStorageDb",ca="firebaseLocalStorage",da="fbase_key";class ha{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pa(e,t){return e.transaction([ca],t?"readwrite":"readonly").objectStore(ca)}function fa(){const e=indexedDB.open(ua,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ca,{keyPath:da})}catch(US){n(US)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ca)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ua);return new ha(e).toPromise()}(),t(await fa()))})})}async function ma(e,t,n){const r=pa(e,!0).put({[da]:t,value:n});return new ha(r).toPromise()}function ga(e,t){const n=pa(e,!0).delete(t);return new ha(n).toPromise()}class ya{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await fa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(US){if(t++>3)throw US;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return la()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ia._getInstance(la()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sa(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fa();return await ma(e,Ji,"1"),await ga(e,Ji),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ma(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pa(e,!1).get(t),r=await new ha(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ga(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pa(e,!1).getAll();return new ha(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ya.type="LOCAL";const va=ya;yi("rcb"),new _r(3e4,6e4);const ba="recaptcha";async function wa(e,t,n){var r;const i=await n.verify();try{let a;if(wr("string"===typeof i,e,"argument-error"),wr(n.type===ba,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){wr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Rr(e,"POST","/v2/accounts/mfaEnrollment:start",Dr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{wr("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;wr(n,e,"missing-multi-factor-info");const s=await function(e,t){return Rr(e,"POST","/v2/accounts/mfaSignIn:start",Dr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Rr(e,"POST","/v1/accounts:sendVerificationCode",Dr(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sa{constructor(e){this.providerId=Sa.PROVIDER_ID,this.auth=Ei(e)}verifyPhoneNumber(e,t){return wa(this.auth,e,Ft(t))}static credential(e,t){return Oi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sa.credentialFromTaggedObject(t)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Oi._fromTokenResponse(n,r):null}}function Ea(e,t){return t?Yr(t):(wr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sa.PROVIDER_ID="phone",Sa.PHONE_SIGN_IN_METHOD="phone";class ka extends _i{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ai(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ai(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ia(e){return Yi(e.auth,new ka(e),e.bypassAuthState)}function Ta(e){const{auth:t,user:n}=e;return wr(n,t,"internal-error"),Qi(n,new ka(e),e.bypassAuthState)}async function Ca(e){const{auth:t,user:n}=e;return wr(n,t,"internal-error"),Wi(n,new ka(e),e.bypassAuthState)}class _a{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(US){this.reject(US)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(US){this.reject(US)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ia;case"linkViaPopup":case"linkViaRedirect":return Ca;case"reauthViaPopup":case"reauthViaRedirect":return Ta;default:mr(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xa=new _r(2e3,1e4);class Na extends _a{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wr(e,this.auth,"internal-error"),e}async onExecution(){Er(1===this.filter.length,"Popup operations only handle one event");const e=aa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,xa.get())};e()}}Na.currentPopupAction=null;const Pa=new Map;class Aa extends _a{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Pa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Oa(t),r=Ra(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(US){e=()=>Promise.reject(US)}Pa.set(this.auth._key(),e)}return this.bypassAuthState||Pa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Da(e,t){Pa.set(e._key(),t)}function Ra(e){return Yr(e._redirectPersistence)}function Oa(e){return Zr("pendingRedirect",e.config.apiKey,e.name)}async function La(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ei(e),i=Ea(r,t),a=new Aa(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ma{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Va(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Va(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fa(e))}saveEventToCache(e){this.cachedEventUids.add(Fa(e)),this.lastProcessedEventTime=Date.now()}}function Fa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Va(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,za=/^https?/;async function Ua(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Rr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ba(r))return}catch(n){}mr(e,"unauthorized-domain")}function Ba(e){const t=kr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!za.test(n))return!1;if(ja.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $a=new _r(3e4,6e4);function qa(){const e=oa().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ga=null;function Ha(e){return Ga=Ga||function(e){return new Promise((t,n)=>{var r,i,a;function s(){qa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qa(),n(gr(e,"network-request-failed"))},timeout:$a.get()})}if(null===(i=null===(r=oa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=oa().gapi)||void 0===a?void 0:a.load)){const t=yi("iframefcb");return oa()[t]=()=>{gapi.load?s():n(gr(e,"network-request-failed"))},gi(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}s()}}).catch(e=>{throw Ga=null,e})}(e),Ga}const Ka=new _r(5e3,15e3),Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ya(e){const t=e.config;wr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qn},i=Qa.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Dt(r).slice(1)}`}const Xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ja{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(US){}}}function Za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Xa),{width:r.toString(),height:i.toString(),top:a,left:s}),u=It().toLowerCase();n&&(o=ii(u)?"_blank":n),ni(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return ui(arguments.length>0&&void 0!==arguments[0]?arguments[0]:It())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ja(null);const d=window.open(t||"",o,c);wr(d,e,"popup-blocked");try{d.focus()}catch(US){}return new Ja(d)}const es="__/auth/handler",ts="emulator/auth/handler",ns=encodeURIComponent("fac");async function rs(e,t,n,r,i,a){wr(e.config.authDomain,e,"auth-domain-config-required"),wr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qn,eventId:i};if(t instanceof Fi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Vi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${ns}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${es}`;return xr(t,ts)}(e)}?${Dt(o).slice(1)}${u}`}const is="webStorageSupport";const as=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ra,this._completeRedirectFn=La,this._overrideRedirectResult=Da}async _openPopup(e,t,n,r){var i;Er(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Za(e,await rs(e,t,n,kr(),r),aa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){oa().location.href=e}(await rs(e,t,n,kr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Er(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Ha(e),n=oa().gapi;return wr(n,e,"internal-error"),t.open({where:document.body,url:Ya(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=gr(e,"network-request-failed"),a=oa().setTimeout(()=>{r(i)},Ka.get());function s(){oa().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new Ma(e);return t.register("authEvent",t=>{wr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(is,{type:is},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[is];void 0!==i&&t(!!i),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ua(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return di()||ri()||ui()}};var ss="@firebase/auth",os="0.23.2";class ls{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const us=Et("authIdTokenMaxAge")||300;let cs=null;var ds;ds="Browser",Gn(new Vt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;wr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:ds,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hi(ds)},u=new Si(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Gn(new Vt("auth-internal",e=>(e=>new ls(e))(Ei(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(ss,os,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ds)),Jn(ss,os,"esm2017");var hs,ps="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fs={},ms=ms||{},gs=ps||self;function ys(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bs="closure_uid_"+(1e9*Math.random()>>>0),ws=0;function Ss(e,t,n){return e.call.apply(e.bind,arguments)}function Es(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ks(e,t,n){return(ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ss:Es).apply(null,arguments)}function Is(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ts(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Cs(){this.s=this.s,this.o=this.o}Cs.prototype.s=!1,Cs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,bs)&&e[bs]||(e[bs]=++ws))},Cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _s=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ns(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ys(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ps(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ps.prototype.h=function(){this.defaultPrevented=!0};var As=function(){if(!gs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gs.addEventListener("test",()=>{},t),gs.removeEventListener("test",()=>{},t)}catch(n){}return e}();function Ds(e){return/^[\s\xa0]*$/.test(e)}function Rs(){var e=gs.navigator;return e&&(e=e.userAgent)?e:""}function Os(e){return-1!=Rs().indexOf(e)}function Ls(e){return Ls[" "](e),e}Ls[" "]=function(){};var Ms,Fs,Vs=Os("Opera"),js=Os("Trident")||Os("MSIE"),zs=Os("Edge"),Us=zs||js,Bs=Os("Gecko")&&!(-1!=Rs().toLowerCase().indexOf("webkit")&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),$s=-1!=Rs().toLowerCase().indexOf("webkit")&&!Os("Edge");function qs(){var e=gs.document;return e?e.documentMode:void 0}e:{var Gs="",Hs=function(){var e=Rs();return Bs?/rv:([^\);]+)(\)|;)/.exec(e):zs?/Edge\/([\d\.]+)/.exec(e):js?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$s?/WebKit\/(\S+)/.exec(e):Vs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hs&&(Gs=Hs?Hs[1]:""),js){var Ks=qs();if(null!=Ks&&Ks>parseFloat(Gs)){Ms=String(Ks);break e}}Ms=Gs}if(gs.document&&js){var Ws=qs();Fs=Ws||(parseInt(Ms,10)||void 0)}else Fs=void 0;var Qs=Fs;function Ys(e,t){if(Ps.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bs){e:{try{Ls(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ys.$.h.call(this)}}Ts(Ys,Ps);var Xs={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),Zs=0;function eo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Zs,this.fa=this.ia=!1}function to(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function no(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ro(e){const t={};for(const n in e)t[n]=e[n];return t}const io="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ao(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<io.length;t++)n=io[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function so(e){this.src=e,this.g={},this.h=0}function oo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_s(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(to(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function lo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}so.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=lo(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new eo(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var uo="closure_lm_"+(1e6*Math.random()|0),co={};function ho(e,t,n,r,i){if(r&&r.once)return fo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ho(e,t[a],n,r,i);return null}return n=So(n),e&&e[Js]?e.O(t,n,vs(r)?!!r.capture:!!r,i):po(e,t,n,!1,r,i)}function po(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=vs(i)?!!i.capture:!!i,o=bo(e);if(o||(e[uo]=o=new so(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=vo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)As||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fo(e,t[a],n,r,i);return null}return n=So(n),e&&e[Js]?e.P(t,n,vs(r)?!!r.capture:!!r,i):po(e,t,n,!0,r,i)}function mo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)mo(e,t[a],n,r,i);else r=vs(r)?!!r.capture:!!r,n=So(n),e&&e[Js]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=lo(a=e.g[t],n,r,i))&&(to(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=bo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=lo(t,n,r,i)),(n=-1<e?t[e]:null)&&go(n))}function go(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Js])oo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bo(t))?(oo(n,e),0==n.h&&(n.src=null,t[uo]=null)):to(e)}}}function yo(e){return e in co?co[e]:co[e]="on"+e}function vo(e,t){if(e.fa)e=!0;else{t=new Ys(t,this);var n=e.listener,r=e.la||e.src;e.ia&&go(e),e=n.call(r,t)}return e}function bo(e){return(e=e[uo])instanceof so?e:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(e){return"function"===typeof e?e:(e[wo]||(e[wo]=function(t){return e.handleEvent(t)}),e[wo])}function Eo(){Cs.call(this),this.i=new so(this),this.S=this,this.J=null}function ko(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ps(t,e);else if(t instanceof Ps)t.target=t.target||e;else{var i=t;ao(t=new Ps(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=Io(s,r,!0,t)&&i}if(i=Io(s=t.g=e,r,!0,t)&&i,i=Io(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Io(s=t.g=n[a],r,!1,t)&&i}function Io(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.fa&&s.capture==n){var o=s.listener,l=s.la||s.src;s.ia&&oo(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Ts(Eo,Cs),Eo.prototype[Js]=!0,Eo.prototype.removeEventListener=function(e,t,n,r){mo(this,e,t,n,r)},Eo.prototype.N=function(){if(Eo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)to(n[r]);delete t.g[e],t.h--}}this.J=null},Eo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Eo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var To=gs.JSON.stringify;function Co(){var e=Ro;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _o=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xo,e=>e.reset());class xo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function No(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Po(e){gs.setTimeout(()=>{throw e},0)}let Ao,Do=!1,Ro=new class{constructor(){this.h=this.g=null}add(e,t){const n=_o.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Oo=()=>{const e=gs.Promise.resolve(void 0);Ao=()=>{e.then(Lo)}};var Lo=()=>{for(var e;e=Co();){try{e.h.call(e.g)}catch(n){Po(n)}var t=_o;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Do=!1};function Mo(e,t){Eo.call(this),this.h=e||1,this.g=t||gs,this.j=ks(this.qb,this),this.l=Date.now()}function Fo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Vo(e,t,n){if("function"===typeof e)n&&(e=ks(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ks(e.handleEvent,e)}return 2147483647<Number(t)?-1:gs.setTimeout(e,t||0)}function jo(e){e.g=Vo(()=>{e.g=null,e.i&&(e.i=!1,jo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ts(Mo,Eo),(hs=Mo.prototype).ga=!1,hs.T=null,hs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ko(this,"tick"),this.ga&&(Fo(this),this.start()))}},hs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hs.N=function(){Mo.$.N.call(this),Fo(this),delete this.g};class zo extends Cs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(gs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(e){Cs.call(this),this.h=e,this.g={}}Ts(Uo,Cs);var Bo=[];function $o(e,t,n,r){Array.isArray(n)||(n&&(Bo[0]=n.toString()),n=Bo);for(var i=0;i<n.length;i++){var a=ho(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qo(e){no(e.g,function(e,t){this.g.hasOwnProperty(t)&&go(e)},e),e.g={}}function Go(){this.g=!0}function Ho(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return To(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Uo.prototype.N=function(){Uo.$.N.call(this),qo(this)},Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Go.prototype.Ea=function(){this.g=!1},Go.prototype.info=function(){};var Ko={},Wo=null;function Qo(){return Wo=Wo||new Eo}function Yo(e){Ps.call(this,Ko.Ta,e)}function Xo(e){const t=Qo();ko(t,new Yo(t))}function Jo(e,t){Ps.call(this,Ko.STAT_EVENT,e),this.stat=t}function Zo(e){const t=Qo();ko(t,new Jo(t,e))}function el(e,t){Ps.call(this,Ko.Ua,e),this.size=t}function tl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gs.setTimeout(function(){e()},t)}Ko.Ta="serverreachability",Ts(Yo,Ps),Ko.STAT_EVENT="statevent",Ts(Jo,Ps),Ko.Ua="timingevent",Ts(el,Ps);var nl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function il(){}function al(e){return e.h||(e.h=e.i())}function sl(){}il.prototype.h=null;var ol,ll={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ul(){Ps.call(this,"d")}function cl(){Ps.call(this,"c")}function dl(){}function hl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Uo(this),this.P=fl,e=Us?125:void 0,this.V=new Mo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}Ts(ul,Ps),Ts(cl,Ps),Ts(dl,il),dl.prototype.g=function(){return new XMLHttpRequest},dl.prototype.i=function(){return{}},ol=new dl;var fl=45e3,ml={},gl={};function yl(e,t,n){e.L=1,e.v=Ml(Al(t)),e.s=n,e.S=!0,vl(e,null)}function vl(e,t){e.G=Date.now(),El(e),e.A=Al(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ql(n.i,"t",r),e.C=0,n=e.l.J,e.h=new pl,e.g=Yu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new zo(ks(e.Pa,e,e.g),e.O)),$o(e.U,e.g,"readystatechange",e.nb),t=e.I?ro(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Xo(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.W,e.s)}function bl(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function wl(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Sl(e,n),r==gl){4==t&&(e.o=4,Zo(14),i=!1),Ho(e.j,e.m,null,"[Incomplete Response]");break}if(r==ml){e.o=4,Zo(15),Ho(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ho(e.j,e.m,r,null),_l(e,r)}bl(e)&&r!=gl&&r!=ml&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bu(t),t.M=!0,Zo(11))):(Ho(e.j,e.m,n,"[Invalid Chunked Response]"),Cl(e),Tl(e))}function Sl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gl:(n=Number(t.substring(n,r)),isNaN(n)?ml:(r+=1)+n>t.length?gl:(t=t.slice(r,r+n),e.C=r+n,t))}function El(e){e.Y=Date.now()+e.P,kl(e,e.P)}function kl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tl(ks(e.lb,e),t)}function Il(e){e.B&&(gs.clearTimeout(e.B),e.B=null)}function Tl(e){0==e.l.H||e.J||Gu(e.l,e)}function Cl(e){Il(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Fo(e.V),qo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function _l(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||nu(n.i,e)))if(!e.K&&nu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;qu(n),Ou(n)}Uu(n),Zo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=tl(ks(n.ib,n),6e3));if(1>=tu(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Ku(n,11)}else if((e.K||n.g==e)&&qu(n),!Ds(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ru(a,a.h),a.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ll(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Qu(r,r.J?r.pa:null,r.Y),s.K){iu(r.i,s);var o=s,l=r.L;l&&o.setTimeout(l),o.B&&(Il(o),El(o)),r.g=s}else zu(r);0<n.j.length&&Mu(n)}else"stop"!=u[0]&&"close"!=u[0]||Ku(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ku(n,7):Ru(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Xo()}catch(u){}}function xl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ys(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ys(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ys(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(hs=hl.prototype).setTimeout=function(e){this.P=e},hs.nb=function(e){e=e.target;const t=this.M;t&&3==_u(e)?t.l():this.Pa(e)},hs.Pa=function(e){try{if(e==this.g)e:{const c=_u(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Us||this.g&&(this.h.h||this.g.ja()||xu(this.g)))){this.J||4!=c||7==t||Xo(),Il(this);var n=this.g.da();this.ca=n;t:if(bl(this)){var r=xu(this.g);e="";var i=r.length,a=4==_u(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cl(this),Tl(this);var s="";break t}this.h.i=new gs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Zo(12),Cl(this),Tl(this);break e}Ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_l(this,n)}this.S?(wl(this,c,s),Us&&this.i&&3==c&&($o(this.U,this.V,"tick",this.mb),this.V.start())):(Ho(this.j,this.m,s,null),_l(this,s)),4==c&&Cl(this),this.i&&!this.J&&(4==c?Gu(this.l,this):(this.i=!1,El(this)))}else(function(e){const t={};e=(e.g&&2<=_u(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ds(e[r]))continue;var n=No(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Zo(12)):(this.o=0,Zo(13)),Cl(this),Tl(this)}}}catch(c){}},hs.mb=function(){if(this.g){var e=_u(this.g),t=this.g.ja();this.C<t.length&&(Il(this),wl(this,e,t),this.i&&4!=e&&El(this))}},hs.cancel=function(){this.J=!0,Cl(this)},hs.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Xo(),Zo(17)),Cl(this),this.o=2,Tl(this)):kl(this,this.Y-e)};var Nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pl){this.h=e.h,Dl(this,e.j),this.s=e.s,this.g=e.g,Rl(this,e.m),this.l=e.l;var t=e.i,n=new Gl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ol(this,n),this.o=e.o}else e&&(t=String(e).match(Nl))?(this.h=!1,Dl(this,t[1]||"",!0),this.s=Fl(t[2]||""),this.g=Fl(t[3]||"",!0),Rl(this,t[4]),this.l=Fl(t[5]||"",!0),Ol(this,t[6]||"",!0),this.o=Fl(t[7]||"")):(this.h=!1,this.i=new Gl(null,this.h))}function Al(e){return new Pl(e)}function Dl(e,t,n){e.j=n?Fl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ol(e,t,n){t instanceof Gl?(e.i=t,function(e,t){t&&!e.j&&(Hl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Kl(this,t),Ql(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Vl(t,$l)),e.i=new Gl(t,e.h))}function Ll(e,t,n){e.i.set(t,n)}function Ml(e){return Ll(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vl(t,zl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vl(t,zl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vl(n,"/"==n.charAt(0)?Bl:Ul,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vl(n,ql)),e.join("")};var zl=/[#\/\?@]/g,Ul=/[#\?:]/g,Bl=/[#\?]/g,$l=/[#\?@]/g,ql=/#/g;function Gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Kl(e,t){Hl(e),t=Yl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Wl(e,t){return Hl(e),t=Yl(e,t),e.g.has(t)}function Ql(e,t,n){Kl(e,t),0<n.length&&(e.i=null,e.g.set(Yl(e,t),xs(n)),e.h+=n.length)}function Yl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hs=Gl.prototype).add=function(e,t){Hl(this),this.i=null,e=Yl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hs.forEach=function(e,t){Hl(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},hs.ta=function(){Hl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},hs.Z=function(e){Hl(this);let t=[];if("string"===typeof e)Wl(this,e)&&(t=t.concat(this.g.get(Yl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},hs.set=function(e,t){return Hl(this),this.i=null,Wl(this,e=Yl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},hs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Xl=class{constructor(e,t){this.g=e,this.map=t}};function Jl(e){this.l=e||Zl,gs.PerformanceNavigationTiming?e=0<(e=gs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gs.g&&gs.g.Ka&&gs.g.Ka()&&gs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zl=10;function eu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tu(e){return e.h?1:e.g?e.g.size:0}function nu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ru(e,t){e.g?e.g.add(t):e.h=t}function iu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function au(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xs(e.i)}Jl.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var su,ou=class{stringify(e){return gs.JSON.stringify(e,void 0)}parse(e){return gs.JSON.parse(e,void 0)}};function lu(){this.g=new ou}function uu(e,t,n){const r=n||"";try{xl(e,function(e,n){let i=e;vs(e)&&(i=To(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(US){throw t.push(r+"type="+encodeURIComponent("_badmap")),US}}function cu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function du(e){this.l=e.fc||null,this.j=e.ob||!1}function hu(e,t){Eo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ts(du,il),du.prototype.g=function(){return new hu(this.l,this.j)},du.prototype.i=(su={},function(){return su}),Ts(hu,Eo);var pu=0;function fu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function mu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gu(e)}function gu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hs=hu.prototype).open=function(e,t){if(this.readyState!=pu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gu(this)},hs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||gs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},hs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mu(this)),this.readyState=pu},hs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gu(this)),this.g&&(this.readyState=3,gu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof gs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},hs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mu(this):gu(this),3==this.readyState&&fu(this)}},hs.Za=function(e){this.g&&(this.response=this.responseText=e,mu(this))},hs.Ya=function(e){this.g&&(this.response=e,mu(this))},hs.ka=function(){this.g&&mu(this)},hs.setRequestHeader=function(e,t){this.v.append(e,t)},hs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yu=gs.JSON.parse;function vu(e){Eo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bu,this.L=this.M=!1}Ts(vu,Eo);var bu="",wu=/^https?$/i,Su=["POST","PUT"];function Eu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ku(e),Tu(e)}function ku(e){e.F||(e.F=!0,ko(e,"complete"),ko(e,"error"))}function Iu(e){if(e.h&&"undefined"!=typeof ms&&(!e.C[1]||4!=_u(e)||2!=e.da()))if(e.v&&4==_u(e))Vo(e.La,0,e);else if(ko(e,"readystatechange"),4==_u(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Nl)[1]||null;!i&&gs.self&&gs.self.location&&(i=gs.self.location.protocol.slice(0,-1)),r=!wu.test(i?i.toLowerCase():"")}n=r}if(n)ko(e,"complete"),ko(e,"success");else{e.m=6;try{var a=2<_u(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.da()+"]",ku(e)}}finally{Tu(e)}}}function Tu(e,t){if(e.g){Cu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ko(e,"ready");try{n.onreadystatechange=r}catch(US){}}}function Cu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(gs.clearTimeout(e.A),e.A=null)}function _u(e){return e.g?e.g.readyState:0}function xu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case bu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Rc){return null}}function Nu(e){let t="";return no(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ll(e,t,n))}function Au(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Du(e){this.Ga=0,this.j=[],this.l=new Go,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Au("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Au("baseRetryDelayMs",5e3,e),this.hb=Au("retryDelaySeedMs",1e4,e),this.eb=Au("forwardChannelMaxRetries",2,e),this.xa=Au("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Jl(e&&e.concurrentRequestLimit),this.Ja=new lu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ru(e){if(Lu(e),3==e.H){var t=e.W++,n=Al(e.I);if(Ll(n,"SID",e.K),Ll(n,"RID",t),Ll(n,"TYPE","terminate"),Vu(e,n),(t=new hl(e,e.l,t)).L=2,t.v=Ml(Al(n)),n=!1,gs.navigator&&gs.navigator.sendBeacon)try{n=gs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&gs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),El(t)}Wu(e)}function Ou(e){e.g&&(Bu(e),e.g.cancel(),e.g=null)}function Lu(e){Ou(e),e.u&&(gs.clearTimeout(e.u),e.u=null),qu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gs.clearTimeout(e.m),e.m=null)}function Mu(e){if(!eu(e.i)&&!e.m){e.m=!0;var t=e.Na;Ao||Oo(),Do||(Ao(),Do=!0),Ro.add(t,e),e.C=0}}function Fu(e,t){var n;n=t?t.m:e.W++;const r=Al(e.I);Ll(r,"SID",e.K),Ll(r,"RID",n),Ll(r,"AID",e.V),Vu(e,r),e.o&&e.s&&Pu(r,e.o,e.s),n=new hl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ju(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ru(e.i,n),yl(n,r,t)}function Vu(e,t){e.na&&no(e.na,function(e,n){Ll(t,n,e)}),e.h&&xl({},function(e,n){Ll(t,n,e)})}function ju(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ks(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const o=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{uu(o,e,"req"+n+"_")}catch(qc){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function zu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ao||Oo(),Do||(Ao(),Do=!0),Ro.add(t,e),e.A=0}}function Uu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=tl(ks(e.Ma,e),Hu(e,e.A)),e.A++,!0)}function Bu(e){null!=e.B&&(gs.clearTimeout(e.B),e.B=null)}function $u(e){e.g=new hl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Al(e.wa);Ll(t,"RID","rpc"),Ll(t,"SID",e.K),Ll(t,"AID",e.V),Ll(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ll(t,"TO",e.qa),Ll(t,"TYPE","xmlhttp"),Vu(e,t),e.o&&e.s&&Pu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ml(Al(t)),n.s=null,n.S=!0,vl(n,e)}function qu(e){null!=e.v&&(gs.clearTimeout(e.v),e.v=null)}function Gu(e,t){var n=null;if(e.g==t){qu(e),Bu(e),e.g=null;var r=2}else{if(!nu(e.i,t))return;n=t.F,iu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ko(r=Qo(),new el(r,n)),Mu(e)}else zu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(tu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=tl(ks(e.Na,e,t),Hu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ku(e,5);break;case 4:Ku(e,10);break;case 3:Ku(e,6);break;default:Ku(e,2)}}function Hu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ku(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ks(e.pb,e);n||(n=new Pl("//www.google.com/images/cleardot.gif"),gs.location&&"http"==gs.location.protocol||Dl(n,"https"),Ml(n)),function(e,t){const n=new Go;if(gs.Image){const r=new Image;r.onload=Is(cu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Is(cu,n,r,"TestLoadImage: error",!1,t),r.onabort=Is(cu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Is(cu,n,r,"TestLoadImage: timeout",!1,t),gs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zo(2);e.H=0,e.h&&e.h.za(t),Wu(e),Lu(e)}function Wu(e){if(e.H=0,e.ma=[],e.h){const t=au(e.i);0==t.length&&0==e.j.length||(Ns(e.ma,t),Ns(e.ma,e.j),e.i.i.length=0,xs(e.j),e.j.length=0),e.h.ya()}}function Qu(e,t,n){var r=n instanceof Pl?Al(n):new Pl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Rl(r,r.m);else{var i=gs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Pl(null);r&&Dl(a,r),t&&(a.g=t),i&&Rl(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Ll(r,n,t),Ll(r,"VER",e.ra),Vu(e,r),r}function Yu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new vu(new du({ob:!0})):new vu(e.va)).Oa(e.J),t}function Xu(){}function Ju(){if(js&&!(10<=Number(Qs)))throw Error("Environmental error: no available transport.")}function Zu(e,t){Eo.call(this),this.g=new Du(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ds(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ds(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nc(this)}function ec(e){ul.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tc(){cl.call(this),this.status=1}function nc(e){this.g=e}function rc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ic(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function ac(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(hs=vu.prototype).Oa=function(e){this.M=e},hs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ol.g(),this.C=this.u?al(this.u):al(ol),this.g.onreadystatechange=ks(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void Eu(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=gs.FormData&&e instanceof gs.FormData,!(0<=_s(Su,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cu(this),0<this.B&&((this.L=function(e){return js&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ks(this.ua,this)):this.A=Vo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Eu(this,a)}},hs.ua=function(){"undefined"!=typeof ms&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ko(this,"timeout"),this.abort(8))},hs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ko(this,"complete"),ko(this,"abort"),Tu(this))},hs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tu(this,!0)),vu.$.N.call(this)},hs.La=function(){this.s||(this.G||this.v||this.l?Iu(this):this.kb())},hs.kb=function(){Iu(this)},hs.isActive=function(){return!!this.g},hs.da=function(){try{return 2<_u(this)?this.g.status:-1}catch(su){return-1}},hs.ja=function(){try{return this.g?this.g.responseText:""}catch(su){return""}},hs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yu(t)}},hs.Ia=function(){return this.m},hs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(hs=Du.prototype).ra=8,hs.H=1,hs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new hl(this,this.l,e);let a=this.s;if(this.U&&(a?(a=ro(a),ao(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ju(this,i,t),Ll(n=Al(this.I),"RID",e),Ll(n,"CVER",22),this.F&&Ll(n,"X-HTTP-Session-Id",this.F),Vu(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Nu(a)))+"&"+t:this.o&&Pu(n,this.o,a)),ru(this.i,i),this.bb&&Ll(n,"TYPE","init"),this.P?(Ll(n,"$req",t),Ll(n,"SID","null"),i.aa=!0,yl(i,n,null)):yl(i,n,t),this.H=2}}else 3==this.H&&(e?Fu(this,e):0==this.j.length||eu(this.i)||Fu(this))},hs.Ma=function(){if(this.u=null,$u(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=tl(ks(this.jb,this),e)}},hs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zo(10),Ou(this),$u(this))},hs.ib=function(){null!=this.v&&(this.v=null,Ou(this),Uu(this),Zo(19))},hs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zo(2)):(this.l.info("Failed to ping google.com"),Zo(1))},hs.isActive=function(){return!!this.h&&this.h.isActive(this)},(hs=Xu.prototype).Ba=function(){},hs.Aa=function(){},hs.za=function(){},hs.ya=function(){},hs.isActive=function(){return!0},hs.Va=function(){},Ju.prototype.g=function(e,t){return new Zu(e,t)},Ts(Zu,Eo),Zu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Zo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Qu(e,null,e.Y),Mu(e)},Zu.prototype.close=function(){Ru(this.g)},Zu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=To(e),e=n);t.j.push(new Xl(t.fb++,e)),3==t.H&&Mu(t)},Zu.prototype.N=function(){this.g.h=null,delete this.j,Ru(this.g),delete this.g,Zu.$.N.call(this)},Ts(ec,ul),Ts(tc,cl),Ts(nc,Xu),nc.prototype.Ba=function(){ko(this.g,"a")},nc.prototype.Aa=function(e){ko(this.g,new ec(e))},nc.prototype.za=function(e){ko(this.g,new tc)},nc.prototype.ya=function(){ko(this.g,"b")},Ts(rc,function(){this.blockSize=-1}),rc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)ic(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){ic(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){ic(this,r),i=0;break}}this.h=i,this.i+=t},rc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var sc={};function oc(e){return-128<=e&&128>e?function(e,t){var n=sc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new ac([0|e],0>e?-1:0)}):new ac([0|e],0>e?-1:0)}function lc(e){if(isNaN(e)||!isFinite(e))return cc;if(0>e)return mc(lc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=uc;return new ac(t,0)}var uc=4294967296,cc=oc(0),dc=oc(1),hc=oc(16777216);function pc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function fc(e){return-1==e.h}function mc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ac(n,~e.h).add(dc)}function gc(e,t){return e.add(mc(t))}function yc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vc(e,t){this.g=e,this.h=t}function bc(e,t){if(pc(t))throw Error("division by zero");if(pc(e))return new vc(cc,cc);if(fc(e))return t=bc(mc(e),t),new vc(mc(t.g),mc(t.h));if(fc(t))return t=bc(e,mc(t)),new vc(mc(t.g),t.h);if(30<e.g.length){if(fc(e)||fc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=dc,r=t;0>=r.X(e);)n=wc(n),r=wc(r);var i=Sc(n,1),a=Sc(r,1);for(r=Sc(r,2),n=Sc(n,2);!pc(r);){var s=a.add(r);0>=s.X(e)&&(i=i.add(n),a=s),r=Sc(r,1),n=Sc(n,1)}return t=gc(e,i.R(t)),new vc(i,t)}for(i=cc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=lc(n)).R(t);fc(s)||0<s.X(e);)s=(a=lc(n-=r)).R(t);pc(a)&&(a=dc),i=i.add(a),e=gc(e,s)}return new vc(i,e)}function wc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ac(n,e.h)}function Sc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new ac(i,e.h)}(hs=ac.prototype).ea=function(){if(fc(this))return-mc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:uc+r)*t,t*=uc}return e},hs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(pc(this))return"0";if(fc(this))return"-"+mc(this).toString(e);for(var t=lc(Math.pow(e,6)),n=this,r="";;){var i=bc(n,t).g,a=((0<(n=gc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(pc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},hs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},hs.X=function(e){return fc(e=gc(this,e))?-1:pc(e)?0:1},hs.abs=function(){return fc(this)?mc(this):this},hs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),s=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new ac(n,-2147483648&n[n.length-1]?-1:0)},hs.R=function(e){if(pc(this)||pc(e))return cc;if(fc(this))return fc(e)?mc(this).R(mc(e)):mc(mc(this).R(e));if(fc(e))return mc(this.R(mc(e)));if(0>this.X(hc)&&0>e.X(hc))return lc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,s=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,yc(n,2*r+2*i),n[2*r+2*i+1]+=a*l,yc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*o,yc(n,2*r+2*i+1),n[2*r+2*i+2]+=a*o,yc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ac(n,0)},hs.gb=function(e){return bc(this,e).h},hs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ac(n,this.h&e.h)},hs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ac(n,this.h|e.h)},hs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ac(n,this.h^e.h)},Ju.prototype.createWebChannel=Ju.prototype.g,Zu.prototype.send=Zu.prototype.u,Zu.prototype.open=Zu.prototype.m,Zu.prototype.close=Zu.prototype.close,nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,rl.COMPLETE="complete",sl.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",Eo.prototype.listen=Eo.prototype.O,vu.prototype.listenOnce=vu.prototype.P,vu.prototype.getLastError=vu.prototype.Sa,vu.prototype.getLastErrorCode=vu.prototype.Ia,vu.prototype.getStatus=vu.prototype.da,vu.prototype.getResponseJson=vu.prototype.Wa,vu.prototype.getResponseText=vu.prototype.ja,vu.prototype.send=vu.prototype.ha,vu.prototype.setWithCredentials=vu.prototype.Oa,rc.prototype.digest=rc.prototype.l,rc.prototype.reset=rc.prototype.reset,rc.prototype.update=rc.prototype.j,ac.prototype.add=ac.prototype.add,ac.prototype.multiply=ac.prototype.R,ac.prototype.modulo=ac.prototype.gb,ac.prototype.compare=ac.prototype.X,ac.prototype.toNumber=ac.prototype.ea,ac.prototype.toString=ac.prototype.toString,ac.prototype.getBits=ac.prototype.D,ac.fromNumber=lc,ac.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return mc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=lc(Math.pow(n,8)),i=cc,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=lc(Math.pow(n,s)),i=i.R(s).add(lc(o))):i=(i=i.R(r)).add(lc(o))}return i};var Ec=fs.createWebChannelTransport=function(){return new Ju},kc=fs.getStatEventTarget=function(){return Qo()},Ic=fs.ErrorCode=nl,Tc=fs.EventType=rl,Cc=fs.Event=Ko,_c=fs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xc=fs.FetchXmlHttpFactory=du,Nc=fs.WebChannel=sl,Pc=fs.XhrIo=vu,Ac=fs.Md5=rc,Dc=fs.Integer=ac;const Rc="@firebase/firestore";class Oc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oc.UNAUTHENTICATED=new Oc(null),Oc.GOOGLE_CREDENTIALS=new Oc("google-credentials-uid"),Oc.FIRST_PARTY=new Oc("first-party-uid"),Oc.MOCK_USER=new Oc("mock-user");let Lc="9.23.0";const Mc=new Wt("@firebase/firestore");function Fc(){return Mc.logLevel}function Vc(e){if(Mc.logLevel<=$t.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uc);Mc.debug(`Firestore (${Lc}): ${e}`,...i)}}function jc(e){if(Mc.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uc);Mc.error(`Firestore (${Lc}): ${e}`,...i)}}function zc(e){if(Mc.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uc);Mc.warn(`Firestore (${Lc}): ${e}`,...i)}}function Uc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bc(){const e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw jc(e),new Error(e)}function $c(e,t){e||Bc()}function qc(e,t){return e}const Gc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hc extends _t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oc.UNAUTHENTICATED))}shutdown(){}}class Yc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xc{constructor(e){this.t=e,this.currentUser=Oc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Kc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kc,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Vc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Vc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kc)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Vc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($c("string"==typeof t.accessToken),new Wc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $c(null===e||"string"==typeof e),new Oc(e)}}class Jc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Oc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Jc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ed{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class td{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Vc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,Vc("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Vc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Vc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?($c("string"==typeof e.token),this.T=e.token,new ed(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class rd{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=nd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function id(e,t){return e<t?-1:e>t?1:0}function ad(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function sd(e){return e+"\0"}class od{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hc(Gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hc(Gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hc(Gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hc(Gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return od.fromMillis(Date.now())}static fromDate(e){return od.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new od(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?id(this.nanoseconds,e.nanoseconds):id(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ld{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ld(e)}static min(){return new ld(new od(0,0))}static max(){return new ld(new od(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ud{constructor(e,t,n){void 0===t?t=0:t>e.length&&Bc(),void 0===n?n=e.length-t:n>e.length-t&&Bc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ud.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cd extends ud{construct(e,t,n){return new cd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Hc(Gc.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new cd(e)}static emptyPath(){return new cd([])}}const dd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hd extends ud{construct(e,t,n){return new hd(e,t,n)}static isValidIdentifier(e){return dd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hd.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hd(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Hc(Gc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hc(Gc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hc(Gc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Hc(Gc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hd(t)}static emptyPath(){return new hd([])}}class pd{constructor(e){this.path=e}static fromPath(e){return new pd(cd.fromString(e))}static fromName(e){return new pd(cd.fromString(e).popFirst(5))}static empty(){return new pd(cd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pd(new cd(e.slice()))}}class fd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function md(e){return e.fields.find(e=>2===e.kind)}function gd(e){return e.fields.filter(e=>2!==e.kind)}fd.UNKNOWN_ID=-1;class yd{constructor(e,t){this.fieldPath=e,this.kind=t}}class vd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vd(0,Sd.min())}}function bd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ld.fromTimestamp(1e9===r?new od(n+1,0):new od(n,r));return new Sd(i,pd.empty(),t)}function wd(e){return new Sd(e.readTime,e.key,-1)}class Sd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Sd(ld.min(),pd.empty(),-1)}static max(){return new Sd(ld.max(),pd.empty(),-1)}}function Ed(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pd.comparator(e.documentKey,t.documentKey),0!==n?n:id(e.largestBatchId,t.largestBatchId))}const kd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Id{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Td(e){if(e.code!==Gc.FAILED_PRECONDITION||e.message!==kd)throw e;Vc("LocalStore","Unexpectedly lost primary lease")}class Cd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Cd((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Cd?t:Cd.resolve(t)}catch(e){return Cd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Cd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Cd.reject(t)}static resolve(e){return new Cd((t,n)=>{t(e)})}static reject(e){return new Cd((t,n)=>{n(e)})}static waitFor(e){return new Cd((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Cd.resolve(!1);for(const n of e)t=t.next(e=>e?Cd.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Cd((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Cd((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}class _d{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Kc,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Pd(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Ld(t.target.error);this.v.reject(new Pd(e,n))}}static open(e,t,n,r){try{return new _d(t,e.transaction(r,n))}catch(e){throw new Pd(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Vc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Dd(t)}}class xd{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===xd.S(It())&&jc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vc("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ct())return!1;if(xd.C())return!0;const e=It(),t=xd.S(e),n=0<t&&t<10,r=xd.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Vc("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Hc(Gc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Hc(Gc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Pd(e,r))},r.onupgradeneeded=e=>{Vc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next(()=>{Vc("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.$(e);const t=_d.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next(e=>(t.P(),e)).catch(e=>(t.abort(e),Cd.reject(e))).toPromise();return a.catch(()=>{}),await t.R,a}catch(e){const t=e,n="FirebaseError"!==t.name&&a<3;if(Vc("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Nd{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rd(this.L.delete())}}class Pd extends Hc{constructor(e,t){super(Gc.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ad(e){return"IndexedDbTransactionError"===e.name}class Dd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Vc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rd(n)}add(e){return Vc("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vc("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vc("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return Vc("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new Cd((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Cd((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}J(e,t){Vc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,(e,t,n)=>n.delete())}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Cd((n,r)=>{t.onerror=e=>{const t=Ld(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}W(e,t){const n=[];return new Cd((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const a=new Nd(i),s=t(i.primaryKey,i.value,a);if(s instanceof Cd){const e=s.catch(e=>(a.done(),Cd.reject(e)));n.push(e)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}}).next(()=>Cd.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(e){return new Cd((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ld(e.target.error);n(t)}})}let Od=!1;function Ld(e){const t=xd.S(It());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Hc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Od||(Od=!0,setTimeout(()=>{throw e},0)),e}}return e}class Md{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Vc("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Vc("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){Ad(e)?Vc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Td(e)}await this.et(6e4)})}}class Fd{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.st(t,e))}st(e,t){const n=new Set;let r=t,i=!0;return Cd.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return Vc("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.rt(r,n)).next(n=>(Vc("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}rt(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=wd(t);Ed(r,n)>0&&(n=r)}),new Sd(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function jd(e){return null==e}function zd(e){return 0===e&&1/e==-1/0}function Ud(e){return"number"==typeof e&&Number.isInteger(e)&&!zd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Bd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qd(t)),t=$d(e.get(n),t);return qd(t)}function $d(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function qd(e){return e+"\x01\x01"}function Gd(e){const t=e.length;if($c(t>=2),2===t)return $c("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cd.emptyPath();const n=t-2,r=[];let i="";for(let a=0;a<t;){const t=e.indexOf("\x01",a);switch((t<0||t>n)&&Bc(),e.charAt(t+1)){case"\x01":const n=e.substring(a,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(a,t),i+="\0";break;case"\x11":i+=e.substring(a,t+1);break;default:Bc()}a=t+2}return new cd(r)}Vd.ct=-1;const Hd=["userId","batchId"];function Kd(e,t){return[e,Bd(t)]}function Wd(e,t,n){return[e,Bd(t),n]}const Qd={},Yd=["prefixPath","collectionGroup","readTime","documentId"],Xd=["prefixPath","collectionGroup","documentId"],Jd=["collectionGroup","readTime","prefixPath","documentId"],Zd=["canonicalId","targetId"],eh=["targetId","path"],th=["path","targetId"],nh=["collectionId","parent"],rh=["indexId","uid"],ih=["uid","sequenceNumber"],ah=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sh=["indexId","uid","orderedDocumentKey"],oh=["userId","collectionPath","documentId"],lh=["userId","collectionPath","largestBatchId"],uh=["userId","collectionGroup","largestBatchId"],ch=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dh=[...ch,"documentOverlays"],hh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ph=hh,fh=[...ph,"indexConfiguration","indexState","indexEntries"];class mh extends Id{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function gh(e,t){const n=qc(e);return xd.M(n.ht,t)}function yh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wh{constructor(e,t){this.comparator=e,this.root=t||Eh.EMPTY}insert(e,t){return new wh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Eh.BLACK,null,null))}remove(e){return new wh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Eh.RED,this.left=null!=r?r:Eh.EMPTY,this.right=null!=i?i:Eh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Eh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bc();if(this.right.isRed())throw Bc();const e=this.left.check();if(e!==this.right.check())throw Bc();return e+(this.isRed()?0:1)}}Eh.EMPTY=null,Eh.RED=!0,Eh.BLACK=!1,Eh.EMPTY=new class{constructor(){this.size=0}get key(){throw Bc()}get value(){throw Bc()}get color(){throw Bc()}get left(){throw Bc()}get right(){throw Bc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Eh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kh{constructor(e){this.comparator=e,this.data=new wh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ih(this.data.getIterator())}getIteratorFrom(e){return new Ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof kh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kh(this.comparator);return t.data=e,t}}class Ih{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Th(e){return e.hasNext()?e.getNext():void 0}class Ch{constructor(e){this.fields=e,e.sort(hd.comparator)}static empty(){return new Ch([])}unionWith(e){let t=new kh(hd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ch(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ad(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class _h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new _h("Invalid base64 string: "+e):e}}(e);return new xh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return id(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xh.EMPTY_BYTE_STRING=new xh("");const Nh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ph(e){if($c(!!e),"string"==typeof e){let t=0;const n=Nh.exec(e);if($c(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ah(e.seconds),nanos:Ah(e.nanos)}}function Ah(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dh(e){return"string"==typeof e?xh.fromBase64String(e):xh.fromUint8Array(e)}function Rh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oh(e){const t=e.mapValue.fields.__previous_value__;return Rh(t)?Oh(t):t}function Lh(e){const t=Ph(e.mapValue.fields.__local_write_time__.timestampValue);return new od(t.seconds,t.nanos)}class Mh{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class Fh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jh={nullValue:"NULL_VALUE"};function zh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rh(e)?4:ep(e)?9007199254740991:10:Bc()}function Uh(e,t){if(e===t)return!0;const n=zh(e);if(n!==zh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lh(e).isEqual(Lh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ph(e.timestampValue),r=Ph(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dh(e.bytesValue).isEqual(Dh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ah(e.geoPointValue.latitude)===Ah(t.geoPointValue.latitude)&&Ah(e.geoPointValue.longitude)===Ah(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ah(e.integerValue)===Ah(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ah(e.doubleValue),r=Ah(t.doubleValue);return n===r?zd(n)===zd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ad(e.arrayValue.values||[],t.arrayValue.values||[],Uh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yh(n)!==yh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uh(n[i],r[i])))return!1;return!0}(e,t);default:return Bc()}}function Bh(e,t){return void 0!==(e.values||[]).find(e=>Uh(e,t))}function $h(e,t){if(e===t)return 0;const n=zh(e),r=zh(t);if(n!==r)return id(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return id(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ah(e.integerValue||e.doubleValue),r=Ah(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qh(e.timestampValue,t.timestampValue);case 4:return qh(Lh(e),Lh(t));case 5:return id(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dh(e),r=Dh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=id(n[i],r[i]);if(0!==e)return e}return id(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=id(Ah(e.latitude),Ah(t.latitude));return 0!==n?n:id(Ah(e.longitude),Ah(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$h(n[i],r[i]);if(e)return e}return id(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vh.mapValue&&t===Vh.mapValue)return 0;if(e===Vh.mapValue)return 1;if(t===Vh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=id(r[s],a[s]);if(0!==e)return e;const t=$h(n[r[s]],i[a[s]]);if(0!==t)return t}return id(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bc()}}function qh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return id(e,t);const n=Ph(e),r=Ph(t),i=id(n.seconds,r.seconds);return 0!==i?i:id(n.nanos,r.nanos)}function Gh(e){return Hh(e)}function Hh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ph(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pd.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Hh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Hh(e.fields[i])}`;return n+"}"}(e.mapValue):Bc();var t,n}function Kh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wh(e){return!!e&&"integerValue"in e}function Qh(e){return!!e&&"arrayValue"in e}function Yh(e){return!!e&&"nullValue"in e}function Xh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jh(e){return!!e&&"mapValue"in e}function Zh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Zh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ep(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function tp(e){return"nullValue"in e?jh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kh(Fh.empty(),pd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bc()}function np(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kh(Fh.empty(),pd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Vh:Bc()}function rp(e,t){const n=$h(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ip(e,t){const n=$h(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ap{constructor(e){this.value=e}static empty(){return new ap({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zh(t)}setAll(e){let t=hd.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Jh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ap(Zh(this.value))}}function sp(e){const t=[];return vh(e.fields,(e,n)=>{const r=new hd([e]);if(Jh(n)){const e=sp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ch(t)}class op{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new op(e,0,ld.min(),ld.min(),ld.min(),ap.empty(),0)}static newFoundDocument(e,t,n,r){return new op(e,1,t,ld.min(),n,r,0)}static newNoDocument(e,t){return new op(e,2,t,ld.min(),ld.min(),ap.empty(),0)}static newUnknownDocument(e,t){return new op(e,3,t,ld.min(),ld.min(),ap.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ld.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ap.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ap.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ld.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof op&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new op(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t){this.position=e,this.inclusive=t}}function up(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?pd.comparator(pd.fromName(s.referenceValue),n.key):$h(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uh(e.position[n],t.position[n]))return!1;return!0}class dp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class pp{}class fp extends pp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ip(e,t,n):"array-contains"===t?new xp(e,n):"in"===t?new Np(e,n):"not-in"===t?new Pp(e,n):"array-contains-any"===t?new Ap(e,n):new fp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tp(e,n):new Cp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($h(t,this.value)):null!==t&&zh(this.value)===zh(t)&&this.matchesComparison($h(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mp extends pp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new mp(e,t)}matches(e){return gp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gp(e){return"and"===e.op}function yp(e){return"or"===e.op}function vp(e){return bp(e)&&gp(e)}function bp(e){for(const t of e.filters)if(t instanceof mp)return!1;return!0}function wp(e){if(e instanceof fp)return e.field.canonicalString()+e.op.toString()+Gh(e.value);if(vp(e))return e.filters.map(e=>wp(e)).join(",");{const t=e.filters.map(e=>wp(e)).join(",");return`${e.op}(${t})`}}function Sp(e,t){return e instanceof fp?function(e,t){return t instanceof fp&&e.op===t.op&&e.field.isEqual(t.field)&&Uh(e.value,t.value)}(e,t):e instanceof mp?function(e,t){return t instanceof mp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Sp(n,t.filters[r]),!0)}(e,t):void Bc()}function Ep(e,t){const n=e.filters.concat(t);return mp.create(n,e.op)}function kp(e){return e instanceof fp?function(e){return`${e.field.canonicalString()} ${e.op} ${Gh(e.value)}`}(e):e instanceof mp?function(e){return e.op.toString()+" {"+e.getFilters().map(kp).join(" ,")+"}"}(e):"Filter"}class Ip extends fp{constructor(e,t,n){super(e,t,n),this.key=pd.fromName(n.referenceValue)}matches(e){const t=pd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tp extends fp{constructor(e,t){super(e,"in",t),this.keys=_p("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cp extends fp{constructor(e,t){super(e,"not-in",t),this.keys=_p("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _p(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>pd.fromName(e.referenceValue))}class xp extends fp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qh(t)&&Bh(t.arrayValue,this.value)}}class Np extends fp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bh(this.value.arrayValue,t)}}class Pp extends fp{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bh(this.value.arrayValue,t)}}class Ap extends fp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bh(this.value.arrayValue,e))}}class Dp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.dt=null}}function Rp(e){return new Dp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Op(e){const t=qc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>wp(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),jd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Gh(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Gh(e)).join(",")),t.dt=e}return t.dt}function Lp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cp(e.startAt,t.startAt)&&cp(e.endAt,t.endAt)}function Mp(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Fp(e,t){return e.filters.filter(e=>e instanceof fp&&e.field.isEqual(t))}function Vp(e,t,n){let r=jh,i=!0;for(const a of Fp(e,t)){let e=jh,t=!0;switch(a.op){case"<":case"<=":e=tp(a.value);break;case"==":case"in":case">=":e=a.value;break;case">":e=a.value,t=!1;break;case"!=":case"not-in":e=jh}rp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){const e=n.position[a];rp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function jp(e,t,n){let r=Vh,i=!0;for(const a of Fp(e,t)){let e=Vh,t=!0;switch(a.op){case">=":case">":e=np(a.value),t=!1;break;case"==":case"in":case"<=":e=a.value;break;case"<":e=a.value,t=!1;break;case"!=":case"not-in":e=Vh}ip({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){const e=n.position[a];ip({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class zp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Up(e,t,n,r,i,a,s,o){return new zp(e,t,n,r,i,a,s,o)}function Bp(e){return new zp(e)}function $p(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gp(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Hp(e){return null!==e.collectionGroup}function Kp(e){const t=qc(e);if(null===t.wt){t.wt=[];const e=Gp(t),n=qp(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new dp(e)),t.wt.push(new dp(hd.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new dp(hd.keyField(),e))}}}return t.wt}function Wp(e){const t=qc(e);if(!t._t)if("F"===t.limitType)t._t=Rp(t.path,t.collectionGroup,Kp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Kp(t)){const t="desc"===i.dir?"asc":"desc";e.push(new dp(i.field,t))}const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;t._t=Rp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Qp(e,t){t.getFirstInequalityField(),Gp(e);const n=e.filters.concat([t]);return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yp(e,t,n){return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xp(e,t){return Lp(Wp(e),Wp(t))&&e.limitType===t.limitType}function Jp(e){return`${Op(Wp(e))}|lt:${e.limitType}`}function Zp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>kp(e)).join(", ")}]`),jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Gh(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Gh(e)).join(",")),`Target(${t})`}(Wp(e))}; limitType=${e.limitType})`}function ef(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Kp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=up(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kp(e),t))&&!(e.endAt&&!function(e,t,n){const r=up(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kp(e),t))}(e,t)}function tf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nf(e){return(t,n)=>{let r=!1;for(const i of Kp(e)){const e=rf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function rf(e,t,n){const r=e.field.isKeyField()?pd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$h(r,i):Bc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bc()}}class af{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return bh(this.inner)}size(){return this.innerSize}}const sf=new wh(pd.comparator);function of(){return sf}const lf=new wh(pd.comparator);function uf(){let e=lf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function cf(e){let t=lf;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function df(){return pf()}function hf(){return pf()}function pf(){return new af(e=>e.toString(),(e,t)=>e.isEqual(t))}const ff=new wh(pd.comparator),mf=new kh(pd.comparator);function gf(){let e=mf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yf=new kh(id);function vf(){return yf}function bf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(t)?"-0":t}}function wf(e){return{integerValue:""+e}}function Sf(e,t){return Ud(t)?wf(t):bf(e,t)}class Ef{constructor(){this._=void 0}}function kf(e,t,n){return e instanceof Cf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rh(t)&&(t=Oh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _f?xf(e,t):e instanceof Nf?Pf(e,t):function(e,t){const n=Tf(e,t),r=Df(n)+Df(e.gt);return Wh(n)&&Wh(e.gt)?wf(r):bf(e.serializer,r)}(e,t)}function If(e,t,n){return e instanceof _f?xf(e,t):e instanceof Nf?Pf(e,t):n}function Tf(e,t){return e instanceof Af?Wh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Cf extends Ef{}class _f extends Ef{constructor(e){super(),this.elements=e}}function xf(e,t){const n=Rf(t);for(const r of e.elements)n.some(e=>Uh(e,r))||n.push(r);return{arrayValue:{values:n}}}class Nf extends Ef{constructor(e){super(),this.elements=e}}function Pf(e,t){let n=Rf(t);for(const r of e.elements)n=n.filter(e=>!Uh(e,r));return{arrayValue:{values:n}}}class Af extends Ef{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Df(e){return Ah(e.integerValue||e.doubleValue)}function Rf(e){return Qh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Of{constructor(e,t){this.field=e,this.transform=t}}class Lf{constructor(e,t){this.version=e,this.transformResults=t}}class Mf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mf}static exists(e){return new Mf(void 0,e)}static updateTime(e){return new Mf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Vf{}function jf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qf(e.key,Mf.none()):new qf(e.key,e.data,Mf.none());{const n=e.data,r=ap.empty();let i=new kh(hd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gf(e.key,r,new Ch(i.toArray()),Mf.none())}}function zf(e,t,n){e instanceof qf?function(e,t,n){const r=e.value.clone(),i=Kf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gf?function(e,t,n){if(!Ff(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Kf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uf(e,t,n,r){return e instanceof qf?function(e,t,n,r){if(!Ff(e.precondition,t))return n;const i=e.value.clone(),a=Wf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gf?function(e,t,n,r){if(!Ff(e.precondition,t))return n;const i=Wf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ff(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Tf(r.transform,e||null);null!=i&&(null===n&&(n=ap.empty()),n.set(r.field,i))}return n||null}function $f(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ad(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _f&&t instanceof _f||e instanceof Nf&&t instanceof Nf?ad(e.elements,t.elements,Uh):e instanceof Af&&t instanceof Af?Uh(e.gt,t.gt):e instanceof Cf&&t instanceof Cf}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qf extends Vf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gf extends Vf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Hf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Kf(e,t,n){const r=new Map;$c(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,If(s,o,n[i]))}return r}function Wf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,kf(e,a,t))}return r}class Qf extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yf extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Uf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Uf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=hf();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=jf(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ld.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gf())}isEqual(e){return this.batchId===e.batchId&&ad(this.mutations,e.mutations,(e,t)=>$f(e,t))&&ad(this.baseMutations,e.baseMutations,(e,t)=>$f(e,t))}}class Jf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$c(e.mutations.length===n.length);let r=ff;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Jf(e,t,n,r)}}class Zf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class em{constructor(e,t){this.count=e,this.unchangedNames=t}}var tm,nm;function rm(e){switch(e){default:return Bc();case Gc.CANCELLED:case Gc.UNKNOWN:case Gc.DEADLINE_EXCEEDED:case Gc.RESOURCE_EXHAUSTED:case Gc.INTERNAL:case Gc.UNAVAILABLE:case Gc.UNAUTHENTICATED:return!1;case Gc.INVALID_ARGUMENT:case Gc.NOT_FOUND:case Gc.ALREADY_EXISTS:case Gc.PERMISSION_DENIED:case Gc.FAILED_PRECONDITION:case Gc.ABORTED:case Gc.OUT_OF_RANGE:case Gc.UNIMPLEMENTED:case Gc.DATA_LOSS:return!0}}function im(e){if(void 0===e)return jc("GRPC error has no .code"),Gc.UNKNOWN;switch(e){case tm.OK:return Gc.OK;case tm.CANCELLED:return Gc.CANCELLED;case tm.UNKNOWN:return Gc.UNKNOWN;case tm.DEADLINE_EXCEEDED:return Gc.DEADLINE_EXCEEDED;case tm.RESOURCE_EXHAUSTED:return Gc.RESOURCE_EXHAUSTED;case tm.INTERNAL:return Gc.INTERNAL;case tm.UNAVAILABLE:return Gc.UNAVAILABLE;case tm.UNAUTHENTICATED:return Gc.UNAUTHENTICATED;case tm.INVALID_ARGUMENT:return Gc.INVALID_ARGUMENT;case tm.NOT_FOUND:return Gc.NOT_FOUND;case tm.ALREADY_EXISTS:return Gc.ALREADY_EXISTS;case tm.PERMISSION_DENIED:return Gc.PERMISSION_DENIED;case tm.FAILED_PRECONDITION:return Gc.FAILED_PRECONDITION;case tm.ABORTED:return Gc.ABORTED;case tm.OUT_OF_RANGE:return Gc.OUT_OF_RANGE;case tm.UNIMPLEMENTED:return Gc.UNIMPLEMENTED;case tm.DATA_LOSS:return Gc.DATA_LOSS;default:return Bc()}}(nm=tm||(tm={}))[nm.OK=0]="OK",nm[nm.CANCELLED=1]="CANCELLED",nm[nm.UNKNOWN=2]="UNKNOWN",nm[nm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nm[nm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nm[nm.NOT_FOUND=5]="NOT_FOUND",nm[nm.ALREADY_EXISTS=6]="ALREADY_EXISTS",nm[nm.PERMISSION_DENIED=7]="PERMISSION_DENIED",nm[nm.UNAUTHENTICATED=16]="UNAUTHENTICATED",nm[nm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nm[nm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nm[nm.ABORTED=10]="ABORTED",nm[nm.OUT_OF_RANGE=11]="OUT_OF_RANGE",nm[nm.UNIMPLEMENTED=12]="UNIMPLEMENTED",nm[nm.INTERNAL=13]="INTERNAL",nm[nm.UNAVAILABLE=14]="UNAVAILABLE",nm[nm.DATA_LOSS=15]="DATA_LOSS";class am{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sm}static getOrCreateInstance(){return null===sm&&(sm=new am),sm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sm=null;function om(){return new TextEncoder}const lm=new Dc([4294967295,4294967295],0);function um(e){const t=om().encode(e),n=new Ac;return n.update(t),new Uint8Array(n.digest())}function cm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Dc([n,r],0),new Dc([i,a],0)]}class dm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new hm(`Invalid padding: ${t}`);if(n<0)throw new hm(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new hm(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new hm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Dc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Dc.fromNumber(n)));return 1===r.compare(lm)&&(r=new Dc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=um(e),[n,r]=cm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new dm(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.It)return;const t=um(e),[n,r]=cm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class hm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pm(ld.min(),r,new wh(id),of(),gf())}}class fm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fm(n,t,gf(),gf(),gf())}}class mm{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class gm{constructor(e,t){this.targetId=e,this.Vt=t}}class ym{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vm{constructor(){this.St=0,this.Dt=Sm(),this.Ct=xh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gf(),t=gf(),n=gf();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bc()}}),new fm(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Sm()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=of(),this.zt=wm(),this.Wt=new wh(id)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Bc()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const a=i.target;if(Mp(a))if(0===r){const e=new pd(a.path);this.Yt(n,e,op.newNoDocument(e,ld.min()))}else $c(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=am.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,s,o,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(a=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=n;let o,l;try{o=Dh(i).toUint8Array()}catch(e){if(e instanceof _h)return zc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new dm(o,a,s)}catch(e){return zc(e instanceof hm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(a)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Mp(i.target)){const t=new pd(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,op.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=gf();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new pm(e,t,this.Wt,this.jt,n);return this.jt=of(),this.zt=wm(),this.Wt=new wh(id),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new vm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new kh(id),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Vc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function wm(){return new wh(pd.comparator)}function Sm(){return new wh(pd.comparator)}const Em={asc:"ASCENDING",desc:"DESCENDING"},km={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Im={and:"AND",or:"OR"};class Tm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cm(e,t){return e.useProto3Json||jd(t)?t:{value:t}}function _m(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nm(e,t){return _m(e,t.toTimestamp())}function Pm(e){return $c(!!e),ld.fromTimestamp(function(e){const t=Ph(e);return new od(t.seconds,t.nanos)}(e))}function Am(e,t){return function(e){return new cd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dm(e){const t=cd.fromString(e);return $c(eg(t)),t}function Rm(e,t){return Am(e.databaseId,t.path)}function Om(e,t){const n=Dm(t);if(n.get(1)!==e.databaseId.projectId)throw new Hc(Gc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hc(Gc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pd(Vm(n))}function Lm(e,t){return Am(e.databaseId,t)}function Mm(e){const t=Dm(e);return 4===t.length?cd.emptyPath():Vm(t)}function Fm(e){return new cd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vm(e){return $c(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jm(e,t,n){return{name:Rm(e,t),fields:n.value.mapValue.fields}}function zm(e,t,n){const r=Om(e,t.name),i=Pm(t.updateTime),a=t.createTime?Pm(t.createTime):ld.min(),s=new ap({mapValue:{fields:t.fields}}),o=op.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Um(e,t){let n;if(t instanceof qf)n={update:jm(e,t.key,t.value)};else if(t instanceof Qf)n={delete:Rm(e,t.key)};else if(t instanceof Gf)n={update:jm(e,t.key,t.data),updateMask:Zm(t.fieldMask)};else{if(!(t instanceof Yf))return Bc();n={verify:Rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Cf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _f)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Af)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Bc()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bc()}(e,t.precondition)),n}function Bm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Mf.updateTime(Pm(e.updateTime)):void 0!==e.exists?Mf.exists(e.exists):Mf.none()}(t.currentDocument):Mf.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)$c("REQUEST_TIME"===t.setToServerValue),n=new Cf;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new _f(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Nf(e)}else"increment"in t?n=new Af(e,t.increment):Bc();const r=hd.fromServerFormat(t.fieldPath);return new Of(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Om(e,t.update.name),a=new ap({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ch(t.map(e=>hd.fromServerFormat(e)))}(t.updateMask);return new Gf(i,a,e,n,r)}return new qf(i,a,n,r)}if(t.delete){const r=Om(e,t.delete);return new Qf(r,n)}if(t.verify){const r=Om(e,t.verify);return new Yf(r,n)}return Bc()}function $m(e,t){return{documents:[Lm(e,t.path)]}}function qm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Jm(mp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ym(e.field),direction:Km(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Cm(e,t.limit);var o;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Gm(e){let t=Mm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$c(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Hm(e);return t instanceof mp&&vp(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new dp(Xm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,jd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new lp(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new lp(n,t)}(n.endAt)),Up(t,i,s,a,o,"F",l,u)}function Hm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xm(e.unaryFilter.field);return fp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xm(e.unaryFilter.field);return fp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xm(e.unaryFilter.field);return fp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xm(e.unaryFilter.field);return fp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bc()}}(e):void 0!==e.fieldFilter?function(e){return fp.create(Xm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mp.create(e.compositeFilter.filters.map(e=>Hm(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bc()}}(e.compositeFilter.op))}(e):Bc()}function Km(e){return Em[e]}function Wm(e){return km[e]}function Qm(e){return Im[e]}function Ym(e){return{fieldPath:e.canonicalString()}}function Xm(e){return hd.fromServerFormat(e.fieldPath)}function Jm(e){return e instanceof fp?function(e){if("=="===e.op){if(Xh(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NAN"}};if(Yh(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xh(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NOT_NAN"}};if(Yh(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ym(e.field),op:Wm(e.op),value:e.value}}}(e):e instanceof mp?function(e){const t=e.getFilters().map(e=>Jm(e));return 1===t.length?t[0]:{compositeFilter:{op:Qm(e.op),filters:t}}}(e):Bc()}function Zm(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function eg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class tg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ld.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ld.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new tg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ng{constructor(e){this.fe=e}}function rg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ig(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Rm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_m(e,t.version.toTimestamp()),createTime:_m(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ag(t.version)};else{if(!t.isUnknownDocument())return Bc();r.unknownDocument={path:n.path.toArray(),version:ag(t.version)}}return r}function ig(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ag(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sg(e){const t=new od(e.seconds,e.nanoseconds);return ld.fromTimestamp(t)}function og(e,t){const n=(t.baseMutations||[]).map(t=>Bm(e.fe,t));for(let a=0;a<t.mutations.length-1;++a){const e=t.mutations[a];if(a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform){const n=t.mutations[a+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(a+1,1),++a}}const r=t.mutations.map(t=>Bm(e.fe,t)),i=od.fromMillis(t.localWriteTimeMs);return new Xf(t.batchId,i,n,r)}function lg(e){const t=sg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?sg(e.lastLimboFreeSnapshotVersion):ld.min();let r;var i;return void 0!==e.query.documents?($c(1===(i=e.query).documents.length),r=Wp(Bp(Mm(i.documents[0])))):r=function(e){return Wp(Gm(e))}(e.query),new tg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,xh.fromBase64String(e.resumeToken))}function ug(e,t){const n=ag(t.snapshotVersion),r=ag(t.lastLimboFreeSnapshotVersion);let i;i=Mp(t.target)?$m(e.fe,t.target):qm(e.fe,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Op(t.target),readTime:n,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cg(e){const t=Gm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yp(t,t.limit,"L"):t}function dg(e,t){return new Zf(t.largestBatchId,Bm(e.fe,t.overlayMutation))}function hg(e,t){const n=t.path.lastSegment();return[e,Bd(t.path.popLast()),n]}function pg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ag(r.readTime),documentKey:Bd(r.documentKey.path),largestBatchId:r.largestBatchId}}class fg{getBundleMetadata(e,t){return mg(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:sg(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return mg(e).put({bundleId:(n=t).id,createTime:ag(Pm(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return gg(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:cg(t.bundledQuery),readTime:sg(t.readTime)};var t})}saveNamedQuery(e,t){return gg(e).put(function(e){return{name:e.name,readTime:ag(Pm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function mg(e){return gh(e,"bundles")}function gg(e){return gh(e,"namedQueries")}class yg{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new yg(e,n)}getOverlay(e,t){return vg(e).get(hg(this.userId,t)).next(e=>e?dg(this.serializer,e):null)}getOverlays(e,t){const n=df();return Cd.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const a=new Zf(t,i);r.push(this.we(e,a))}),Cd.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Bd(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(vg(e).J("collectionPathOverlayIndex",r))}),Cd.waitFor(i)}getOverlaysForCollection(e,t,n){const r=df(),i=Bd(t),a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vg(e).j("collectionPathOverlayIndex",a).next(e=>{for(const t of e){const e=dg(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=df();let a;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vg(e).X({index:"collectionGroupOverlayIndex",range:s},(e,t,n)=>{const s=dg(this.serializer,t);i.size()<r||s.largestBatchId===a?(i.set(s.getKey(),s),a=s.largestBatchId):n.done()}).next(()=>i)}we(e,t){return vg(e).put(function(e,t,n){const[r,i,a]=hg(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:a,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Um(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function vg(e){return gh(e,"documentOverlays")}class bg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ah(e.integerValue));else if("doubleValue"in e){const n=Ah(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),zd(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Dh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?ep(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Bc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),pd.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function wg(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Sg(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=wg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bg.Ve=new bg;class Eg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Sg(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=Sg(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class kg{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ig{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Tg{constructor(){this.je=new Eg,this.ze=new kg(this.je),this.We=new Ig(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Cg{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Cg(this.indexId,this.documentKey,this.arrayValue,n)}}function _g(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=xg(e.arrayValue,t.arrayValue),0!==n?n:(n=xg(e.directionalValue,t.directionalValue),0!==n?n:pd.comparator(e.documentKey,t.documentKey)))}function xg(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Ng{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){$c(e.collectionGroup===this.collectionId);const t=md(e);if(void 0!==t&&!this.en(t))return!1;const n=gd(e);let r=new Set,i=0,a=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[a++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pg(e){var t,n;if($c(e instanceof fp||e instanceof mp),e instanceof fp){if(e instanceof Np){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>fp.create(e.field,"==",t)))||[];return mp.create(r,"or")}return e}const r=e.filters.map(e=>Pg(e));return mp.create(r,e.op)}function Ag(e){if(0===e.getFilters().length)return[];const t=Lg(Pg(e));return $c(Og(t)),Dg(t)||Rg(t)?[t]:t.getFilters()}function Dg(e){return e instanceof fp}function Rg(e){return e instanceof mp&&vp(e)}function Og(e){return Dg(e)||Rg(e)||function(e){if(e instanceof mp&&yp(e)){for(const t of e.getFilters())if(!Dg(t)&&!Rg(t))return!1;return!0}return!1}(e)}function Lg(e){if($c(e instanceof fp||e instanceof mp),e instanceof fp)return e;if(1===e.filters.length)return Lg(e.filters[0]);const t=e.filters.map(e=>Lg(e));let n=mp.create(t,e.op);return n=Vg(n),Og(n)?n:($c(n instanceof mp),$c(gp(n)),$c(n.filters.length>1),n.filters.reduce((e,t)=>Mg(e,t)))}function Mg(e,t){let n;return $c(e instanceof fp||e instanceof mp),$c(t instanceof fp||t instanceof mp),n=e instanceof fp?t instanceof fp?function(e,t){return mp.create([e,t],"and")}(e,t):Fg(e,t):t instanceof fp?Fg(t,e):function(e,t){if($c(e.filters.length>0&&t.filters.length>0),gp(e)&&gp(t))return Ep(e,t.getFilters());const n=yp(e)?e:t,r=yp(e)?t:e,i=n.filters.map(e=>Mg(e,r));return mp.create(i,"or")}(e,t),Vg(n)}function Fg(e,t){if(gp(t))return Ep(t,e.getFilters());{const n=t.filters.map(t=>Mg(e,t));return mp.create(n,"or")}}function Vg(e){if($c(e instanceof fp||e instanceof mp),e instanceof fp)return e;const t=e.getFilters();if(1===t.length)return Vg(t[0]);if(bp(e))return e;const n=t.map(e=>Vg(e)),r=[];return n.forEach(t=>{t instanceof fp?r.push(t):t instanceof mp&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:mp.create(r,e.op)}class jg{constructor(){this.rn=new zg}addToCollectionParentIndex(e,t){return this.rn.add(t),Cd.resolve()}getCollectionParents(e,t){return Cd.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Cd.resolve()}deleteFieldIndex(e,t){return Cd.resolve()}getDocumentsMatchingTarget(e,t){return Cd.resolve(null)}getIndexType(e,t){return Cd.resolve(0)}getFieldIndexes(e,t){return Cd.resolve([])}getNextCollectionGroupToUpdate(e){return Cd.resolve(null)}getMinOffset(e,t){return Cd.resolve(Sd.min())}getMinOffsetFromCollectionGroup(e,t){return Cd.resolve(Sd.min())}updateCollectionGroup(e,t,n){return Cd.resolve()}updateIndexEntries(e,t){return Cd.resolve()}}class zg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kh(cd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kh(cd.comparator)).toArray()}}const Ug=new Uint8Array(0);class Bg{constructor(e,t){this.user=e,this.databaseId=t,this.on=new zg,this.un=new af(e=>Op(e),(e,t)=>Lp(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const i={collectionId:n,parent:Bd(r)};return $g(e).put(i)}return Cd.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[sd(t),""],!1,!0);return $g(e).j(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Gd(r.parent))}return n})}addFieldIndex(e,t){const n=Gg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Hg(e);return i.next(e=>{n.put(pg(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=Gg(e),r=Hg(e),i=qg(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=qg(e);let r=!0;const i=new Map;return Cd.forEach(this.cn(t),t=>this.an(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=gf();const r=[];return Cd.forEach(i,(i,a)=>{var s;Vc("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${Op(t)}`);const o=function(e,t){const n=md(t);if(void 0===n)return null;for(const r of Fp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(a,i),l=function(e,t){const n=new Map;for(const r of gd(t))for(const t of Fp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(a,i),u=function(e,t){const n=[];let r=!0;for(const i of gd(t)){const t=0===i.kind?Vp(e,i.fieldPath,e.startAt):jp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new lp(n,r)}(a,i),c=function(e,t){const n=[];let r=!0;for(const i of gd(t)){const t=0===i.kind?jp(e,i.fieldPath,e.endAt):Vp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new lp(n,r)}(a,i),d=this.hn(i,a,u),h=this.hn(i,a,c),p=this.ln(i,a,l),f=this.fn(i.indexId,o,d,u.inclusive,h,c.inclusive,p);return Cd.forEach(f,i=>n.H(i,t.limit).next(t=>{t.forEach(t=>{const n=pd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Cd.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Ag(mp.create(e.filters,"and")).map(t=>Rp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,n,r,i,a,s){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),u=[];for(let c=0;c<o;++c){const o=t?this.dn(t[c/l]):Ug,d=this.wn(e,o,n[c%l],r),h=this._n(e,o,i[c%l],a),p=s.map(t=>this.wn(e,o,t,!0));u.push(...this.createRange(d,h,p))}return u}wn(e,t,n,r){const i=new Cg(e,pd.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Cg(e,pd.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Ng(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.cn(t);return Cd.forEach(r,t=>this.an(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new kh(hd.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}mn(e,t){const n=new Tg;for(const r of gd(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);bg.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Tg;return bg.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Tg;return bg.Ve._e(Kh(this.databaseId,t),n.He(function(e){const t=gd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Tg);let i=0;for(const a of gd(e)){const e=n[i++];for(const n of r)if(this.yn(t,a.fieldPath)&&Qh(e))r=this.pn(r,a,e);else{const t=n.He(a.kind);bg.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const a of n.arrayValue.values||[])for(const e of r){const n=new Tg;n.seed(e.Qe()),bg.Ve._e(a,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find(e=>e instanceof fp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Gg(e),r=Hg(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next(e=>{const t=[];return Cd.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new vd(t.sequenceNumber,new Sd(sg(t.readTime),new pd(Gd(t.documentKey)),t.largestBatchId)):vd.empty(),r=e.fields.map(e=>{let[t,n]=e;return new yd(hd.fromServerFormat(t),n)});return new fd(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:id(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Gg(e),i=Hg(e);return this.Tn(e).next(e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>Cd.forEach(t,t=>i.put(pg(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Cd.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Cd.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Cd.forEach(i,n=>this.En(e,t,n).next(t=>{const i=this.An(r,n);return t.isEqual(i)?Cd.resolve():this.vn(e,r,n,t,i)}))))})}Rn(e,t,n,r){return qg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return qg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=qg(e);let i=new kh(_g);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(e,r)=>{i=i.add(new Cg(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}An(e,t){let n=new kh(_g);const r=this.mn(t,e);if(null==r)return n;const i=md(t);if(null!=i){const a=e.data.field(i.fieldPath);if(Qh(a))for(const i of a.arrayValue.values||[])n=n.add(new Cg(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Cg(t.indexId,e.key,Ug,r));return n}vn(e,t,n,r,i){Vc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(e,t,n,r,i){const a=e.getIterator(),s=t.getIterator();let o=Th(a),l=Th(s);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Th(s)):t?(i(o),o=Th(a)):(o=Th(a),l=Th(s))}}(r,i,_g,r=>{a.push(this.Rn(e,t,n,r))},r=>{a.push(this.Pn(e,t,n,r))}),Cd.waitFor(a)}Tn(e){let t=1;return Hg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>_g(e,t)).filter((e,t,n)=>!t||0!==_g(e,n[t-1]));const r=[];r.push(e);for(const a of n){const n=_g(a,e),i=_g(a,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(a),r.push(a.Je());else if(i>0)break}r.push(t);const i=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];const e=[r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,Ug,[]],t=[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,Ug,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return _g(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kg)}getMinOffset(e,t){return Cd.mapArray(this.cn(t),t=>this.an(e,t).next(e=>e||Bc())).next(Kg)}}function $g(e){return gh(e,"collectionParents")}function qg(e){return gh(e,"indexEntries")}function Gg(e){return gh(e,"indexConfiguration")}function Hg(e){return gh(e,"indexState")}function Kg(e){$c(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ed(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Sd(t.readTime,t.documentKey,n)}const Wg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qg{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qg(e,Qg.DEFAULT_COLLECTION_PERCENTILE,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yg(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.X({range:s},(e,t,n)=>(o++,n.delete()));a.push(l.next(()=>{$c(1===o)}));const u=[];for(const c of n.mutations){const e=Wd(t,c.key.path,n.batchId);a.push(i.delete(e)),u.push(c.key)}return Cd.waitFor(a).next(()=>u)}function Xg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bc();t=e.noDocument}return JSON.stringify(t).length}Qg.DEFAULT_COLLECTION_PERCENTILE=10,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qg.DEFAULT=new Qg(41943040,Qg.DEFAULT_COLLECTION_PERCENTILE,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qg.DISABLED=new Qg(-1,0,0);class Jg{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){$c(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Jg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ey(e).X({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ty(e),a=ey(e);return a.add({}).next(s=>{$c("number"==typeof s);const o=new Xf(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Um(e.fe,t)),i=n.mutations.map(t=>Um(e.fe,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),u=[];let c=new kh((e,t)=>id(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Wd(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(a.put(l)),u.push(i.put(t,Qd))}return c.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Vn[s]=o.keys()}),Cd.waitFor(u).next(()=>o)})}lookupMutationBatch(e,t){return ey(e).get(t).next(e=>e?($c(e.userId===this.userId),og(this.serializer,e)):null)}Sn(e,t){return this.Vn[t]?Cd.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ey(e).X({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&($c(t.batchId>=n),i=og(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ey(e).X({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ey(e).j("userMutationsIndex",t).next(e=>e.map(e=>og(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Kd(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ty(e).X({range:r},(n,r,a)=>{const[s,o,l]=n,u=Gd(o);if(s===this.userId&&t.path.isEqual(u))return ey(e).get(l).next(e=>{if(!e)throw Bc();$c(e.userId===this.userId),i.push(og(this.serializer,e))});a.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kh(id);const r=[];return t.forEach(t=>{const i=Kd(this.userId,t.path),a=IDBKeyRange.lowerBound(i),s=ty(e).X({range:a},(e,r,i)=>{const[a,s,o]=e,l=Gd(s);a===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()});r.push(s)}),Cd.waitFor(r).next(()=>this.Dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Kd(this.userId,n),a=IDBKeyRange.lowerBound(i);let s=new kh(id);return ty(e).X({range:a},(e,t,i)=>{const[a,o,l]=e,u=Gd(o);a===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()}).next(()=>this.Dn(e,s))}Dn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(ey(e).get(t).next(e=>{if(null===e)throw Bc();$c(e.userId===this.userId),n.push(og(this.serializer,e))}))}),Cd.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Yg(e.ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Cd.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Cd.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return ty(e).X({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Gd(e[1]);r.push(t)}else n.done()}).next(()=>{$c(0===r.length)})})}containsKey(e,t){return Zg(e,this.userId,t)}xn(e){return ny(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zg(e,t,n){const r=Kd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return ty(e).X({range:a,Y:!0},(e,n,r)=>{const[a,o,l]=e;a===t&&o===i&&(s=!0),r.done()}).next(()=>s)}function ey(e){return gh(e,"mutations")}function ty(e){return gh(e,"documentMutations")}function ny(e){return gh(e,"mutationQueues")}class ry{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ry(0)}static Mn(){return new ry(-1)}}class iy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const n=new ry(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(e=>ld.fromTimestamp(new od(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ay(e).delete(t.targetId)).next(()=>this.$n(e)).next(t=>($c(t.targetCount>0),t.targetCount-=1,this.On(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return ay(e).X((a,s)=>{const o=lg(s);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))}).next(()=>Cd.waitFor(i)).next(()=>r)}forEachTarget(e,t){return ay(e).X((e,n)=>{const r=lg(n);t(r)})}$n(e){return sy(e).get("targetGlobalKey").next(e=>($c(null!==e),e))}On(e,t){return sy(e).put("targetGlobalKey",t)}Fn(e,t){return ay(e).put(ug(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Op(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ay(e).X({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const a=lg(n);Lp(t,a.target)&&(i=a,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=oy(e);return t.forEach(t=>{const a=Bd(t.path);r.push(i.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(e,n,t))}),Cd.waitFor(r)}removeMatchingKeys(e,t,n){const r=oy(e);return Cd.forEach(t,t=>{const i=Bd(t.path);return Cd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=oy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oy(e);let i=gf();return r.X({range:n,Y:!0},(e,t,n)=>{const r=Gd(e[1]),a=new pd(r);i=i.add(a)}).next(()=>i)}containsKey(e,t){const n=Bd(t.path),r=IDBKeyRange.bound([n],[sd(n)],!1,!0);let i=0;return oy(e).X({index:"documentTargetsIndex",Y:!0,range:r},(e,t,n)=>{let[r,a]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}le(e,t){return ay(e).get(t).next(e=>e?lg(e):null)}}function ay(e){return gh(e,"targets")}function sy(e){return gh(e,"targetGlobal")}function oy(e){return gh(e,"targetDocuments")}function ly(e,t){let[n,r]=e,[i,a]=t;const s=id(n,i);return 0===s?id(r,a):s}class uy{constructor(e){this.Ln=e,this.buffer=new kh(ly),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ly(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Vc("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ad(e)?Vc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Td(e)}await this.Qn(3e5)})}}class dy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Cd.resolve(Vd.ct);const n=new uy(t);return this.jn.forEachTarget(e,e=>n.Kn(e.sequenceNumber)).next(()=>this.jn.Wn(e,e=>n.Kn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vc("LruGarbageCollector","Garbage collection skipped; disabled"),Cd.resolve(Wg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Vc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,a,s,o,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Vc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Fc()<=$t.DEBUG&&Vc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-u}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-u}ms`),Cd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function hy(e,t){return new dy(e,t)}class py{constructor(e,t){this.db=e,this.garbageCollector=hy(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Jn(e){let t=0;return this.Wn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(e,n)=>t(n))}addReference(e,t,n){return fy(e,n)}removeReference(e,t,n){return fy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return fy(e,t)}Xn(e,t){return function(e,t){let n=!1;return ny(e).Z(r=>Zg(e,r,t).next(e=>(e&&(n=!0),Cd.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,(a,s)=>{if(s<=t){const t=this.Xn(e,a).next(t=>{if(!t)return i++,n.getEntry(e,a).next(()=>(n.removeEntry(a,ld.min()),oy(e).delete([0,Bd(a.path)])))});r.push(t)}}).next(()=>Cd.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return fy(e,t)}Yn(e,t){const n=oy(e);let r,i=Vd.ct;return n.X({index:"documentTargetsIndex"},(e,n)=>{let[a,s]=e,{path:o,sequenceNumber:l}=n;0===a?(i!==Vd.ct&&t(new pd(Gd(r)),i),i=l,r=o):i=Vd.ct}).next(()=>{i!==Vd.ct&&t(new pd(Gd(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fy(e,t){return oy(e).put(function(e,t){return{targetId:0,path:Bd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class my{constructor(){this.changes=new af(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,op.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Cd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return wy(e).put(n)}removeEntry(e,t,n){return wy(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ig(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Zn(e,n)))}getEntry(e,t){let n=op.newInvalidDocument(t);return wy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sy(t))},(e,r)=>{n=this.ts(t,r)}).next(()=>n)}es(e,t){let n={size:0,document:op.newInvalidDocument(t)};return wy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sy(t))},(e,r)=>{n={document:this.ts(t,r),size:Xg(r)}}).next(()=>n)}getEntries(e,t){let n=of();return this.ns(e,t,(e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)}).next(()=>n)}ss(e,t){let n=of(),r=new wh(pd.comparator);return this.ns(e,t,(e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Xg(t))}).next(()=>({documents:n,rs:r}))}ns(e,t,n){if(t.isEmpty())return Cd.resolve();let r=new kh(ky);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Sy(r.first()),Sy(r.last())),a=r.getIterator();let s=a.getNext();return wy(e).X({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=pd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&ky(s,i)<0;)n(s,null),s=a.getNext();s&&s.isEqual(i)&&(n(s,t),s=a.hasNext()?a.getNext():null),s?r.G(Sy(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,a=[i.popLast().toArray(),i.lastSegment(),ig(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wy(e).j(IDBKeyRange.bound(a,s,!0)).next(e=>{let n=of();for(const i of e){const e=this.ts(pd.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ef(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=of();const a=Ey(t,n),s=Ey(t,Sd.max());return wy(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(e,t,n)=>{const a=this.ts(pd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(a.key,a),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new vy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return by(e).get("remoteDocumentGlobalKey").next(e=>($c(!!e),e))}Zn(e,t){return by(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=zm(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=pd.fromSegments(t.noDocument.path),r=sg(t.noDocument.readTime);n=op.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bc();{const e=pd.fromSegments(t.unknownDocument.path),r=sg(t.unknownDocument.version);n=op.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new od(e[0],e[1]);return ld.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ld.min()))return e}return op.newInvalidDocument(e)}}function yy(e){return new gy(e)}class vy extends my{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new af(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new kh((e,t)=>id(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,a)=>{const s=this.us.get(i);if(t.push(this.os.removeEntry(e,i,s.readTime)),a.isValidDocument()){const o=rg(this.os.serializer,a);r=r.add(i.path.popLast());const l=Xg(o);n+=l-s.size,t.push(this.os.addEntry(e,i,o))}else if(n-=s.size,this.trackRemovals){const n=rg(this.os.serializer,a.convertToNoDocument(ld.min()));t.push(this.os.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.os.updateMetadata(e,n)),Cd.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(e=>{let{documents:t,rs:n}=e;return n.forEach((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function by(e){return gh(e,"remoteDocumentGlobal")}function wy(e){return gh(e,"remoteDocumentsV14")}function Sy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ey(e,t){const n=t.documentKey.path.toArray();return[e,ig(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ky(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=id(n[a],r[a]),i)return i;return i=id(n.length,r.length),i||(i=id(n[n.length-2],r[r.length-2]),i||id(n[n.length-1],r[r.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ty{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Uf(n.mutation,e,Ch.empty(),od.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,gf()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gf();const r=df();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=uf();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=df();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,gf()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=of();const a=pf(),s=pf();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Gf)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Uf(s.mutation,t,s.mutation.getFieldMask(),od.now())):a.set(t.key,Ch.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Iy(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=pf();let r=new wh((e,t)=>e-t),i=gf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Ch.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||gf()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,u=hf();l.forEach(e=>{if(!i.has(e)){const r=jf(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,u))}return Cd.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Cd.resolve(df());let s=-1,o=i;return a.next(t=>Cd.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Cd.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,gf())).next(e=>({batchId:s,changes:cf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pd(t)).next(e=>{let t=uf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=uf();return this.indexManager.getCollectionParents(e,r).next(a=>Cd.forEach(a,a=>{const s=function(e,t){return new zp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,op.newInvalidDocument(r)))});let n=uf();return e.forEach((e,i)=>{const a=r.get(e);void 0!==a&&Uf(a.mutation,i,Ch.empty(),od.now()),ef(t,i)&&(n=n.insert(e,i))}),n})}}class Cy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Cd.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Pm(n.createTime)}),Cd.resolve()}getNamedQuery(e,t){return Cd.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:cg(e.bundledQuery),readTime:Pm(e.readTime)}}(t)),Cd.resolve()}}class _y{constructor(){this.overlays=new wh(pd.comparator),this.ls=new Map}getOverlay(e,t){return Cd.resolve(this.overlays.get(t))}getOverlays(e,t){const n=df();return Cd.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Cd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Cd.resolve()}getOverlaysForCollection(e,t,n){const r=df(),i=t.length+1,a=new pd(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Cd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wh((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=df(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=df(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Cd.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zf(t,n));let i=this.ls.get(t);void 0===i&&(i=gf(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class xy{constructor(){this.fs=new kh(Ny.ds),this.ws=new kh(Ny._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Ny(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Ny(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new pd(new cd([])),n=new Ny(t,e),r=new Ny(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pd(new cd([])),n=new Ny(t,e),r=new Ny(t,e+1);let i=gf();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ny(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ny{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pd.comparator(e.key,t.key)||id(e.As,t.As)}static _s(e,t){return id(e.As,t.As)||pd.comparator(e.key,t.key)}}class Py{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new kh(Ny.ds)}checkEmpty(e){return Cd.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Xf(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Rs=this.Rs.add(new Ny(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Cd.resolve(a)}lookupMutationBatch(e,t){return Cd.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Cd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Cd.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Cd.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ny(t,0),r=new Ny(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Cd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kh(id);return t.forEach(e=>{const t=new Ny(e,0),r=new Ny(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Cd.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pd.isDocumentKey(i)||(i=i.child(""));const a=new Ny(new pd(i),0);let s=new kh(id);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)},a),Cd.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){$c(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Cd.forEach(t.mutations,r=>{const i=new Ny(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Ny(t,0),r=this.Rs.firstAfterOrEqual(n);return Cd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Cd.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ay{constructor(e){this.Ds=e,this.docs=new wh(pd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Cd.resolve(n?n.document.mutableCopy():op.newInvalidDocument(t))}getEntries(e,t){let n=of();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():op.newInvalidDocument(e))}),Cd.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=of();const a=t.path,s=new pd(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ed(wd(s),n)<=0||(r.has(s.key)||ef(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Cd.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Bc()}Cs(e,t){return Cd.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Dy(this)}getSize(e){return Cd.resolve(this.size)}}class Dy extends my{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Cd.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ry{constructor(e){this.persistence=e,this.xs=new af(e=>Op(e),Lp),this.lastRemoteSnapshotVersion=ld.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xy,this.targetCount=0,this.Ms=ry.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Cd.resolve()}getLastRemoteSnapshotVersion(e){return Cd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Cd.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Cd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Cd.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ry(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Cd.resolve()}updateTargetData(e,t){return this.Fn(t),Cd.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Cd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Cd.waitFor(i).next(()=>r)}getTargetCount(e){return Cd.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Cd.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Cd.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Cd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Cd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Cd.resolve(n)}containsKey(e,t){return Cd.resolve(this.ks.containsKey(t))}}class Oy{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ry(this),this.indexManager=new jg,this.remoteDocumentCache=function(e){return new Ay(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new ng(t),this.qs=new Cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _y,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Py(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Vc("MemoryPersistence","Starting transaction:",e);const r=new Ly(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Cd.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Ly extends Id{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Qs=new xy,this.js=null}static zs(e){return new My(e)}get Ws(){if(this.js)return this.js;throw Bc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Cd.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Cd.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Cd.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cd.forEach(this.Ws,n=>{const r=pd.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,ld.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Cd.or([()=>Cd.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Fy{constructor(e){this.serializer=e}O(e,t,n,r){const i=new _d("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Vy(e),function(e){e.createObjectStore("remoteDocuments")}(e));let a=Cd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Vy(e)),a=a.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ld.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(a=a.next(()=>function(e,t){return t.store("mutations").j().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hd,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return Cd.waitFor(i)})}(e,i))),a=a.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(a=a.next(()=>this.Ys(i))),n<6&&r>=6&&(a=a.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i)))),n<7&&r>=7&&(a=a.next(()=>this.Zs(i))),n<8&&r>=8&&(a=a.next(()=>this.ti(e,i))),n<9&&r>=9&&(a=a.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(a=a.next(()=>this.ei(i))),n<11&&r>=11&&(a=a.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(a=a.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:oh});t.createIndex("collectionPathOverlayIndex",lh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uh,{unique:!1})}(e)})),n<13&&r>=13&&(a=a.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Yd});t.createIndex("documentKeyIndex",Xd),t.createIndex("collectionGroupIndex",Jd)}(e)).next(()=>this.ni(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(a=a.next(()=>this.si(e,i))),n<15&&r>=15&&(a=a.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:rh}).createIndex("sequenceNumberIndex",ih,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ah}).createIndex("documentKeyIndex",sh,{unique:!1})}(e))),a}Xs(e){let t=0;return e.store("remoteDocuments").X((e,n)=>{t+=Xg(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next(t=>Cd.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next(n=>Cd.forEach(n,n=>{$c(n.userId===t.userId);const r=og(this.serializer,n);return Yg(e,t.userId,r).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.X((n,i)=>{const a=new cd(n),s=function(e){return[0,Bd(e)]}(a);r.push(t.get(s).next(n=>n?Cd.resolve():(n=>t.put({targetId:0,path:Bd(n),sequenceNumber:e.highestListenSequenceNumber}))(a)))}).next(()=>Cd.waitFor(r))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:nh});const n=t.store("collectionParents"),r=new zg,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Bd(r)})}};return t.store("remoteDocuments").X({Y:!0},(e,t)=>{const n=new cd(e);return i(n.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},(e,t)=>{let[n,r,a]=e;const s=Gd(r);return i(s.popLast())}))}ei(e){const t=e.store("targets");return t.X((e,n)=>{const r=lg(n),i=ug(this.serializer,r);return t.put(i)})}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X((e,n)=>{const i=t.store("remoteDocumentsV14"),a=(s=n,s.document?new pd(cd.fromString(s.document.name).popFirst(5)):s.noDocument?pd.fromSegments(s.noDocument.path):s.unknownDocument?pd.fromSegments(s.unknownDocument.path):Bc()).path.toArray();var s;const o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>Cd.waitFor(r))}si(e,t){const n=t.store("mutations"),r=yy(this.serializer),i=new Oy(My.zs,this.serializer.fe);return n.j().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:gf();og(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Cd.forEach(n,(e,n)=>{const a=new Oc(n),s=yg.de(this.serializer,a),o=i.getIndexManager(a),l=Jg.de(a,this.serializer,o,i.referenceDelegate);return new Ty(r,l,s,o).recalculateAndSaveOverlaysForDocumentKeys(new mh(t,Vd.ct),e).next()})})}}function Vy(e){e.createObjectStore("targetDocuments",{keyPath:eh}).createIndex("documentTargetsIndex",th,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zd,{unique:!0}),e.createObjectStore("targetGlobal")}const jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zy{constructor(e,t,n,r,i,a,s,o,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=a,this.document=s,this.ri=l,this.oi=u,this.ui=c,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!zy.D())throw new Hc(Gc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new py(this,r),this.di=t+"main",this.serializer=new ng(o),this.wi=new xd(this.di,this.ui,new Fy(this.serializer)),this.Bs=new iy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yy(this.serializer),this.qs=new fg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&jc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Hc(Gc.FAILED_PRECONDITION,jy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vd(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>By(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ad(e))return Vc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Uy(e).get("owner").next(e=>Cd.resolve(this.Ri(e)))}Pi(e){return By(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=gh(e,"clientMetadata");return t.j().next(e=>{const n=this.Si(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Cd.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Cd.resolve(!0):Uy(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Hc(Gc.FAILED_PRECONDITION,jy);return!1}}return!(!this.networkEnabled||!this.inForeground)||By(e).j().next(e=>void 0===this.Si(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Vc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new mh(e,Vd.ct);return this.Ai(t).next(()=>this.Pi(t))}),this.wi.close(),this.Mi()}Si(e,t){return e.filter(e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>By(e).j().next(e=>this.Si(e,18e5).map(e=>e.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Jg.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bg(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return yg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Vc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(a=this.ui)?fh:14===a?ph:13===a?hh:12===a?dh:11===a?ch:void Bc();var a;let s;return this.wi.runTransaction(e,r,i,r=>(s=new mh(r,this.Os?this.Os.next():Vd.ct),"readwrite-primary"===t?this.Ti(s).next(e=>!!e||this.Ei(s)).next(t=>{if(!t)throw jc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Hc(Gc.FAILED_PRECONDITION,kd);return n(s)}).next(e=>this.vi(s).next(()=>e)):this.Oi(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Oi(e){return Uy(e).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Hc(Gc.FAILED_PRECONDITION,jy)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uy(e).put("owner",t)}static D(){return xd.D()}Ai(e){const t=Uy(e);return t.get("owner").next(e=>this.Ri(e)?(Vc("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Cd.resolve())}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(jc(`Detected an update time that is in the future: ${e} > ${n}`),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Tt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Vc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return jc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){jc("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uy(e){return gh(e,"owner")}function By(e){return gh(e,"clientMetadata")}function $y(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class qy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=gf(),r=gf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qy(e,t.fromCache,n,r)}}class Gy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if($p(t))return Cd.resolve(null);let n=Wp(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yp(t,null,"F"),n=Wp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=gf(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ji(t,r);return this.zi(t,a,i,n.readTime)?this.Ki(e,Yp(t,null,"F")):this.Wi(e,a,t,n)}))})))}Gi(e,t,n,r){return $p(t)||r.isEqual(ld.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(Fc()<=$t.DEBUG&&Vc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zp(t)),this.Wi(e,a,t,bd(r,-1)))})}ji(e,t){let n=new kh(nf(e));return t.forEach((t,r)=>{ef(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Fc()<=$t.DEBUG&&Vc("QueryEngine","Using full collection scan to execute query:",Zp(t)),this.Ui.getDocumentsMatchingQuery(e,t,Sd.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Hy{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new wh(id),this.Yi=new af(e=>Op(e),Lp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ty(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ky(e,t,n,r){return new Hy(e,t,n,r)}async function Wy(e,t){const n=qc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=gf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({er:e,removedBatchIds:i,addedBatchIds:a}))})})}function Qy(e){const t=qc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Yy(e,t,n){let r=gf(),i=gf();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=of();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ld.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Vc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{nr:r,sr:i}})}function Xy(e,t){const n=qc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Jy(e,t){const n=qc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Cd.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new tg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Zy(e,t,n){const r=qc(e),i=r.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ad(e))throw e;Vc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function ev(e,t,n){const r=qc(e);let i=ld.min(),a=gf();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=qc(e),i=r.Yi.get(n);return void 0!==i?Cd.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Wp(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:ld.min(),n?a:gf())).next(e=>(tv(r,tf(t),e),{documents:e,ir:a})))}function tv(e,t,n){let r=e.Xi.get(t)||ld.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class nv{constructor(){this.activeTargetIds=vf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rv{constructor(){this.Hr=new nv,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iv{Yr(e){}shutdown(){}}class av{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Vc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Vc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sv=null;function ov(){return null===sv?sv=268435456+Math.round(2147483648*Math.random()):sv++,"0x"+sv.toString(16)}const lv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cv="WebChannelConnection";class dv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const a=ov(),s=this.To(e,t);Vc("RestConnection",`Sending RPC '${e}' ${a}:`,s,n);const o={};return this.Eo(o,r,i),this.Ao(e,s,o,n).then(t=>(Vc("RestConnection",`Received RPC '${e}' ${a}: `,t),t),t=>{throw zc("RestConnection",`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t})}vo(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=lv[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=ov();return new Promise((a,s)=>{const o=new Pc;o.setWithCredentials(!0),o.listenOnce(Tc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ic.NO_ERROR:const t=o.getResponseJson();Vc(cv,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Ic.TIMEOUT:Vc(cv,`RPC '${e}' ${i} timed out`),s(new Hc(Gc.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const n=o.getStatus();if(Vc(cv,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gc).indexOf(t)>=0?t:Gc.UNKNOWN}(t.status);s(new Hc(e,t.message))}else s(new Hc(Gc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Hc(Gc.UNAVAILABLE,"Connection failed."));break;default:Bc()}}finally{Vc(cv,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Vc(cv,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=ov(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ec(),s=kc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new xc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");Vc(cv,`Creating RPC '${e}' stream ${r}: ${u}`,o);const c=a.createWebChannel(u,o);let d=!1,h=!1;const p=new uv({ro:t=>{h?Vc(cv,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Vc(cv,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Vc(cv,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(c,Nc.EventType.OPEN,()=>{h||Vc(cv,`RPC '${e}' stream ${r} transport opened.`)}),f(c,Nc.EventType.CLOSE,()=>{h||(h=!0,Vc(cv,`RPC '${e}' stream ${r} transport closed`),p.wo())}),f(c,Nc.EventType.ERROR,t=>{h||(h=!0,zc(cv,`RPC '${e}' stream ${r} transport errored:`,t),p.wo(new Hc(Gc.UNAVAILABLE,"The operation could not be completed")))}),f(c,Nc.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];$c(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Vc(cv,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=tm[e];if(void 0!==t)return im(t)}(t),i=s.message;void 0===n&&(n=Gc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.wo(new Hc(n,i)),c.close()}else Vc(cv,`RPC '${e}' stream ${r} received:`,i),p._o(i)}}),f(s,Cc.STAT_EVENT,t=>{t.stat===_c.PROXY?Vc(cv,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===_c.NOPROXY&&Vc(cv,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function hv(){return"undefined"!=typeof window?window:null}function pv(){return"undefined"!=typeof document?document:null}function fv(e){return new Tm(e,!0)}class mv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Vc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gv{constructor(e,t,n,r,i,a,s,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mv(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Gc.RESOURCE_EXHAUSTED?(jc(t.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Gc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Hc(Gc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Vc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Vc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yv extends gv{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?($c(void 0===t||"string"==typeof t),xh.fromBase64String(t||"")):($c(void 0===t||t instanceof Uint8Array),xh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Gc.UNKNOWN:im(e.code);return new Hc(t,e.message||"")}(s);n=new ym(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Om(e,r.document.name),a=Pm(r.document.updateTime),s=r.document.createTime?Pm(r.document.createTime):ld.min(),o=new ap({mapValue:{fields:r.document.fields}}),l=op.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mm(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Om(e,r.document),a=r.readTime?Pm(r.readTime):ld.min(),s=op.newNoDocument(i,a),o=r.removedTargetIds||[];n=new mm([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Om(e,r.document),a=r.removedTargetIds||[];n=new mm([],a,i,null)}else{if(!("filter"in t))return Bc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new em(r,i),s=e.targetId;n=new gm(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ld.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ld.min():t.readTime?Pm(t.readTime):ld.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Fm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mp(r)?{documents:$m(e,r)}:{query:qm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xm(e,t.resumeToken);const r=Cm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ld.min())>0){n.readTime=_m(e,t.snapshotVersion.toTimestamp());const r=Cm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Fm(this.serializer),t.removeTarget=e,this.Wo(t)}}class vv extends gv{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if($c(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?($c(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Pm(e.updateTime):Pm(t);return n.isEqual(ld.min())&&(n=Pm(t)),new Lf(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Pm(e.commitTime);return this.listener.cu(n,t)}return $c(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Um(this.serializer,e))};this.Wo(t)}}class bv extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Hc(Gc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Io(e,t,n,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Gc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hc(Gc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.vo(e,t,n,a,s,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Gc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hc(Gc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class wv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(jc(t),this.mu=!1):Vc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sv{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Pv(this)&&(Vc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=qc(e);t.vu.add(4),await kv(t),t.bu.set("Unknown"),t.vu.delete(4),await Ev(t)}(this))})}),this.bu=new wv(n,r)}}async function Ev(e){if(Pv(e))for(const t of e.Ru)await t(!0)}async function kv(e){for(const t of e.Ru)await t(!1)}function Iv(e,t){const n=qc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Nv(n)?xv(n):Wv(n).Ko()&&Cv(n,t))}function Tv(e,t){const n=qc(e),r=Wv(n);n.Au.delete(t),r.Ko()&&_v(n,t),0===n.Au.size&&(r.Ko()?r.jo():Pv(n)&&n.bu.set("Unknown"))}function Cv(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ld.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wv(e).su(t)}function _v(e,t){e.Vu.qt(t),Wv(e).iu(t)}function xv(e){e.Vu=new bm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Wv(e).start(),e.bu.gu()}function Nv(e){return Pv(e)&&!Wv(e).Uo()&&e.Au.size>0}function Pv(e){return 0===qc(e).vu.size}function Av(e){e.Vu=void 0}async function Dv(e){e.Au.forEach((t,n)=>{Cv(e,t)})}async function Rv(e,t){Av(e),Nv(e)?(e.bu.Iu(t),xv(e)):e.bu.set("Unknown")}async function Ov(e,t,n){if(e.bu.set("Online"),t instanceof ym&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Vc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lv(e,n)}else if(t instanceof mm?e.Vu.Ht(t):t instanceof gm?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(ld.min()))try{const t=await Qy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(xh.EMPTY_BYTE_STRING,r.snapshotVersion)),_v(e,t);const i=new tg(r.target,t,n,r.sequenceNumber);Cv(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Vc("RemoteStore","Failed to raise snapshot:",t),await Lv(e,t)}}async function Lv(e,t,n){if(!Ad(t))throw t;e.vu.add(1),await kv(e),e.bu.set("Offline"),n||(n=()=>Qy(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Vc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ev(e)})}function Mv(e,t){return t().catch(n=>Lv(e,n,t))}async function Fv(e){const t=qc(e),n=Qv(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Vv(t);)try{const e=await Xy(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,jv(t,e)}catch(e){await Lv(t,e)}zv(t)&&Uv(t)}function Vv(e){return Pv(e)&&e.Eu.length<10}function jv(e,t){e.Eu.push(t);const n=Qv(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function zv(e){return Pv(e)&&!Qv(e).Uo()&&e.Eu.length>0}function Uv(e){Qv(e).start()}async function Bv(e){Qv(e).hu()}async function $v(e){const t=Qv(e);for(const n of e.Eu)t.uu(n.mutations)}async function qv(e,t,n){const r=e.Eu.shift(),i=Jf.from(r,t,n);await Mv(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Fv(e)}async function Gv(e,t){t&&Qv(e).ou&&await async function(e,t){if(rm(n=t.code)&&n!==Gc.ABORTED){const n=e.Eu.shift();Qv(e).Qo(),await Mv(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Fv(e)}var n}(e,t),zv(e)&&Uv(e)}async function Hv(e,t){const n=qc(e);n.asyncQueue.verifyOperationInProgress(),Vc("RemoteStore","RemoteStore received new credentials");const r=Pv(n);n.vu.add(3),await kv(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ev(n)}async function Kv(e,t){const n=qc(e);t?(n.vu.delete(2),await Ev(n)):t||(n.vu.add(2),await kv(n),n.bu.set("Unknown"))}function Wv(e){return e.Su||(e.Su=function(e,t,n){const r=qc(e);return r.fu(),new yv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Dv.bind(null,e),ao:Rv.bind(null,e),nu:Ov.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Nv(e)?xv(e):e.bu.set("Unknown")):(await e.Su.stop(),Av(e))})),e.Su}function Qv(e){return e.Du||(e.Du=function(e,t,n){const r=qc(e);return r.fu(),new vv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Bv.bind(null,e),ao:Gv.bind(null,e),au:$v.bind(null,e),cu:qv.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Fv(e)):(await e.Du.stop(),e.Eu.length>0&&(Vc("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class Yv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Yv(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hc(Gc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(e,t){if(jc("AsyncQueue",`${t}: ${e}`),Ad(e))return new Hc(Gc.UNAVAILABLE,`${t}: ${e}`);throw e}class Jv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pd.comparator(t.key,n.key):(e,t)=>pd.comparator(e.key,t.key),this.keyedMap=uf(),this.sortedSet=new wh(this.comparator)}static emptySet(e){return new Jv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zv{constructor(){this.Cu=new wh(pd.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Bc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class eb{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new eb(e,t,Jv.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class tb{constructor(){this.Nu=void 0,this.listeners=[]}}class nb{constructor(){this.queries=new af(e=>Jp(e),Xp),this.onlineState="Unknown",this.ku=new Set}}async function rb(e,t){const n=qc(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new tb),i)try{a.Nu=await n.onListen(r)}catch(e){const n=Xv(e,`Initialization of query '${Zp(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&ob(n)}async function ib(e,t){const n=qc(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ab(e,t){const n=qc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&ob(n)}function sb(e,t,n){const r=qc(e),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(t)}function ob(e){e.ku.forEach(e=>{e.next()})}class lb{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new eb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=eb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ub{constructor(e){this.key=e}}class cb{constructor(e){this.key=e}}class db{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gf(),this.mutatedKeys=gf(),this.tc=nf(e),this.ec=new Jv(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Zv,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=ef(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let p=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),p=!0):this.rc(u,c)||(n.track({type:2,doc:c}),p=!0,(o&&this.tc(c,o)>0||l&&this.tc(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),p=!0):u&&!c&&(n.track({type:1,doc:u}),p=!0,(o||l)&&(s=!0)),p&&(c?(a=a.add(c),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const a=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,o=s!==this.Xu;return this.Xu=s,0!==i.length||o?{snapshot:new eb(this.query,e.ec,r,i,e.mutatedKeys,0===s,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gf(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new cb(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new ub(n))}),t}hc(e){this.Yu=e.ir,this.Zu=gf();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return eb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pb{constructor(e){this.key=e,this.fc=!1}}class fb{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new af(e=>Jp(e),Xp),this._c=new Map,this.mc=new Set,this.gc=new wh(pd.comparator),this.yc=new Map,this.Ic=new xy,this.Tc={},this.Ec=new Map,this.Ac=ry.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function mb(e,t){const n=Rb(e);let r,i;const a=n.wc.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const e=await Jy(n.localStore,Wp(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await gb(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&Iv(n.remoteStore,e)}return i}async function gb(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await ev(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a);return _b(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const a=await ev(e.localStore,t,!0),s=new db(t,a.ir),o=s.sc(a.documents),l=fm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(o,e.isPrimaryClient,l);_b(e,n,u.cc);const c=new hb(t,n,s);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function yb(e,t){const n=qc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Xp(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Tv(n.remoteStore,r.targetId),Tb(n,r.targetId)}).catch(Td)):(Tb(n,r.targetId),await Zy(n.localStore,r.targetId,!0))}async function vb(e,t){const n=qc(e);try{const e=await function(e,t){const n=qc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,a.addedDocuments,o)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(xh.EMPTY_BYTE_STRING,ld.min()).withLastLimboFreeSnapshotVersion(ld.min()):a.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(a.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,a)&&s.push(n.Bs.updateTargetData(e,u))});let o=of(),l=gf();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Yy(e,a,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(ld.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Cd.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&($c(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?$c(r.fc):e.removedDocuments.size>0&&($c(r.fc),r.fc=!1))}),await Pb(n,e,t)}catch(e){await Td(e)}}function bb(e,t,n){const r=qc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=qc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&ob(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wb(e,t,n){const r=qc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),a=i&&i.key;if(a){let e=new wh(pd.comparator);e=e.insert(a,op.newNoDocument(a,ld.min()));const n=gf().add(a),i=new pm(ld.min(),new Map,new wh(id),e,n);await vb(r,i),r.gc=r.gc.remove(a),r.yc.delete(t),Nb(r)}else await Zy(r.localStore,t,!1).then(()=>Tb(r,t,n)).catch(Td)}async function Sb(e,t){const n=qc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=qc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Cd.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);$c(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ib(n,r,null),kb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pb(n,e)}catch(e){await Td(e)}}async function Eb(e,t,n){const r=qc(e);try{const e=await function(e,t){const n=qc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>($c(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ib(r,t,n),kb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pb(r,e)}catch(n){await Td(n)}}function kb(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Ib(e,t,n){const r=qc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Tb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Cb(e,t)})}function Cb(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Tv(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Nb(e))}function _b(e,t,n){for(const r of n)r instanceof ub?(e.Ic.addReference(r.key,t),xb(e,r)):r instanceof cb?(Vc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Cb(e,r.key)):Bc()}function xb(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Vc("SyncEngine","New document in limbo: "+n),e.mc.add(r),Nb(e))}function Nb(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new pd(cd.fromString(t)),r=e.Ac.next();e.yc.set(r,new pb(n)),e.gc=e.gc.insert(n,r),Iv(e.remoteStore,new tg(Wp(Bp(n.path)),r,"TargetPurposeLimboResolution",Vd.ct))}}async function Pb(e,t,n){const r=qc(e),i=[],a=[],s=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{s.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=qy.Li(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=qc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Cd.forEach(t,t=>Cd.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Cd.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ad(e))throw e;Vc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,a))}async function Ab(e,t){const n=qc(e);if(!n.currentUser.isEqual(t)){Vc("SyncEngine","User change. New user:",t.toKey());const e=await Wy(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Hc(Gc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pb(n,e.er)}}function Db(e,t){const n=qc(e),r=n.yc.get(t);if(r&&r.fc)return gf().add(r.key);{let e=gf();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Rb(e){const t=qc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Db.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wb.bind(null,t),t.dc.nu=ab.bind(null,t.eventManager),t.dc.Pc=sb.bind(null,t.eventManager),t}function Ob(e){const t=qc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eb.bind(null,t),t}class Lb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ky(this.persistence,new Gy,e.initialUser,this.serializer)}createPersistence(e){return new Oy(My.zs,this.serializer)}createSharedClientState(e){return new rv}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mb extends Lb{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await Ob(this.Vc.syncEngine),await Fv(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Ky(this.persistence,new Gy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new cy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Fd(t,this.persistence);return new Md(e.asyncQueue,n)}createPersistence(e){const t=$y(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qg.withCacheSize(this.cacheSizeBytes):Qg.DEFAULT;return new zy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hv(),pv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rv}}class Fb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ab.bind(null,this.syncEngine),await Kv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nb}createDatastore(e){const t=fv(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new dv(r));var r;return function(e,t,n,r){return new bv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>bb(this.syncEngine,e,0),a=av.D()?new av:new iv,new Sv(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new fb(e,t,n,r,i,a);return s&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=qc(e);Vc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await kv(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):jc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Oc.UNAUTHENTICATED,this.clientId=rd.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Vc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Vc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hc(Gc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(US){const n=Xv(US,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zb(e,t){e.asyncQueue.verifyOperationInProgress(),Vc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Wy(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ub(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $b(e);Vc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Hv(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Hv(t.remoteStore,n)),e._onlineComponents=t}function Bb(e){return"FirebaseError"===e.name?e.code===Gc.FAILED_PRECONDITION||e.code===Gc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function $b(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Vc("FirestoreClient","Using user provided OfflineComponentProvider");try{await zb(e,e._uninitializedComponentsProvider._offline)}catch(US){const n=US;if(!Bb(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await zb(e,new Lb)}}else Vc("FirestoreClient","Using default OfflineComponentProvider"),await zb(e,new Lb);return e._offlineComponents}async function qb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Vc("FirestoreClient","Using user provided OnlineComponentProvider"),await Ub(e,e._uninitializedComponentsProvider._online)):(Vc("FirestoreClient","Using default OnlineComponentProvider"),await Ub(e,new Fb))),e._onlineComponents}function Gb(e){return qb(e).then(e=>e.syncEngine)}async function Hb(e){const t=await qb(e),n=t.eventManager;return n.onListen=mb.bind(null,t.syncEngine),n.onUnlisten=yb.bind(null,t.syncEngine),n}function Kb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Kc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Vb({next:a=>{t.enqueueAndForget(()=>ib(e,s));const o=a.docs.has(n);!o&&a.fromCache?i.reject(new Hc(Gc.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new Hc(Gc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new lb(Bp(n.path),a,{includeMetadataChanges:!0,Ku:!0});return rb(e,s)}(await Hb(e),e.asyncQueue,t,n,r)),r.promise}function Wb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Kc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Vb({next:n=>{t.enqueueAndForget(()=>ib(e,s)),n.fromCache&&"server"===r.source?i.reject(new Hc(Gc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new lb(n,a,{includeMetadataChanges:!0,Ku:!0});return rb(e,s)}(await Hb(e),e.asyncQueue,t,n,r)),r.promise}function Qb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yb=new Map;function Xb(e,t,n){if(!n)throw new Hc(Gc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jb(e){if(!pd.isDocumentKey(e))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zb(e){if(pd.isDocumentKey(e))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ew(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Bc()}function tw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hc(Gc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ew(e);throw new Hc(Gc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class nw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Hc(Gc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hc(Gc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Hc(Gc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Hc(Gc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Hc(Gc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Hc(Gc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class rw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Hc(Gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hc(Gc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qc;switch(e.type){case"firstParty":return new Zc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hc(Gc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yb.get(e);t&&(Vc("ComponentProvider","Removing Datastore"),Yb.delete(e),t.terminate())}(this),Promise.resolve()}}function iw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=tw(e,rw))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==s&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Oc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Hc(Gc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Oc(a)}e._authCredentials=new Yc(new Wc(t,n))}}class aw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ow(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aw(this.firestore,e,this._key)}}class sw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sw(this.firestore,e,this._query)}}class ow extends sw{constructor(e,t,n){super(e,t,Bp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aw(this.firestore,null,new pd(e))}withConverter(e){return new ow(this.firestore,e,this._path)}}function lw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ft(e),Xb("collection","path",t),e instanceof rw){const n=cd.fromString(t,...r);return Zb(n),new ow(e,null,n)}{if(!(e instanceof aw||e instanceof ow))throw new Hc(Gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cd.fromString(t,...r));return Zb(n),new ow(e.firestore,null,n)}}function uw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ft(e),1===arguments.length&&(t=rd.A()),Xb("doc","path",t),e instanceof rw){const n=cd.fromString(t,...r);return Jb(n),new aw(e,null,new pd(n))}{if(!(e instanceof aw||e instanceof ow))throw new Hc(Gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cd.fromString(t,...r));return Jb(n),new aw(e.firestore,e instanceof ow?e.converter:null,new pd(n))}}class cw{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mv(this,"async_queue_retry"),this.Xc=()=>{const e=pv();e&&Vc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=pv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=pv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Kc;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ad(e))throw e;Vc("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw jc("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Yv.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Bc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function dw(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class hw extends rw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fw(this),this._firestoreClient.terminate()}}function pw(e){return e._firestoreClient||fw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fw(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Mh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jb(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function mw(e,t,n){const r=new Kc;return e.asyncQueue.enqueue(async()=>{try{await zb(e,n),await Ub(e,t),r.resolve()}catch(e){const n=e;if(!Bb(n))throw n;zc("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}}).then(()=>r.promise)}function gw(e){if(e._initialized||e._terminated)throw new Hc(Gc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yw(xh.fromBase64String(e))}catch(e){throw new Hc(Gc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yw(xh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Hc(Gc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bw{constructor(e){this._methodName=e}}class ww{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hc(Gc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hc(Gc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return id(this._lat,e._lat)||id(this._long,e._long)}}const Sw=/^__.*__$/;class Ew{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gf(e,this.data,this.fieldMask,t,this.fieldTransforms):new qf(e,this.data,t,this.fieldTransforms)}}class kw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bc()}}class Tw{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iw(this.ca)&&Sw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Cw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fv(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Tw({ca:e,methodName:t,ga:n,path:hd.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _w(e){const t=e._freezeSettings(),n=fv(e._databaseId);return new Cw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xw(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(a.merge||a.mergeFields?2:0,t,n,i);zw("Data must be an object, but it was:",s,r);const o=Vw(r,s);let l,u;if(a.merge)l=new Ch(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Uw(t,r,n);if(!s.contains(i))throw new Hc(Gc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Gw(e,i)||e.push(i)}l=new Ch(e),u=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=s.fieldTransforms;return new Ew(new ap(o),l,u)}class Nw extends bw{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}function Pw(e,t,n){return new Tw({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Aw extends bw{_toFieldTransform(e){return new Of(e.path,new Cf)}isEqual(e){return e instanceof Aw}}class Dw extends bw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Pw(this,e,!0),n=this.pa.map(e=>Fw(e,t)),r=new _f(n);return new Of(e.path,r)}isEqual(e){return this===e}}class Rw extends bw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Pw(this,e,!0),n=this.pa.map(e=>Fw(e,t)),r=new Nf(n);return new Of(e.path,r)}isEqual(e){return this===e}}function Ow(e,t,n,r){const i=e.ya(1,t,n);zw("Data must be an object, but it was:",i,r);const a=[],s=ap.empty();vh(r,(e,r)=>{const o=$w(t,e,n);r=Ft(r);const l=i.da(o);if(r instanceof Nw)a.push(o);else{const e=Fw(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new Ch(a);return new kw(s,o,i.fieldTransforms)}function Lw(e,t,n,r,i,a){const s=e.ya(1,t,n),o=[Uw(t,r,n)],l=[i];if(a.length%2!=0)throw new Hc(Gc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Uw(t,a[h])),l.push(a[h+1]);const u=[],c=ap.empty();for(let h=o.length-1;h>=0;--h)if(!Gw(u,o[h])){const e=o[h];let t=l[h];t=Ft(t);const n=s.da(e);if(t instanceof Nw)u.push(e);else{const r=Fw(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new Ch(u);return new kw(c,d,s.fieldTransforms)}function Mw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fw(n,e.ya(r?4:3,t))}function Fw(e,t){if(jw(e=Ft(e)))return zw("Unsupported field value:",t,e),Vw(e,t);if(e instanceof bw)return function(e,t){if(!Iw(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fw(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ft(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=od.fromDate(e);return{timestampValue:_m(t.serializer,n)}}if(e instanceof od){const n=new od(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_m(t.serializer,n)}}if(e instanceof ww)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yw)return{bytesValue:xm(t.serializer,e._byteString)};if(e instanceof aw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Am(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${ew(e)}`)}(e,t)}function Vw(e,t){const n={};return bh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vh(e,(e,r)=>{const i=Fw(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function jw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof od||e instanceof ww||e instanceof yw||e instanceof aw||e instanceof bw)}function zw(e,t,n){if(!jw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ew(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Uw(e,t,n){if((t=Ft(t))instanceof vw)return t._internalPath;if("string"==typeof t)return $w(e,t);throw qw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bw=new RegExp("[~\\*/\\[\\]]");function $w(e,t,n){if(t.search(Bw)>=0)throw qw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vw(...t.split("."))._internalPath}catch(r){throw qw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qw(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Hc(Gc.INVALID_ARGUMENT,o+e+l)}function Gw(e,t){return e.some(e=>e.isEqual(t))}class Hw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new aw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ww("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kw extends Hw{data(){return super.data()}}function Ww(e,t){return"string"==typeof t?$w(e,t):t instanceof vw?t._internalPath:t._delegate._internalPath}function Qw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hc(Gc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yw{}class Xw extends Yw{}function Jw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Yw&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof tS).length,n=e.filter(e=>e instanceof Zw).length;if(t>1||t>0&&n>0)throw new Hc(Gc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Zw extends Xw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Zw(e,t,n)}_apply(e){const t=this._parse(e);return iS(e._query,t),new sw(e.firestore,e.converter,Qp(e._query,t))}_parse(e){const t=_w(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hc(Gc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){rS(s,a);const t=[];for(const n of s)t.push(nS(r,e,n));o={arrayValue:{values:t}}}else o=nS(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||rS(s,a),o=Mw(n,"where",s,"in"===a||"not-in"===a);return fp.create(i,a,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function eS(e,t,n){const r=t,i=Ww("where",e);return Zw._create(i,r,n)}class tS extends Yw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tS(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:mp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)iS(n,i),n=Qp(n,i)}(e._query,t),new sw(e.firestore,e.converter,Qp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function nS(e,t,n){if("string"==typeof(n=Ft(n))){if(""===n)throw new Hc(Gc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hp(t)&&-1!==n.indexOf("/"))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(cd.fromString(n));if(!pd.isDocumentKey(r))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kh(e,new pd(r))}if(n instanceof aw)return Kh(e,n._key);throw new Hc(Gc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ew(n)}.`)}function rS(e,t){if(!Array.isArray(e)||0===e.length)throw new Hc(Gc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iS(e,t){if(t.isInequality()){const n=Gp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=qp(e);null!==i&&aS(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Hc(Gc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Hc(Gc.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function aS(e,t,n){if(!n.isEqual(t))throw new Hc(Gc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class sS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ah(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vh(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new ww(Ah(e.latitude),Ah(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){const t=Ph(e);return new od(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cd.fromString(e);$c(eg(n));const r=new Fh(n.get(1),n.get(3)),i=new pd(n.popFirst(5));return r.isEqual(t)||jc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function oS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends Hw{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new cS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ww("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class cS extends uS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class dS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new cS(this._firestore,this._userDataWriter,n.key,n,new lS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hc(Gc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new cS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new cS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:hS(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function hS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bc()}}function pS(e){e=tw(e,aw);const t=tw(e.firestore,hw);return Kb(pw(t),e._key).then(n=>vS(t,e,n))}class fS extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new yw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aw(this.firestore,null,t)}}function mS(e,t,n){e=tw(e,aw);const r=tw(e.firestore,hw),i=_w(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=Ft(t))||t instanceof vw?Lw(i,"updateDoc",e._key,t,n,o):Ow(i,"updateDoc",e._key,t),yS(r,[a.toMutation(e._key,Mf.exists(!0))])}function gS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=Ft(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||dw(n[l])||(o=n[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(dw(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,d,h;if(e instanceof aw)d=tw(e.firestore,hw),h=Bp(e._key.path),c={next:t=>{n[l]&&n[l](vS(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=tw(e,sw);d=tw(t.firestore,hw),h=t._query;const r=new fS(d);c={next:e=>{n[l]&&n[l](new dS(d,r,t,e))},error:n[l+1],complete:n[l+2]},Qw(e._query)}return function(e,t,n,r){const i=new Vb(r),a=new lb(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>rb(await Hb(e),a)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>ib(await Hb(e),a))}}(pw(d),h,u,c)}function yS(e,t){return function(e,t){const n=new Kc;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ob(e);try{const e=await function(e,t){const n=qc(e),r=od.now(),i=t.reduce((e,t)=>e.add(t.key),gf());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=of(),l=gf();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Bf(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Gf(e.key,t,sp(t.value.mapValue),Mf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:cf(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new wh(id)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pb(r,e.changes),await Fv(r.remoteStore)}catch(e){const t=Xv(e,"Failed to persist write");n.reject(t)}}(await Gb(e),t,n)),n.promise}(pw(e),t)}function vS(e,t,n){const r=n.docs.get(t._key),i=new fS(e);return new uS(e,i,t._key,r,new lS(n.hasPendingWrites,n.fromCache),t.converter)}class bS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_w(e)}set(e,t,n){this._verifyNotCommitted();const r=wS(e,this._firestore),i=oS(r.converter,t,n),a=xw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=wS(e,this._firestore);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];return i="string"==typeof(t=Ft(t))||t instanceof vw?Lw(this._dataReader,"WriteBatch.update",r._key,t,n,s):Ow(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Mf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wS(e,this._firestore);return this._mutations=this._mutations.concat(new Qf(t._key,Mf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Hc(Gc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wS(e,t){if((e=Ft(e)).firestore!==t)throw new Hc(Gc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function SS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dw("arrayUnion",t)}function ES(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rw("arrayRemove",t)}function kS(e){return pw(e=tw(e,hw)),new bS(e,t=>yS(e,t))}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lc=e}(Qn),Gn(new Vt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new hw(new Xc(e.getProvider("auth-internal")),new td(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hc(Gc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Jn(Rc,"3.13.0",e),Jn(Rc,"3.13.0","esm2017")}();const IS=Yn({apiKey:"AIzaSyC2BrM0UJ3VeJuvL6lu_7F6Up6a2bb4UiM",authDomain:"pokedex-tracker-3df58.firebaseapp.com",projectId:"pokedex-tracker-3df58",storageBucket:"pokedex-tracker-3df58.appspot.com",messagingSenderId:"44145765539",appId:"1:44145765539:web:ba47dd275e596b197ca316"}),TS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn();const t=Hn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Hn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;mr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:as,persistence:[va,ta,ra]}),r=Et("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>us)return;const r=null===t||void 0===t?void 0:t.token;cs!==r&&(cs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ft(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Ft(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const a=wt("auth");return a&&Ii(n,`http://${a}`),n}(IS),CS=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Hn("object"==typeof e?e:Xn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=wt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&iw(r,...e)}return r}(IS);(function(e,t){gw(e=tw(e,hw));const n=pw(e);if(n._uninitializedComponentsProvider)throw new Hc(Gc.FAILED_PRECONDITION,"SDK cache is already specified.");zc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Fb;return mw(n,i,new Mb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))})(CS).catch(e=>{"failed-precondition"===e.code?console.warn("Offline persistence can only be enabled in one tab at a time."):"unimplemented"===e.code&&console.warn("The current browser does not support offline persistence.")});var _S=n(579);const xS=(0,r.createContext)();function NS(e){let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),o=async e=>{try{if(!e||!e.trim())throw new Error("Le pseudo ne peut pas \xeatre vide");const t=e.toLowerCase().trim(),r=uw(CS,"usernames",t),i=await pS(r);return!i.exists()||!(!n||i.data().uid!==n.uid)}catch(t){throw console.error("Erreur lors de la v\xe9rification du pseudo:",t),new Error("Erreur lors de la v\xe9rification du pseudo")}},l=async(e,t)=>{const n=uw(CS,"users",e.uid),r=uw(CS,"usernames",t.toLowerCase()),i=kS(CS);i.set(n,{uid:e.uid,email:e.email,username:t,createdAt:new Date,updatedAt:new Date}),i.set(r,{uid:e.uid,createdAt:new Date}),await i.commit()};(0,r.useEffect)(()=>TS.onAuthStateChanged(async e=>{if(e){const r=await pS(uw(CS,"users",e.uid));if(r.exists()){var t,n;const a=r.data();i({uid:e.uid,email:e.email,username:a.username,createdAt:null===(t=a.createdAt)||void 0===t?void 0:t.toDate(),updatedAt:null===(n=a.updatedAt)||void 0===n?void 0:n.toDate()})}else await l(e,e.email.split("@")[0])}else i(null);s(!1)}),[]);const u={currentUser:n,register:async(e,t,n)=>{if(!await o(n))throw new Error("Ce pseudo est d\xe9j\xe0 pris");const r=await async function(e,t,n){var r;const i=Ei(e),a={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await bi(i,a,"signUpPassword");s=$i(i,e)}else s=$i(i,a).catch(async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await bi(i,a,"signUpPassword");return $i(i,e)}return Promise.reject(e)});const o=await s.catch(e=>Promise.reject(e)),l=await qi._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(TS,e,t);return await l(r.user,n),r},loginWithGoogle:async()=>{const e=new zi,t=await async function(e,t,n){const r=Ei(e);vr(e,t,Fi);const i=Ea(r,n);return new Na(r,"signInViaPopup",t,i).executeNotNull()}(TS,e);if(!(await pS(uw(CS,"users",t.user.uid))).exists()){const e=t.user.displayName.replace(/\s+/g,"").toLowerCase();let n=e,r=1;for(;!await o(n);)n=`${e}${r}`,r++;await l(t.user,n)}return t},loginWithEmail:async(e,t)=>await function(e,t,n){return Xi(Ft(e),Mi.credential(t,n))}(TS,e,t),logout:async()=>await TS.signOut(),updateUsername:async e=>{if(!n)throw new Error("Utilisateur non connect\xe9");const t=uw(CS,"users",n.uid);if(!(await pS(t)).exists())throw new Error("Profil utilisateur introuvable - Veuillez vous reconnecter");if(!await o(e))throw new Error("Ce pseudo est d\xe9j\xe0 pris");await mS(uw(CS,"users",n.uid),{username:e,updatedAt:new Date});const r=kS(CS);n.username&&r.delete(uw(CS,"usernames",n.username.toLowerCase())),r.set(uw(CS,"usernames",e.toLowerCase()),{uid:n.uid}),await r.commit(),i({...n,username:e})},checkUsername:o};return(0,_S.jsx)(xS.Provider,{value:u,children:!a&&t})}function PS(){const e=(0,r.useContext)(xS);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}function AS(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),{currentUser:a,logout:s}=PS(),o=re();(0,r.useEffect)(()=>{if(!a)return t([]),void i(!1);let e;return(async()=>{try{const n=Jw(lw(CS,"hunts"),eS("participants","array-contains",a.uid));e=gS(n,async e=>{const n=await Promise.all(e.docs.map(async e=>{const t=e.data();let n="Autre utilisateur";if(t.creatorId){const e=await pS(uw(CS,"users",t.creatorId));e.exists()&&(n=e.data().username||e.data().email)}return{id:e.id,...t,creatorName:n}}));n.sort((e,t)=>{var n,r;return(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(r=e.createdAt)||void 0===r?void 0:r.seconds)}),t(n),i(!1)})}catch(n){console.error("Erreur:",n),i(!1)}})(),()=>{e&&e()}},[a]);const l=async(e,t)=>{if(t.stopPropagation(),window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette chasse ?"))try{await(n=uw(CS,"hunts",e),yS(tw(n.firestore,hw),[new Qf(n._key,Mf.none())]))}catch(r){console.error("Erreur lors de la suppression de la chasse:",r),alert("Une erreur est survenue lors de la suppression")}var n};return n?(0,_S.jsx)("div",{children:"Chargement..."}):(0,_S.jsxs)("div",{className:"hunt-list",children:[(0,_S.jsx)("div",{className:"auth-buttons",children:a?(0,_S.jsxs)(_S.Fragment,{children:[(0,_S.jsxs)("span",{children:["Connect\xe9 en tant que ",a.username||a.email]}),(0,_S.jsx)("button",{onClick:()=>o("/profile"),className:"auth-btn profile",children:"Profil"}),(0,_S.jsx)("button",{onClick:s,className:"auth-btn logout",children:"D\xe9connexion"})]}):(0,_S.jsxs)(_S.Fragment,{children:[(0,_S.jsx)("button",{onClick:()=>o("/login"),className:"auth-btn login",children:"Connexion"}),(0,_S.jsx)("button",{onClick:()=>o("/login?register=true"),className:"auth-btn register",children:"Inscription"})]})}),(0,_S.jsx)("h1",{children:"Chasses Pok\xe9mon Actives"}),a?(0,_S.jsxs)(_S.Fragment,{children:[(0,_S.jsxs)("div",{className:"hunt-actions",children:[(0,_S.jsx)("button",{className:"create-hunt-btn",onClick:()=>o("/hunt/new"),children:"+ Cr\xe9er une nouvelle chasse"}),(0,_S.jsx)(at,{to:"/join-private",className:"join-private-btn",children:"Rejoindre une chasse priv\xe9e"})]}),(0,_S.jsx)("div",{className:"hunt-grid",children:e.map(e=>{var t;return(0,_S.jsxs)("div",{className:"hunt-card",onClick:()=>o(`/hunt/${e.id}`),children:[(0,_S.jsxs)("div",{className:"hunt-card-header",children:[(0,_S.jsx)("h3",{children:e.name}),e.creatorId===a.uid&&(0,_S.jsx)("button",{className:"delete-hunt-btn",onClick:t=>l(e.id,t),title:"Supprimer cette chasse",children:"\xd7"})]}),(0,_S.jsxs)("p",{children:["Cr\xe9\xe9 par: ",e.creatorId===a.uid?"Vous":e.creatorName]}),(0,_S.jsxs)("p",{children:["Participants: ",(null===(t=e.participants)||void 0===t?void 0:t.length)||1]}),e.isPrivate&&(0,_S.jsx)("span",{className:"private-badge",children:"Priv\xe9e"})]},e.id)})})]}):(0,_S.jsx)("div",{className:"login-prompt",children:(0,_S.jsx)("p",{children:"Veuillez vous connecter pour voir vos chasses ou en cr\xe9er une nouvelle."})})]})}function DS(e){var t,n,i,a,s,o,l,u;let{pokemon:c,userId:d,onCapture:h,hunt:p}=e;const[f,m]=(0,r.useState)({normal:(null===(t=c.capturedBy)||void 0===t?void 0:t.includes(d))||!1,shiny:(null===(n=c.shinyCapturedBy)||void 0===n?void 0:n.includes(d))||!1,tracking:(null===(i=c.trackingBy)||void 0===i?void 0:i.includes(d))||!1}),g=e=>{const t=["#FF6B6B","#48DBFB","#6BCB77","#FFD166","#A05195","#FFA5A5","#4CC9F0","#83C5BE","#FFDDD2","#A5A58D"],n=e.split("").reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0);return t[Math.abs(n%t.length)]},y=null===(a=c.capturedBy)||void 0===a?void 0:a[0],v=y?g(y):null,b=(e,t)=>{t.stopPropagation();const n={...f};"shiny"===e?(n.shiny=!n.shiny,n.normal=!0):"tracking"===e&&(n.tracking=!n.tracking),m(n),h(c.id,n)},w=`/sprites/pokemon/${f.shiny?"shiny/":""}${c.id}.png`;return(0,_S.jsxs)("div",{className:`pokemon-card \n        ${f.normal?"captured":""} \n        ${f.shiny?"shiny":""}\n        ${f.tracking?"tracking":""}`,onClick:()=>{if(!d)return;const e={...f,normal:!f.normal,shiny:!!f.normal&&f.shiny,tracking:!!f.normal&&f.tracking};m(e),h(c.id,e)},style:v?{border:`3px solid ${v}`,boxShadow:`0 0 12px ${v}`,background:`linear-gradient(to bottom right, ${v}20, transparent)`}:{},children:[(0,_S.jsx)("button",{className:"capture-indicator tracking "+(f.tracking?"active":""),onClick:e=>b("tracking",e),title:"Traquer ce Pok\xe9mon","aria-label":"Tracking indicator",children:f.tracking?(0,_S.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#2196F3",children:(0,_S.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}):(0,_S.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#666",style:{filter:"grayscale(100%) brightness(0.7)"},children:(0,_S.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})}),(0,_S.jsx)("button",{className:"capture-indicator shiny "+(f.shiny?"active":""),onClick:e=>b("shiny",e),title:"Shiny","aria-label":"Shiny indicator",children:f.shiny?(0,_S.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"gold",children:(0,_S.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}):(0,_S.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#666",style:{filter:"grayscale(100%) brightness(0.7)"},children:(0,_S.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})})}),(0,_S.jsxs)("div",{className:"pokemon-number",children:["#",c.id.toString().padStart(3,"0")]}),(0,_S.jsx)("img",{src:w,alt:c.name,className:"pokemon-sprite",style:{height:"80px",width:"auto",marginBottom:"0"}}),(0,_S.jsx)("h3",{className:"pokemon-name",children:c.name}),(0,_S.jsx)("div",{className:"pokemon-types",children:(Array.isArray(c.type)?c.type:c.type.split(", ")).map((e,t,n)=>(0,_S.jsxs)("span",{children:[(0,_S.jsx)("span",{className:`type-badge type-${e.toLowerCase()}`,children:e.trim()}),t<n.length-1&&(0,_S.jsx)("span",{className:"type-separator",children:" / "})]},t))}),p&&(null===(s=c.capturedBy)||void 0===s?void 0:s.length)>0&&(0,_S.jsx)("div",{className:"participant-badges",children:c.capturedBy.map((e,t)=>{var n;const r=(null===(n=p.participantsInfo)||void 0===n?void 0:n[e])||{username:"Inconnu"},i=e===d;return(0,_S.jsx)("span",{className:"participant-badge",style:{backgroundColor:g(e),transform:0===t?"scale(1.2)":"scale(1)",border:0===t?"2px solid white":"none"},title:`${r.username}${i?" (Vous)":""}${e===(null===p||void 0===p?void 0:p.creatorId)?" (Cr\xe9ateur)":""}`},e)})}),(0,_S.jsxs)("div",{className:"capture-stats",children:[(0,_S.jsxs)("span",{className:"stat-item",children:[(0,_S.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"#FF0000",className:"stat-icon",children:[(0,_S.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,_S.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0-14C6.48 3 2 7.48 2 13s4.48 10 10 10 10-4.48 10-10S17.52 3 12 3zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})]}),(null===(o=c.capturedBy)||void 0===o?void 0:o.length)||0]}),(0,_S.jsxs)("span",{className:"stat-item",children:[(0,_S.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"gold",className:"stat-icon",children:(0,_S.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),(null===(l=c.shinyCapturedBy)||void 0===l?void 0:l.length)||0]}),(0,_S.jsxs)("span",{className:"stat-item",children:[(0,_S.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"#2196F3",className:"stat-icon",children:(0,_S.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),(null===(u=c.trackingBy)||void 0===u?void 0:u.length)||0]})]})]})}const RS=[{id:1,name:"Bulbizarre",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:2,name:"Herbizarre",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:3,name:"Florizarre",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:4,name:"Salam\xe8che",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:5,name:"Reptincel",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:6,name:"Dracaufeu",captured:!1,shiny:!1,generation:1,type:"Feu, Vol"},{id:7,name:"Carapuce",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:8,name:"Carabaffe",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:9,name:"Tortank",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:10,name:"Chenipan",captured:!1,shiny:!1,generation:1,type:"Insecte"},{id:11,name:"Chrysacier",captured:!1,shiny:!1,generation:1,type:"Insecte"},{id:12,name:"Papilusion",captured:!1,shiny:!1,generation:1,type:"Insecte, Vol"},{id:13,name:"Aspicot",captured:!1,shiny:!1,generation:1,type:"Insecte, Poison"},{id:14,name:"Coconfort",captured:!1,shiny:!1,generation:1,type:"Insecte, Poison"},{id:15,name:"Dardargnan",captured:!1,shiny:!1,generation:1,type:"Insecte, Poison"},{id:16,name:"Roucool",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:17,name:"Roucoups",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:18,name:"Roucarnage",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:19,name:"Rattata",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:20,name:"Rattatac",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:21,name:"Piafabec",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:22,name:"Rapasdepic",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:23,name:"Abo",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:24,name:"Arbok",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:25,name:"Pikachu",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:26,name:"Raichu",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:27,name:"Sabelette",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:28,name:"Sablaireau",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:29,name:"Nidoran\u2640",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:30,name:"Nidorina",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:31,name:"Nidoqueen",captured:!1,shiny:!1,generation:1,type:"Poison, Sol"},{id:32,name:"Nidoran\u2642",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:33,name:"Nidorino",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:34,name:"Nidoking",captured:!1,shiny:!1,generation:1,type:"Poison, Sol"},{id:35,name:"M\xe9lof\xe9e",captured:!1,shiny:!1,generation:1,type:"F\xe9e"},{id:36,name:"M\xe9lodelfe",captured:!1,shiny:!1,generation:1,type:"F\xe9e"},{id:37,name:"Goupix",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:38,name:"Feunard",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:39,name:"Rondoudou",captured:!1,shiny:!1,generation:1,type:"Normal, F\xe9e"},{id:40,name:"Grodoudou",captured:!1,shiny:!1,generation:1,type:"Normal, F\xe9e"},{id:41,name:"Nosferapti",captured:!1,shiny:!1,generation:1,type:"Poison, Vol"},{id:42,name:"Nosferalto",captured:!1,shiny:!1,generation:1,type:"Poison, Vol"},{id:43,name:"Mystherbe",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:44,name:"Ortide",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:45,name:"Rafflesia",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:46,name:"Paras",captured:!1,shiny:!1,generation:1,type:"Insecte, Plante"},{id:47,name:"Parasect",captured:!1,shiny:!1,generation:1,type:"Insecte, Plante"},{id:48,name:"Mimitoss",captured:!1,shiny:!1,generation:1,type:"Insecte, Poison"},{id:49,name:"A\xe9romite",captured:!1,shiny:!1,generation:1,type:"Insecte, Poison"},{id:50,name:"Taupiqueur",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:51,name:"Triopikeur",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:52,name:"Miaouss",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:53,name:"Persian",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:54,name:"Psykokwak",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:55,name:"Akwakwak",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:56,name:"F\xe9rosinge",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:57,name:"Colossinge",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:58,name:"Caninos",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:59,name:"Arcanin",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:60,name:"Ptitard",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:61,name:"T\xeatarte",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:62,name:"Tartard",captured:!1,shiny:!1,generation:1,type:"Eau, Combat"},{id:63,name:"Abra",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:64,name:"Kadabra",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:65,name:"Alakazam",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:66,name:"Machoc",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:67,name:"Machopeur",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:68,name:"Mackogneur",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:69,name:"Ch\xe9tiflor",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:70,name:"Boustiflor",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:71,name:"Empiflor",captured:!1,shiny:!1,generation:1,type:"Plante, Poison"},{id:72,name:"Tentacool",captured:!1,shiny:!1,generation:1,type:"Eau, Poison"},{id:73,name:"Tentacruel",captured:!1,shiny:!1,generation:1,type:"Eau, Poison"},{id:74,name:"Racaillou",captured:!1,shiny:!1,generation:1,type:"Roche, Sol"},{id:75,name:"Gravalanch",captured:!1,shiny:!1,generation:1,type:"Roche, Sol"},{id:76,name:"Grolem",captured:!1,shiny:!1,generation:1,type:"Roche, Sol"},{id:77,name:"Ponyta",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:78,name:"Galopa",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:79,name:"Ramoloss",captured:!1,shiny:!1,generation:1,type:"Eau, Psy"},{id:80,name:"Flagadoss",captured:!1,shiny:!1,generation:1,type:"Eau, Psy"},{id:81,name:"Magn\xe9ti",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik, Acier"},{id:82,name:"Magn\xe9ton",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik, Acier"},{id:83,name:"Canarticho",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:84,name:"Doduo",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:85,name:"Dodrio",captured:!1,shiny:!1,generation:1,type:"Normal, Vol"},{id:86,name:"Otaria",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:87,name:"Lamantine",captured:!1,shiny:!1,generation:1,type:"Eau, Glace"},{id:88,name:"Tadmorv",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:89,name:"Grotadmorv",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:90,name:"Kokiyas",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:91,name:"Crustabri",captured:!1,shiny:!1,generation:1,type:"Eau, Glace"},{id:92,name:"Fantominus",captured:!1,shiny:!1,generation:1,type:"Spectre, Poison"},{id:93,name:"Spectrum",captured:!1,shiny:!1,generation:1,type:"Spectre, Poison"},{id:94,name:"Ectoplasma",captured:!1,shiny:!1,generation:1,type:"Spectre, Poison"},{id:95,name:"Onix",captured:!1,shiny:!1,generation:1,type:"Roche, Sol"},{id:96,name:"Soporifik",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:97,name:"Hypnomade",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:98,name:"Krabby",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:99,name:"Krabboss",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:100,name:"Voltorbe",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:101,name:"\xc9lectrode",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:102,name:"Noeunoeuf",captured:!1,shiny:!1,generation:1,type:"Plante, Psy"},{id:103,name:"Noadkoko",captured:!1,shiny:!1,generation:1,type:"Plante, Psy"},{id:104,name:"Osselait",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:105,name:"Ossatueur",captured:!1,shiny:!1,generation:1,type:"Sol"},{id:106,name:"Kicklee",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:107,name:"Tygnon",captured:!1,shiny:!1,generation:1,type:"Combat"},{id:108,name:"Excelangue",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:109,name:"Smogo",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:110,name:"Smogogo",captured:!1,shiny:!1,generation:1,type:"Poison"},{id:111,name:"Rhinocorne",captured:!1,shiny:!1,generation:1,type:"Sol, Roche"},{id:112,name:"Rhinof\xe9ros",captured:!1,shiny:!1,generation:1,type:"Sol, Roche"},{id:113,name:"Leveinard",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:114,name:"Saquedeneu",captured:!1,shiny:!1,generation:1,type:"Plante"},{id:115,name:"Kangourex",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:116,name:"Hypotrempe",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:117,name:"Hypoc\xe9an",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:118,name:"Poissir\xe8ne",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:119,name:"Poissoroy",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:120,name:"Stari",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:121,name:"Staross",captured:!1,shiny:!1,generation:1,type:"Eau, Psy"},{id:122,name:"M. Mime",captured:!1,shiny:!1,generation:1,type:"Psy, F\xe9e"},{id:123,name:"Ins\xe9cateur",captured:!1,shiny:!1,generation:1,type:"Insecte, Vol"},{id:124,name:"Lippoutou",captured:!1,shiny:!1,generation:1,type:"Glace, Psy"},{id:125,name:"\xc9lektek",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:126,name:"Magmar",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:127,name:"Scarabrute",captured:!1,shiny:!1,generation:1,type:"Insecte"},{id:128,name:"Tauros",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:129,name:"Magicarpe",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:130,name:"L\xe9viator",captured:!1,shiny:!1,generation:1,type:"Eau, Vol"},{id:131,name:"Lokhlass",captured:!1,shiny:!1,generation:1,type:"Eau, Glace"},{id:132,name:"M\xe9tamorph",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:133,name:"\xc9voli",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:134,name:"Aquali",captured:!1,shiny:!1,generation:1,type:"Eau"},{id:135,name:"Voltali",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik"},{id:136,name:"Pyroli",captured:!1,shiny:!1,generation:1,type:"Feu"},{id:137,name:"Porygon",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:138,name:"Amonita",captured:!1,shiny:!1,generation:1,type:"Roche, Eau"},{id:139,name:"Amonistar",captured:!1,shiny:!1,generation:1,type:"Roche, Eau"},{id:140,name:"Kabuto",captured:!1,shiny:!1,generation:1,type:"Roche, Eau"},{id:141,name:"Kabutops",captured:!1,shiny:!1,generation:1,type:"Roche, Eau"},{id:142,name:"Pt\xe9ra",captured:!1,shiny:!1,generation:1,type:"Roche, Vol"},{id:143,name:"Ronflex",captured:!1,shiny:!1,generation:1,type:"Normal"},{id:144,name:"Artikodin",captured:!1,shiny:!1,generation:1,type:"Glace, Vol"},{id:145,name:"\xc9lecthor",captured:!1,shiny:!1,generation:1,type:"\xc9lectrik, Vol"},{id:146,name:"Sulfura",captured:!1,shiny:!1,generation:1,type:"Feu, Vol"},{id:147,name:"Minidraco",captured:!1,shiny:!1,generation:1,type:"Dragon"},{id:148,name:"Draco",captured:!1,shiny:!1,generation:1,type:"Dragon"},{id:149,name:"Dracolosse",captured:!1,shiny:!1,generation:1,type:"Dragon, Vol"},{id:150,name:"Mewtwo",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:151,name:"Mew",captured:!1,shiny:!1,generation:1,type:"Psy"},{id:152,name:"Germignon",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:153,name:"Macronium",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:154,name:"M\xe9ganium",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:155,name:"H\xe9ricendre",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:156,name:"Feurisson",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:157,name:"Typhlosion",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:158,name:"Kaiminus",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:159,name:"Crocrodil",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:160,name:"Aligatueur",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:161,name:"Fouinette",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:162,name:"Fouinar",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:163,name:"Hoothoot",captured:!1,shiny:!1,generation:2,type:"Normal, Vol"},{id:164,name:"Noarfang",captured:!1,shiny:!1,generation:2,type:"Normal, Vol"},{id:165,name:"Coxy",captured:!1,shiny:!1,generation:2,type:"Insecte, Vol"},{id:166,name:"Coxyclaque",captured:!1,shiny:!1,generation:2,type:"Insecte, Vol"},{id:167,name:"Mimigal",captured:!1,shiny:!1,generation:2,type:"Insecte, Poison"},{id:168,name:"Migalos",captured:!1,shiny:!1,generation:2,type:"Insecte, Poison"},{id:169,name:"Nostenfer",captured:!1,shiny:!1,generation:2,type:"Poison, Vol"},{id:170,name:"Loupio",captured:!1,shiny:!1,generation:2,type:"Eau, \xc9lectrik"},{id:171,name:"Lanturn",captured:!1,shiny:!1,generation:2,type:"Eau, \xc9lectrik"},{id:172,name:"Pichu",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:173,name:"M\xe9lo",captured:!1,shiny:!1,generation:2,type:"F\xe9e"},{id:174,name:"Toudoudou",captured:!1,shiny:!1,generation:2,type:"Normal, F\xe9e"},{id:175,name:"Togepi",captured:!1,shiny:!1,generation:2,type:"F\xe9e"},{id:176,name:"Togetic",captured:!1,shiny:!1,generation:2,type:"F\xe9e, Vol"},{id:177,name:"Natu",captured:!1,shiny:!1,generation:2,type:"Psy, Vol"},{id:178,name:"Xatu",captured:!1,shiny:!1,generation:2,type:"Psy, Vol"},{id:179,name:"Wattouat",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:180,name:"Lainergie",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:181,name:"Pharamp",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:182,name:"Joliflor",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:183,name:"Marill",captured:!1,shiny:!1,generation:2,type:"Eau, F\xe9e"},{id:184,name:"Azumarill",captured:!1,shiny:!1,generation:2,type:"Eau, F\xe9e"},{id:185,name:"Simularbre",captured:!1,shiny:!1,generation:2,type:"Roche"},{id:186,name:"Tarpaud",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:187,name:"Granivol",captured:!1,shiny:!1,generation:2,type:"Plante, Vol"},{id:188,name:"Floravol",captured:!1,shiny:!1,generation:2,type:"Plante, Vol"},{id:189,name:"Cotovol",captured:!1,shiny:!1,generation:2,type:"Plante, Vol"},{id:190,name:"Capumain",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:191,name:"Tournegrin",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:192,name:"H\xe9liatronc",captured:!1,shiny:!1,generation:2,type:"Plante"},{id:193,name:"Yanma",captured:!1,shiny:!1,generation:2,type:"Insecte, Vol"},{id:194,name:"Axoloto",captured:!1,shiny:!1,generation:2,type:"Eau, Sol"},{id:195,name:"Maraiste",captured:!1,shiny:!1,generation:2,type:"Eau, Sol"},{id:196,name:"Mentali",captured:!1,shiny:!1,generation:2,type:"Psy"},{id:197,name:"Noctali",captured:!1,shiny:!1,generation:2,type:"T\xe9n\xe8bres"},{id:198,name:"Corn\xe8bre",captured:!1,shiny:!1,generation:2,type:"T\xe9n\xe8bres, Vol"},{id:199,name:"Roigada",captured:!1,shiny:!1,generation:2,type:"Eau, Psy"},{id:200,name:"Feufor\xeave",captured:!1,shiny:!1,generation:2,type:"Spectre"},{id:201,name:"Zarbi",captured:!1,shiny:!1,generation:2,type:"Psy"},{id:202,name:"Qulbutok\xe9",captured:!1,shiny:!1,generation:2,type:"Psy"},{id:203,name:"Girafarig",captured:!1,shiny:!1,generation:2,type:"Normal, Psy"},{id:204,name:"Pomdepik",captured:!1,shiny:!1,generation:2,type:"Insecte"},{id:205,name:"Foretress",captured:!1,shiny:!1,generation:2,type:"Insecte, Acier"},{id:206,name:"Insolourdo",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:207,name:"Scorplane",captured:!1,shiny:!1,generation:2,type:"Sol, Vol"},{id:208,name:"Steelix",captured:!1,shiny:!1,generation:2,type:"Acier, Sol"},{id:209,name:"Snubbull",captured:!1,shiny:!1,generation:2,type:"F\xe9e"},{id:210,name:"Granbull",captured:!1,shiny:!1,generation:2,type:"F\xe9e"},{id:211,name:"Qwilfish",captured:!1,shiny:!1,generation:2,type:"Eau, Poison"},{id:212,name:"Cizayox",captured:!1,shiny:!1,generation:2,type:"Insecte, Acier"},{id:213,name:"Caratroc",captured:!1,shiny:!1,generation:2,type:"Insecte, Roche"},{id:214,name:"Scarhino",captured:!1,shiny:!1,generation:2,type:"Insecte, Combat"},{id:215,name:"Farfuret",captured:!1,shiny:!1,generation:2,type:"T\xe9n\xe8bres, Glace"},{id:216,name:"Teddiursa",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:217,name:"Ursaring",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:218,name:"Limagma",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:219,name:"Volcaropod",captured:!1,shiny:!1,generation:2,type:"Feu, Roche"},{id:220,name:"Marcacrin",captured:!1,shiny:!1,generation:2,type:"Glace, Sol"},{id:221,name:"Cochignon",captured:!1,shiny:!1,generation:2,type:"Glace, Sol"},{id:222,name:"Corayon",captured:!1,shiny:!1,generation:2,type:"Eau, Roche"},{id:223,name:"R\xe9moraid",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:224,name:"Octillery",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:225,name:"Cadoizo",captured:!1,shiny:!1,generation:2,type:"Glace, Vol"},{id:226,name:"D\xe9manta",captured:!1,shiny:!1,generation:2,type:"Eau, Vol"},{id:227,name:"Airmure",captured:!1,shiny:!1,generation:2,type:"Acier, Vol"},{id:228,name:"Malosse",captured:!1,shiny:!1,generation:2,type:"T\xe9n\xe8bres, Feu"},{id:229,name:"D\xe9molosse",captured:!1,shiny:!1,generation:2,type:"T\xe9n\xe8bres, Feu"},{id:230,name:"Hyporoi",captured:!1,shiny:!1,generation:2,type:"Eau, Dragon"},{id:231,name:"Phanpy",captured:!1,shiny:!1,generation:2,type:"Sol"},{id:232,name:"Donphan",captured:!1,shiny:!1,generation:2,type:"Sol"},{id:233,name:"Porygon2",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:234,name:"Cerfrousse",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:235,name:"Queulorior",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:236,name:"Debugant",captured:!1,shiny:!1,generation:2,type:"Combat"},{id:237,name:"Kapoera",captured:!1,shiny:!1,generation:2,type:"Combat"},{id:238,name:"Lippouti",captured:!1,shiny:!1,generation:2,type:"Glace, Psy"},{id:239,name:"\xc9lekid",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:240,name:"Magby",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:241,name:"\xc9cr\xe9meuh",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:242,name:"Leuphorie",captured:!1,shiny:!1,generation:2,type:"Normal"},{id:243,name:"Raikou",captured:!1,shiny:!1,generation:2,type:"\xc9lectrik"},{id:244,name:"Entei",captured:!1,shiny:!1,generation:2,type:"Feu"},{id:245,name:"Suicune",captured:!1,shiny:!1,generation:2,type:"Eau"},{id:246,name:"Embrylex",captured:!1,shiny:!1,generation:2,type:"Roche, Sol"},{id:247,name:"Ymphect",captured:!1,shiny:!1,generation:2,type:"Roche, Sol"},{id:248,name:"Tyranocif",captured:!1,shiny:!1,generation:2,type:"Roche, T\xe9n\xe8bres"},{id:249,name:"Lugia",captured:!1,shiny:!1,generation:2,type:"Psy, Vol"},{id:250,name:"Ho-Oh",captured:!1,shiny:!1,generation:2,type:"Feu, Vol"},{id:251,name:"Celebi",captured:!1,shiny:!1,generation:2,type:"Psy, Plante"},{id:252,name:"Arcko",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:253,name:"Massko",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:254,name:"Jungko",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:255,name:"Poussifeu",captured:!1,shiny:!1,generation:3,type:"Feu"},{id:256,name:"Galifeu",captured:!1,shiny:!1,generation:3,type:"Feu, Combat"},{id:257,name:"Bras\xe9gali",captured:!1,shiny:!1,generation:3,type:"Feu, Combat"},{id:258,name:"Gobou",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:259,name:"Flobio",captured:!1,shiny:!1,generation:3,type:"Eau, Sol"},{id:260,name:"Laggron",captured:!1,shiny:!1,generation:3,type:"Eau, Sol"},{id:261,name:"Medhy\xe8na",captured:!1,shiny:!1,generation:3,type:"T\xe9n\xe8bres"},{id:262,name:"Grahy\xe8na",captured:!1,shiny:!1,generation:3,type:"T\xe9n\xe8bres"},{id:263,name:"Zigzaton",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:264,name:"Lin\xe9on",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:265,name:"Chenipotte",captured:!1,shiny:!1,generation:3,type:"Insecte"},{id:266,name:"Armulys",captured:!1,shiny:!1,generation:3,type:"Insecte"},{id:267,name:"Charmillon",captured:!1,shiny:!1,generation:3,type:"Insecte, Vol"},{id:268,name:"Blindalys",captured:!1,shiny:!1,generation:3,type:"Insecte"},{id:269,name:"Papinox",captured:!1,shiny:!1,generation:3,type:"Insecte, Poison"},{id:270,name:"N\xe9nupiot",captured:!1,shiny:!1,generation:3,type:"Eau, Plante"},{id:271,name:"Lombre",captured:!1,shiny:!1,generation:3,type:"Eau, Plante"},{id:272,name:"Ludicolo",captured:!1,shiny:!1,generation:3,type:"Eau, Plante"},{id:273,name:"Grainipiot",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:274,name:"Pifeuil",captured:!1,shiny:!1,generation:3,type:"Plante, T\xe9n\xe8bres"},{id:275,name:"Tengalice",captured:!1,shiny:!1,generation:3,type:"Plante, T\xe9n\xe8bres"},{id:276,name:"Nirondelle",captured:!1,shiny:!1,generation:3,type:"Normal, Vol"},{id:277,name:"H\xe9l\xe9delle",captured:!1,shiny:!1,generation:3,type:"Normal, Vol"},{id:278,name:"Go\xe9lise",captured:!1,shiny:!1,generation:3,type:"Eau, Vol"},{id:279,name:"Bekipan",captured:!1,shiny:!1,generation:3,type:"Eau, Vol"},{id:280,name:"Tarsal",captured:!1,shiny:!1,generation:3,type:"Psy, F\xe9e"},{id:281,name:"Kirlia",captured:!1,shiny:!1,generation:3,type:"Psy, F\xe9e"},{id:282,name:"Gardevoir",captured:!1,shiny:!1,generation:3,type:"Psy, F\xe9e"},{id:283,name:"Arakdo",captured:!1,shiny:!1,generation:3,type:"Insecte, Eau"},{id:284,name:"Maskadra",captured:!1,shiny:!1,generation:3,type:"Insecte, Vol"},{id:285,name:"Balignon",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:286,name:"Chapignon",captured:!1,shiny:!1,generation:3,type:"Plante, Combat"},{id:287,name:"Parecool",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:288,name:"Vigoroth",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:289,name:"Monafl\xe8mit",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:290,name:"Ningale",captured:!1,shiny:!1,generation:3,type:"Insecte, Sol"},{id:291,name:"Ninjask",captured:!1,shiny:!1,generation:3,type:"Insecte, Vol"},{id:292,name:"Munja",captured:!1,shiny:!1,generation:3,type:"Insecte, Spectre"},{id:293,name:"Chuchmur",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:294,name:"Ramboum",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:295,name:"Brouhabam",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:296,name:"Makuhita",captured:!1,shiny:!1,generation:3,type:"Combat"},{id:297,name:"Hariyama",captured:!1,shiny:!1,generation:3,type:"Combat"},{id:298,name:"Azurill",captured:!1,shiny:!1,generation:3,type:"Normal, F\xe9e"},{id:299,name:"Tarinor",captured:!1,shiny:!1,generation:3,type:"Roche"},{id:300,name:"Skitty",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:301,name:"Delcatty",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:302,name:"T\xe9n\xe9fix",captured:!1,shiny:!1,generation:3,type:"T\xe9n\xe8bres, Spectre"},{id:303,name:"Mysdibule",captured:!1,shiny:!1,generation:3,type:"Acier, F\xe9e"},{id:304,name:"Galekid",captured:!1,shiny:!1,generation:3,type:"Acier, Roche"},{id:305,name:"Galegon",captured:!1,shiny:!1,generation:3,type:"Acier, Roche"},{id:306,name:"Galeking",captured:!1,shiny:!1,generation:3,type:"Acier, Roche"},{id:307,name:"M\xe9ditikka",captured:!1,shiny:!1,generation:3,type:"Combat, Psy"},{id:308,name:"Charmina",captured:!1,shiny:!1,generation:3,type:"Combat, Psy"},{id:309,name:"Dynavolt",captured:!1,shiny:!1,generation:3,type:"\xc9lectrik"},{id:310,name:"\xc9lecsprint",captured:!1,shiny:!1,generation:3,type:"\xc9lectrik"},{id:311,name:"Posipi",captured:!1,shiny:!1,generation:3,type:"\xc9lectrik"},{id:312,name:"N\xe9gapi",captured:!1,shiny:!1,generation:3,type:"\xc9lectrik"},{id:313,name:"Muciole",captured:!1,shiny:!1,generation:3,type:"Insecte"},{id:314,name:"Lumivole",captured:!1,shiny:!1,generation:3,type:"Insecte"},{id:315,name:"Ros\xe9lia",captured:!1,shiny:!1,generation:3,type:"Plante, Poison"},{id:316,name:"Gloupti",captured:!1,shiny:!1,generation:3,type:"Poison"},{id:317,name:"Avaltout",captured:!1,shiny:!1,generation:3,type:"Poison"},{id:318,name:"Carvanha",captured:!1,shiny:!1,generation:3,type:"Eau, T\xe9n\xe8bres"},{id:319,name:"Sharpedo",captured:!1,shiny:!1,generation:3,type:"Eau, T\xe9n\xe8bres"},{id:320,name:"Wailmer",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:321,name:"Wailord",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:322,name:"Chamallot",captured:!1,shiny:!1,generation:3,type:"Feu"},{id:323,name:"Cam\xe9rupt",captured:!1,shiny:!1,generation:3,type:"Feu, Sol"},{id:324,name:"Chartor",captured:!1,shiny:!1,generation:3,type:"Feu"},{id:325,name:"Spoink",captured:!1,shiny:!1,generation:3,type:"Psy"},{id:326,name:"Groret",captured:!1,shiny:!1,generation:3,type:"Psy"},{id:327,name:"Spinda",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:328,name:"Kraknoix",captured:!1,shiny:!1,generation:3,type:"Sol"},{id:329,name:"Vibraninf",captured:!1,shiny:!1,generation:3,type:"Sol, Dragon"},{id:330,name:"Lib\xe9gon",captured:!1,shiny:!1,generation:3,type:"Sol, Dragon"},{id:331,name:"Cacnea",captured:!1,shiny:!1,generation:3,type:"Plante"},{id:332,name:"Cacturne",captured:!1,shiny:!1,generation:3,type:"Plante, T\xe9n\xe8bres"},{id:333,name:"Tylton",captured:!1,shiny:!1,generation:3,type:"Normal, Vol"},{id:334,name:"Altaria",captured:!1,shiny:!1,generation:3,type:"Dragon, Vol"},{id:335,name:"Mangriff",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:336,name:"S\xe9viper",captured:!1,shiny:!1,generation:3,type:"Poison"},{id:337,name:"S\xe9l\xe9roc",captured:!1,shiny:!1,generation:3,type:"Roche, Psy"},{id:338,name:"Solaroc",captured:!1,shiny:!1,generation:3,type:"Roche, Psy"},{id:339,name:"Barloche",captured:!1,shiny:!1,generation:3,type:"Eau, Sol"},{id:340,name:"Barbicha",captured:!1,shiny:!1,generation:3,type:"Eau, Sol"},{id:341,name:"\xc9crapince",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:342,name:"Colhomard",captured:!1,shiny:!1,generation:3,type:"Eau, T\xe9n\xe8bres"},{id:343,name:"Balbuto",captured:!1,shiny:!1,generation:3,type:"Sol, Psy"},{id:344,name:"Kaorine",captured:!1,shiny:!1,generation:3,type:"Sol, Psy"},{id:345,name:"Lilia",captured:!1,shiny:!1,generation:3,type:"Roche, Plante"},{id:346,name:"Vacilys",captured:!1,shiny:!1,generation:3,type:"Roche, Plante"},{id:347,name:"Anorith",captured:!1,shiny:!1,generation:3,type:"Roche, Insecte"},{id:348,name:"Armaldo",captured:!1,shiny:!1,generation:3,type:"Roche, Insecte"},{id:349,name:"Barpau",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:350,name:"Milobellus",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:351,name:"Morph\xe9o",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:352,name:"Kecleon",captured:!1,shiny:!1,generation:3,type:"Normal"},{id:353,name:"Polichombr",captured:!1,shiny:!1,generation:3,type:"Spectre"},{id:354,name:"Branette",captured:!1,shiny:!1,generation:3,type:"Spectre"},{id:355,name:"Skel\xe9nox",captured:!1,shiny:!1,generation:3,type:"Spectre"},{id:356,name:"T\xe9raclope",captured:!1,shiny:!1,generation:3,type:"Spectre"},{id:357,name:"Tropius",captured:!1,shiny:!1,generation:3,type:"Plante, Vol"},{id:358,name:"\xc9oko",captured:!1,shiny:!1,generation:3,type:"Psy"},{id:359,name:"Absol",captured:!1,shiny:!1,generation:3,type:"T\xe9n\xe8bres"},{id:360,name:"Ok\xe9ok\xe9",captured:!1,shiny:!1,generation:3,type:"Psy"},{id:361,name:"Stalgamin",captured:!1,shiny:!1,generation:3,type:"Glace"},{id:362,name:"Oniglali",captured:!1,shiny:!1,generation:3,type:"Glace"},{id:363,name:"Obalie",captured:!1,shiny:!1,generation:3,type:"Glace, Eau"},{id:364,name:"Phogleur",captured:!1,shiny:!1,generation:3,type:"Glace, Eau"},{id:365,name:"Kaimorse",captured:!1,shiny:!1,generation:3,type:"Glace, Eau"},{id:366,name:"Coquiperl",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:367,name:"Serpang",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:368,name:"Rosabyss",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:369,name:"Relicanth",captured:!1,shiny:!1,generation:3,type:"Eau, Roche"},{id:370,name:"Lovdisc",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:371,name:"Draby",captured:!1,shiny:!1,generation:3,type:"Dragon"},{id:372,name:"Drackhaus",captured:!1,shiny:!1,generation:3,type:"Dragon"},{id:373,name:"Drattak",captured:!1,shiny:!1,generation:3,type:"Dragon, Vol"},{id:374,name:"Terhal",captured:!1,shiny:!1,generation:3,type:"Acier, Psy"},{id:375,name:"M\xe9tang",captured:!1,shiny:!1,generation:3,type:"Acier, Psy"},{id:376,name:"M\xe9talosse",captured:!1,shiny:!1,generation:3,type:"Acier, Psy"},{id:377,name:"Regirock",captured:!1,shiny:!1,generation:3,type:"Roche"},{id:378,name:"Regice",captured:!1,shiny:!1,generation:3,type:"Glace"},{id:379,name:"Registeel",captured:!1,shiny:!1,generation:3,type:"Acier"},{id:380,name:"Latias",captured:!1,shiny:!1,generation:3,type:"Dragon, Psy"},{id:381,name:"Latios",captured:!1,shiny:!1,generation:3,type:"Dragon, Psy"},{id:382,name:"Kyogre",captured:!1,shiny:!1,generation:3,type:"Eau"},{id:383,name:"Groudon",captured:!1,shiny:!1,generation:3,type:"Sol"},{id:384,name:"Rayquaza",captured:!1,shiny:!1,generation:3,type:"Dragon, Vol"},{id:385,name:"Jirachi",captured:!1,shiny:!1,generation:3,type:"Acier, Psy"},{id:386,name:"Deoxys",captured:!1,shiny:!1,generation:3,type:"Psy"},{id:387,name:"Tortipouss",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:388,name:"Boskara",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:389,name:"Torterra",captured:!1,shiny:!1,generation:4,type:"Plante, Sol"},{id:390,name:"Ouisticram",captured:!1,shiny:!1,generation:4,type:"Feu"},{id:391,name:"Chimpenfeu",captured:!1,shiny:!1,generation:4,type:"Feu, Combat"},{id:392,name:"Simiabraz",captured:!1,shiny:!1,generation:4,type:"Feu, Combat"},{id:393,name:"Tiplouf",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:394,name:"Prinplouf",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:395,name:"Pingol\xe9on",captured:!1,shiny:!1,generation:4,type:"Eau, Acier"},{id:396,name:"\xc9tourmi",captured:!1,shiny:!1,generation:4,type:"Normal, Vol"},{id:397,name:"\xc9tourvol",captured:!1,shiny:!1,generation:4,type:"Normal, Vol"},{id:398,name:"\xc9touraptor",captured:!1,shiny:!1,generation:4,type:"Normal, Vol"},{id:399,name:"Keunotor",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:400,name:"Castorno",captured:!1,shiny:!1,generation:4,type:"Normal, Eau"},{id:401,name:"Crikzik",captured:!1,shiny:!1,generation:4,type:"Insecte"},{id:402,name:"M\xe9lokrik",captured:!1,shiny:!1,generation:4,type:"Insecte"},{id:403,name:"Lixy",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik"},{id:404,name:"Luxio",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik"},{id:405,name:"Luxray",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik"},{id:406,name:"Rozbouton",captured:!1,shiny:!1,generation:4,type:"Plante, Poison"},{id:407,name:"Roserade",captured:!1,shiny:!1,generation:4,type:"Plante, Poison"},{id:408,name:"Kranidos",captured:!1,shiny:!1,generation:4,type:"Roche"},{id:409,name:"Charkos",captured:!1,shiny:!1,generation:4,type:"Roche"},{id:410,name:"Dinoclier",captured:!1,shiny:!1,generation:4,type:"Roche, Acier"},{id:411,name:"Bastiodon",captured:!1,shiny:!1,generation:4,type:"Roche, Acier"},{id:412,name:"Cheniti",captured:!1,shiny:!1,generation:4,type:"Insecte"},{id:413,name:"Cheniselle",captured:!1,shiny:!1,generation:4,type:"Insecte, Plante"},{id:414,name:"Papilord",captured:!1,shiny:!1,generation:4,type:"Insecte, Vol"},{id:415,name:"Apitrini",captured:!1,shiny:!1,generation:4,type:"Insecte, Vol"},{id:416,name:"Apireine",captured:!1,shiny:!1,generation:4,type:"Insecte, Vol"},{id:417,name:"Pachirisu",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik"},{id:418,name:"Must\xe9bou\xe9e",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:419,name:"Must\xe9flott",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:420,name:"Ceribou",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:421,name:"Ceriflor",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:422,name:"Sancoki",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:423,name:"Tritosor",captured:!1,shiny:!1,generation:4,type:"Eau, Sol"},{id:424,name:"Capidextre",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:425,name:"Baudrive",captured:!1,shiny:!1,generation:4,type:"Spectre, Vol"},{id:426,name:"Grodrive",captured:!1,shiny:!1,generation:4,type:"Spectre, Vol"},{id:427,name:"Laporeille",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:428,name:"Lockpin",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:429,name:"Magir\xeave",captured:!1,shiny:!1,generation:4,type:"Spectre"},{id:430,name:"Corboss",captured:!1,shiny:!1,generation:4,type:"T\xe9n\xe8bres, Vol"},{id:431,name:"Chaglam",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:432,name:"Chaffreux",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:433,name:"Korillon",captured:!1,shiny:!1,generation:4,type:"Psy"},{id:434,name:"Moufouette",captured:!1,shiny:!1,generation:4,type:"Poison, T\xe9n\xe8bres"},{id:435,name:"Moufflair",captured:!1,shiny:!1,generation:4,type:"Poison, T\xe9n\xe8bres"},{id:436,name:"Arch\xe9omire",captured:!1,shiny:!1,generation:4,type:"Acier, Psy"},{id:437,name:"Arch\xe9odong",captured:!1,shiny:!1,generation:4,type:"Acier, Psy"},{id:438,name:"Manza\xef",captured:!1,shiny:!1,generation:4,type:"Roche"},{id:439,name:"Mime Jr.",captured:!1,shiny:!1,generation:4,type:"Psy, F\xe9e"},{id:440,name:"Ptiravi",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:441,name:"Pijako",captured:!1,shiny:!1,generation:4,type:"Normal, Vol"},{id:442,name:"Spiritomb",captured:!1,shiny:!1,generation:4,type:"Spectre, T\xe9n\xe8bres"},{id:443,name:"Griknot",captured:!1,shiny:!1,generation:4,type:"Dragon, Sol"},{id:444,name:"Carmache",captured:!1,shiny:!1,generation:4,type:"Dragon, Sol"},{id:445,name:"Carchacrok",captured:!1,shiny:!1,generation:4,type:"Dragon, Sol"},{id:446,name:"Goinfrex",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:447,name:"Riolu",captured:!1,shiny:!1,generation:4,type:"Combat"},{id:448,name:"Lucario",captured:!1,shiny:!1,generation:4,type:"Combat, Acier"},{id:449,name:"Hippopotas",captured:!1,shiny:!1,generation:4,type:"Sol"},{id:450,name:"Hippodocus",captured:!1,shiny:!1,generation:4,type:"Sol"},{id:451,name:"Rapion",captured:!1,shiny:!1,generation:4,type:"Poison, Insecte"},{id:452,name:"Drascore",captured:!1,shiny:!1,generation:4,type:"Poison, Sol"},{id:453,name:"Cradopaud",captured:!1,shiny:!1,generation:4,type:"Poison, Combat"},{id:454,name:"Coatox",captured:!1,shiny:!1,generation:4,type:"Poison, Combat"},{id:455,name:"Vortente",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:456,name:"\xc9cayon",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:457,name:"Lumin\xe9on",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:458,name:"Babimanta",captured:!1,shiny:!1,generation:4,type:"Eau, Vol"},{id:459,name:"Blizzi",captured:!1,shiny:!1,generation:4,type:"Plante, Glace"},{id:460,name:"Blizzaroi",captured:!1,shiny:!1,generation:4,type:"Plante, Glace"},{id:461,name:"Dimoret",captured:!1,shiny:!1,generation:4,type:"T\xe9n\xe8bres, Glace"},{id:462,name:"Magn\xe9zone",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik, Acier"},{id:463,name:"Coudlangue",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:464,name:"Rhinastoc",captured:!1,shiny:!1,generation:4,type:"Sol, Roche"},{id:465,name:"Bouldeneu",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:466,name:"\xc9lekable",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik"},{id:467,name:"Maganon",captured:!1,shiny:!1,generation:4,type:"Feu"},{id:468,name:"Togekiss",captured:!1,shiny:!1,generation:4,type:"F\xe9e, Vol"},{id:469,name:"Yanmega",captured:!1,shiny:!1,generation:4,type:"Insecte, Vol"},{id:470,name:"Phyllali",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:471,name:"Givrali",captured:!1,shiny:!1,generation:4,type:"Glace"},{id:472,name:"Scorvol",captured:!1,shiny:!1,generation:4,type:"Sol, Vol"},{id:473,name:"Mammochon",captured:!1,shiny:!1,generation:4,type:"Glace, Sol"},{id:474,name:"Porygon-Z",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:475,name:"Gallame",captured:!1,shiny:!1,generation:4,type:"Psy, Combat"},{id:476,name:"Tarinorme",captured:!1,shiny:!1,generation:4,type:"Roche, Acier"},{id:477,name:"Noctunoir",captured:!1,shiny:!1,generation:4,type:"Spectre"},{id:478,name:"Momartik",captured:!1,shiny:!1,generation:4,type:"Glace, Spectre"},{id:479,name:"Motisma",captured:!1,shiny:!1,generation:4,type:"\xc9lectrik, Spectre"},{id:480,name:"Cr\xe9helf",captured:!1,shiny:!1,generation:4,type:"Psy"},{id:481,name:"Cr\xe9follet",captured:!1,shiny:!1,generation:4,type:"Psy"},{id:482,name:"Cr\xe9fadet",captured:!1,shiny:!1,generation:4,type:"Psy"},{id:483,name:"Dialga",captured:!1,shiny:!1,generation:4,type:"Acier, Dragon"},{id:484,name:"Palkia",captured:!1,shiny:!1,generation:4,type:"Eau, Dragon"},{id:485,name:"Heatran",captured:!1,shiny:!1,generation:4,type:"Feu, Acier"},{id:486,name:"Regigigas",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:487,name:"Giratina",captured:!1,shiny:!1,generation:4,type:"Spectre, Dragon"},{id:488,name:"Cresselia",captured:!1,shiny:!1,generation:4,type:"Psy"},{id:489,name:"Phione",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:490,name:"Manaphy",captured:!1,shiny:!1,generation:4,type:"Eau"},{id:491,name:"Darkrai",captured:!1,shiny:!1,generation:4,type:"T\xe9n\xe8bres"},{id:492,name:"Shaymin",captured:!1,shiny:!1,generation:4,type:"Plante"},{id:493,name:"Arceus",captured:!1,shiny:!1,generation:4,type:"Normal"},{id:494,name:"Victini",captured:!1,shiny:!1,generation:5,type:"Psy, Feu"},{id:495,name:"Vip\xe9lierre",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:496,name:"Lianaja",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:497,name:"Majaspic",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:498,name:"Gruikui",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:499,name:"Grotichon",captured:!1,shiny:!1,generation:5,type:"Feu, Combat"},{id:500,name:"Roitiflam",captured:!1,shiny:!1,generation:5,type:"Feu, Combat"},{id:501,name:"Moustillon",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:502,name:"Mateloutre",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:503,name:"Clamiral",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:504,name:"Ratentif",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:505,name:"Miradar",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:506,name:"Ponchiot",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:507,name:"Ponchien",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:508,name:"Mastouffe",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:509,name:"Chacripan",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres"},{id:510,name:"L\xe9opardus",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres"},{id:511,name:"Feuillajou",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:512,name:"Feuiloutan",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:513,name:"Flamajou",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:514,name:"Flamoutan",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:515,name:"Flotajou",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:516,name:"Flotoutan",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:517,name:"Munna",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:518,name:"Mushana",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:519,name:"Poichigeon",captured:!1,shiny:!1,generation:5,type:"Normal, Vol"},{id:520,name:"Colombeau",captured:!1,shiny:!1,generation:5,type:"Normal, Vol"},{id:521,name:"D\xe9flaisan",captured:!1,shiny:!1,generation:5,type:"Normal, Vol"},{id:522,name:"Z\xe9bibron",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik"},{id:523,name:"Z\xe9blitz",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik"},{id:524,name:"Nodulithe",captured:!1,shiny:!1,generation:5,type:"Roche"},{id:525,name:"G\xe9olithe",captured:!1,shiny:!1,generation:5,type:"Roche"},{id:526,name:"Gigalithe",captured:!1,shiny:!1,generation:5,type:"Roche"},{id:527,name:"Chovsourir",captured:!1,shiny:!1,generation:5,type:"Psy, Vol"},{id:528,name:"Rhinolove",captured:!1,shiny:!1,generation:5,type:"Psy, Vol"},{id:529,name:"Rototaupe",captured:!1,shiny:!1,generation:5,type:"Sol"},{id:530,name:"Minotaupe",captured:!1,shiny:!1,generation:5,type:"Sol, Acier"},{id:531,name:"Nanm\xe9ou\xefe",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:532,name:"Charpenti",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:533,name:"Ouvrifier",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:534,name:"B\xe9tochef",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:535,name:"Tritonde",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:536,name:"Batracn\xe9",captured:!1,shiny:!1,generation:5,type:"Eau, Sol"},{id:537,name:"Crapustule",captured:!1,shiny:!1,generation:5,type:"Eau, Sol"},{id:538,name:"Judokrak",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:539,name:"Karacl\xe9e",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:540,name:"Larveyette",captured:!1,shiny:!1,generation:5,type:"Insecte, Plante"},{id:541,name:"Couverdure",captured:!1,shiny:!1,generation:5,type:"Insecte, Plante"},{id:542,name:"Manternel",captured:!1,shiny:!1,generation:5,type:"Insecte, Plante"},{id:543,name:"Venipatte",captured:!1,shiny:!1,generation:5,type:"Insecte, Poison"},{id:544,name:"Scobolide",captured:!1,shiny:!1,generation:5,type:"Insecte, Poison"},{id:545,name:"Brutapode",captured:!1,shiny:!1,generation:5,type:"Insecte, Poison"},{id:546,name:"Doudouvet",captured:!1,shiny:!1,generation:5,type:"Plante, F\xe9e"},{id:547,name:"Farfaduvet",captured:!1,shiny:!1,generation:5,type:"Plante, F\xe9e"},{id:548,name:"Chlorobule",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:549,name:"Fragilady",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:550,name:"Bargantua",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:551,name:"Masca\xefman",captured:!1,shiny:!1,generation:5,type:"Sol, T\xe9n\xe8bres"},{id:552,name:"Escroco",captured:!1,shiny:!1,generation:5,type:"Sol, T\xe9n\xe8bres"},{id:553,name:"Crocorible",captured:!1,shiny:!1,generation:5,type:"Sol, T\xe9n\xe8bres"},{id:554,name:"Darumarond",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:555,name:"Darumacho",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:556,name:"Maracachi",captured:!1,shiny:!1,generation:5,type:"Plante"},{id:557,name:"Crabicoque",captured:!1,shiny:!1,generation:5,type:"Insecte, Roche"},{id:558,name:"Crabaraque",captured:!1,shiny:!1,generation:5,type:"Insecte, Roche"},{id:559,name:"Baggiguane",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Combat"},{id:560,name:"Bagga\xefd",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Combat"},{id:561,name:"Crypt\xe9ro",captured:!1,shiny:!1,generation:5,type:"Psy, Vol"},{id:562,name:"Tutafeh",captured:!1,shiny:!1,generation:5,type:"Spectre"},{id:563,name:"Tutankafer",captured:!1,shiny:!1,generation:5,type:"Spectre"},{id:564,name:"Carapagos",captured:!1,shiny:!1,generation:5,type:"Eau, Roche"},{id:565,name:"M\xe9gapagos",captured:!1,shiny:!1,generation:5,type:"Eau, Roche"},{id:566,name:"Ark\xe9apti",captured:!1,shiny:!1,generation:5,type:"Roche, Vol"},{id:567,name:"A\xe9ropt\xe9ryx",captured:!1,shiny:!1,generation:5,type:"Roche, Vol"},{id:568,name:"Miamiasme",captured:!1,shiny:!1,generation:5,type:"Poison"},{id:569,name:"Miasmax",captured:!1,shiny:!1,generation:5,type:"Poison"},{id:570,name:"Zorua",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres"},{id:571,name:"Zoroark",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres"},{id:572,name:"Chinchidou",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:573,name:"Pashmilla",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:574,name:"Scrutella",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:575,name:"Mesm\xe9rella",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:576,name:"Sid\xe9rella",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:577,name:"Nucl\xe9os",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:578,name:"M\xe9ios",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:579,name:"Symbios",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:580,name:"Couaneton",captured:!1,shiny:!1,generation:5,type:"Eau, Vol"},{id:581,name:"Lakm\xe9cygne",captured:!1,shiny:!1,generation:5,type:"Eau, Vol"},{id:582,name:"Sorb\xe9b\xe9",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:583,name:"Sorboul",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:584,name:"Sorbouboul",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:585,name:"Vivaldaim",captured:!1,shiny:!1,generation:5,type:"Normal, Plante"},{id:586,name:"Haydaim",captured:!1,shiny:!1,generation:5,type:"Normal, Plante"},{id:587,name:"Emolga",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik, Vol"},{id:588,name:"Carabing",captured:!1,shiny:!1,generation:5,type:"Insecte"},{id:589,name:"Lan\xe7argot",captured:!1,shiny:!1,generation:5,type:"Insecte, Acier"},{id:590,name:"Trompignon",captured:!1,shiny:!1,generation:5,type:"Plante, Poison"},{id:591,name:"Gaulet",captured:!1,shiny:!1,generation:5,type:"Plante, Poison"},{id:592,name:"Viskuse",captured:!1,shiny:!1,generation:5,type:"Eau, Spectre"},{id:593,name:"Moyade",captured:!1,shiny:!1,generation:5,type:"Eau, Spectre"},{id:594,name:"Mamanbo",captured:!1,shiny:!1,generation:5,type:"Eau"},{id:595,name:"Statitik",captured:!1,shiny:!1,generation:5,type:"Insecte, \xc9lectrik"},{id:596,name:"Mygavolt",captured:!1,shiny:!1,generation:5,type:"Insecte, \xc9lectrik"},{id:597,name:"Grindur",captured:!1,shiny:!1,generation:5,type:"Plante, Acier"},{id:598,name:"Noacier",captured:!1,shiny:!1,generation:5,type:"Plante, Acier"},{id:599,name:"Tic",captured:!1,shiny:!1,generation:5,type:"Acier"},{id:600,name:"Clic",captured:!1,shiny:!1,generation:5,type:"Acier"},{id:601,name:"Cliticlic",captured:!1,shiny:!1,generation:5,type:"Acier"},{id:602,name:"Anchwatt",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik"},{id:603,name:"Lamp\xe9roie",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik"},{id:604,name:"Ohmassacre",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik"},{id:605,name:"Lewsor",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:606,name:"Neitram",captured:!1,shiny:!1,generation:5,type:"Psy"},{id:607,name:"Fun\xe9cire",captured:!1,shiny:!1,generation:5,type:"Spectre, Feu"},{id:608,name:"M\xe9lancolux",captured:!1,shiny:!1,generation:5,type:"Spectre, Feu"},{id:609,name:"Lugulabre",captured:!1,shiny:!1,generation:5,type:"Spectre, Feu"},{id:610,name:"Coupenotte",captured:!1,shiny:!1,generation:5,type:"Dragon"},{id:611,name:"Incisache",captured:!1,shiny:!1,generation:5,type:"Dragon"},{id:612,name:"Tranchodon",captured:!1,shiny:!1,generation:5,type:"Dragon"},{id:613,name:"Polarhume",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:614,name:"Polagriffe",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:615,name:"Hexagel",captured:!1,shiny:!1,generation:5,type:"Glace"},{id:616,name:"Escargaume",captured:!1,shiny:!1,generation:5,type:"Insecte"},{id:617,name:"Limaspeed",captured:!1,shiny:!1,generation:5,type:"Insecte"},{id:618,name:"Limonde",captured:!1,shiny:!1,generation:5,type:"Sol, \xc9lectrik"},{id:619,name:"Kungfouine",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:620,name:"Shaofouine",captured:!1,shiny:!1,generation:5,type:"Combat"},{id:621,name:"Drakkarmin",captured:!1,shiny:!1,generation:5,type:"Dragon"},{id:622,name:"Gringolem",captured:!1,shiny:!1,generation:5,type:"Sol, Spectre"},{id:623,name:"Golemastoc",captured:!1,shiny:!1,generation:5,type:"Sol, Spectre"},{id:624,name:"Scalpion",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Acier"},{id:625,name:"Scalproie",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Acier"},{id:626,name:"Frison",captured:!1,shiny:!1,generation:5,type:"Normal"},{id:627,name:"Furaiglon",captured:!1,shiny:!1,generation:5,type:"Normal, Vol"},{id:628,name:"Gueriaigle",captured:!1,shiny:!1,generation:5,type:"Normal, Vol"},{id:629,name:"Vostourno",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Vol"},{id:630,name:"Vaututrice",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Vol"},{id:631,name:"Aflamanoir",captured:!1,shiny:!1,generation:5,type:"Feu"},{id:632,name:"Fermite",captured:!1,shiny:!1,generation:5,type:"Insecte, Acier"},{id:633,name:"Solochi",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Dragon"},{id:634,name:"Diamat",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Dragon"},{id:635,name:"Trioxhydre",captured:!1,shiny:!1,generation:5,type:"T\xe9n\xe8bres, Dragon"},{id:636,name:"Pyronille",captured:!1,shiny:!1,generation:5,type:"Insecte, Feu"},{id:637,name:"Pyrax",captured:!1,shiny:!1,generation:5,type:"Insecte, Feu"},{id:638,name:"Cobaltium",captured:!1,shiny:!1,generation:5,type:"Acier, Combat"},{id:639,name:"Terrakium",captured:!1,shiny:!1,generation:5,type:"Roche, Combat"},{id:640,name:"Viridium",captured:!1,shiny:!1,generation:5,type:"Plante, Combat"},{id:641,name:"Bor\xe9as",captured:!1,shiny:!1,generation:5,type:"Vol"},{id:642,name:"Fulguris",captured:!1,shiny:!1,generation:5,type:"\xc9lectrik, Vol"},{id:643,name:"Reshiram",captured:!1,shiny:!1,generation:5,type:"Dragon, Feu"},{id:644,name:"Zekrom",captured:!1,shiny:!1,generation:5,type:"Dragon, \xc9lectrik"},{id:645,name:"D\xe9m\xe9t\xe9ros",captured:!1,shiny:!1,generation:5,type:"Sol, Vol"},{id:646,name:"Kyurem",captured:!1,shiny:!1,generation:5,type:"Dragon, Glace"},{id:647,name:"Keldeo",captured:!1,shiny:!1,generation:5,type:"Eau, Combat"},{id:648,name:"Meloetta",captured:!1,shiny:!1,generation:5,type:"Normal, Psy"},{id:649,name:"Genesect",captured:!1,shiny:!1,generation:5,type:"Insecte, Acier"},{id:650,name:"Marisson",captured:!1,shiny:!1,generation:6,type:"Plante"},{id:651,name:"Bogu\xe9risse",captured:!1,shiny:!1,generation:6,type:"Plante"},{id:652,name:"Blind\xe9pique",captured:!1,shiny:!1,generation:6,type:"Plante, Combat"},{id:653,name:"Feunnec",captured:!1,shiny:!1,generation:6,type:"Feu"},{id:654,name:"Roussil",captured:!1,shiny:!1,generation:6,type:"Feu"},{id:655,name:"Goupelin",captured:!1,shiny:!1,generation:6,type:"Feu, Psy"},{id:656,name:"Grenousse",captured:!1,shiny:!1,generation:6,type:"Eau"},{id:657,name:"Cro\xe2poral",captured:!1,shiny:!1,generation:6,type:"Eau"},{id:658,name:"Amphinobi",captured:!1,shiny:!1,generation:6,type:"Eau, T\xe9n\xe8bres"},{id:659,name:"Sapereau",captured:!1,shiny:!1,generation:6,type:"Normal"},{id:660,name:"Excavarenne",captured:!1,shiny:!1,generation:6,type:"Normal, Sol"},{id:661,name:"Passerouge",captured:!1,shiny:!1,generation:6,type:"Normal, Vol"},{id:662,name:"Braisillon",captured:!1,shiny:!1,generation:6,type:"Feu, Vol"},{id:663,name:"Flambusard",captured:!1,shiny:!1,generation:6,type:"Feu, Vol"},{id:664,name:"L\xe9pidonille",captured:!1,shiny:!1,generation:6,type:"Insecte"},{id:665,name:"P\xe9r\xe9grain",captured:!1,shiny:!1,generation:6,type:"Insecte"},{id:666,name:"Prismillon",captured:!1,shiny:!1,generation:6,type:"Insecte, Vol"},{id:667,name:"H\xe9lionceau",captured:!1,shiny:!1,generation:6,type:"Feu, Normal"},{id:668,name:"N\xe9m\xe9lios",captured:!1,shiny:!1,generation:6,type:"Feu, Normal"},{id:669,name:"Flab\xe9b\xe9",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:670,name:"Floette",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:671,name:"Florges",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:672,name:"Cabriolaine",captured:!1,shiny:!1,generation:6,type:"Plante"},{id:673,name:"Chevroum",captured:!1,shiny:!1,generation:6,type:"Plante"},{id:674,name:"Pandespi\xe8gle",captured:!1,shiny:!1,generation:6,type:"Combat"},{id:675,name:"Pandarbare",captured:!1,shiny:!1,generation:6,type:"Combat, T\xe9n\xe8bres"},{id:676,name:"Couafarel",captured:!1,shiny:!1,generation:6,type:"Normal"},{id:677,name:"Psystigri",captured:!1,shiny:!1,generation:6,type:"Psy"},{id:678,name:"Mistigrix",captured:!1,shiny:!1,generation:6,type:"Psy"},{id:679,name:"Monorpale",captured:!1,shiny:!1,generation:6,type:"Acier, Spectre"},{id:680,name:"Dimocl\xe8s",captured:!1,shiny:!1,generation:6,type:"Acier, Spectre"},{id:681,name:"Exagide",captured:!1,shiny:!1,generation:6,type:"Acier, Spectre"},{id:682,name:"Fluvetin",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:683,name:"Cocotine",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:684,name:"Sucroquin",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:685,name:"Cupcanaille",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:686,name:"Sepiatop",captured:!1,shiny:!1,generation:6,type:"T\xe9n\xe8bres, Psy"},{id:687,name:"Sepiatroce",captured:!1,shiny:!1,generation:6,type:"T\xe9n\xe8bres, Psy"},{id:688,name:"Opermine",captured:!1,shiny:!1,generation:6,type:"Roche, Eau"},{id:689,name:"Golgopathe",captured:!1,shiny:!1,generation:6,type:"Roche, Eau"},{id:690,name:"Venalgue",captured:!1,shiny:!1,generation:6,type:"Poison, Eau"},{id:691,name:"Kravarech",captured:!1,shiny:!1,generation:6,type:"Poison, Dragon"},{id:692,name:"Flingouste",captured:!1,shiny:!1,generation:6,type:"Eau"},{id:693,name:"Gamblast",captured:!1,shiny:!1,generation:6,type:"Eau"},{id:694,name:"Galvaran",captured:!1,shiny:!1,generation:6,type:"\xc9lectrik, Normal"},{id:695,name:"Iguolta",captured:!1,shiny:!1,generation:6,type:"\xc9lectrik, Normal"},{id:696,name:"Ptyranidur",captured:!1,shiny:!1,generation:6,type:"Roche, Dragon"},{id:697,name:"Rexillius",captured:!1,shiny:!1,generation:6,type:"Roche, Dragon"},{id:698,name:"Amagara",captured:!1,shiny:!1,generation:6,type:"Roche, Glace"},{id:699,name:"Dragmara",captured:!1,shiny:!1,generation:6,type:"Roche, Glace"},{id:700,name:"Nymphali",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:701,name:"Brutalibr\xe9",captured:!1,shiny:!1,generation:6,type:"Combat, Vol"},{id:702,name:"Dedenne",captured:!1,shiny:!1,generation:6,type:"\xc9lectrik, F\xe9e"},{id:703,name:"Strassie",captured:!1,shiny:!1,generation:6,type:"Roche, F\xe9e"},{id:704,name:"Mucuscule",captured:!1,shiny:!1,generation:6,type:"Dragon"},{id:705,name:"Colimucus",captured:!1,shiny:!1,generation:6,type:"Dragon"},{id:706,name:"Muplodocus",captured:!1,shiny:!1,generation:6,type:"Dragon"},{id:707,name:"Trousselin",captured:!1,shiny:!1,generation:6,type:"Acier, F\xe9e"},{id:708,name:"Broc\xe9l\xf4me",captured:!1,shiny:!1,generation:6,type:"Spectre, Plante"},{id:709,name:"Dess\xe9liande",captured:!1,shiny:!1,generation:6,type:"Spectre, Plante"},{id:710,name:"Pitrouille",captured:!1,shiny:!1,generation:6,type:"Spectre, Plante"},{id:711,name:"Banshitrouye",captured:!1,shiny:!1,generation:6,type:"Spectre, Plante"},{id:712,name:"Grela\xe7on",captured:!1,shiny:!1,generation:6,type:"Glace"},{id:713,name:"S\xe9racrawl",captured:!1,shiny:!1,generation:6,type:"Glace"},{id:714,name:"Sonistrelle",captured:!1,shiny:!1,generation:6,type:"Vol, Dragon"},{id:715,name:"Bruyverne",captured:!1,shiny:!1,generation:6,type:"Vol, Dragon"},{id:716,name:"Xerneas",captured:!1,shiny:!1,generation:6,type:"F\xe9e"},{id:717,name:"Yveltal",captured:!1,shiny:!1,generation:6,type:"T\xe9n\xe8bres, Vol"},{id:718,name:"Zygarde",captured:!1,shiny:!1,generation:6,type:"Dragon, Sol"},{id:719,name:"Diancie",captured:!1,shiny:!1,generation:6,type:"Roche, F\xe9e"},{id:720,name:"Hoopa",captured:!1,shiny:!1,generation:6,type:"Psy, Spectre"},{id:721,name:"Volcanion",captured:!1,shiny:!1,generation:6,type:"Feu, Eau"},{id:722,name:"Brindibou",captured:!1,shiny:!1,generation:7,type:"Plante, Vol"},{id:723,name:"Effl\xe8che",captured:!1,shiny:!1,generation:7,type:"Plante, Vol"},{id:724,name:"Arch\xe9duc",captured:!1,shiny:!1,generation:7,type:"Plante, Spectre"},{id:725,name:"Flamiaou",captured:!1,shiny:!1,generation:7,type:"Feu"},{id:726,name:"Matoufeu",captured:!1,shiny:!1,generation:7,type:"Feu"},{id:727,name:"F\xe9linferno",captured:!1,shiny:!1,generation:7,type:"Feu, T\xe9n\xe8bres"},{id:728,name:"Otaquin",captured:!1,shiny:!1,generation:7,type:"Eau"},{id:729,name:"Otarlette",captured:!1,shiny:!1,generation:7,type:"Eau"},{id:730,name:"Oratoria",captured:!1,shiny:!1,generation:7,type:"Eau, F\xe9e"},{id:731,name:"Picassaut",captured:!1,shiny:!1,generation:7,type:"Normal, Vol"},{id:732,name:"Piclairon",captured:!1,shiny:!1,generation:7,type:"Normal, Vol"},{id:733,name:"Bazoucan",captured:!1,shiny:!1,generation:7,type:"Normal, Vol"},{id:734,name:"Manglouton",captured:!1,shiny:!1,generation:7,type:"Normal"},{id:735,name:"Argouste",captured:!1,shiny:!1,generation:7,type:"Normal"},{id:736,name:"Larvibule",captured:!1,shiny:!1,generation:7,type:"Insecte"},{id:737,name:"Chrysapile",captured:!1,shiny:!1,generation:7,type:"Insecte, \xc9lectrik"},{id:738,name:"Lucanon",captured:!1,shiny:!1,generation:7,type:"Insecte, \xc9lectrik"},{id:739,name:"Crabagarre",captured:!1,shiny:!1,generation:7,type:"Combat"},{id:740,name:"Crabominable",captured:!1,shiny:!1,generation:7,type:"Combat, Glace"},{id:741,name:"Plumeline",captured:!1,shiny:!1,generation:7,type:"Feu, Vol"},{id:742,name:"Bombydou",captured:!1,shiny:!1,generation:7,type:"Insecte, F\xe9e"},{id:743,name:"Rubombelle",captured:!1,shiny:!1,generation:7,type:"Insecte, F\xe9e"},{id:744,name:"Rocabot",captured:!1,shiny:!1,generation:7,type:"Roche"},{id:745,name:"Lougaroc",captured:!1,shiny:!1,generation:7,type:"Roche"},{id:746,name:"Froussardine",captured:!1,shiny:!1,generation:7,type:"Eau"},{id:747,name:"Vorast\xe9rie",captured:!1,shiny:!1,generation:7,type:"Poison, Eau"},{id:748,name:"Pr\xe9dast\xe9rie",captured:!1,shiny:!1,generation:7,type:"Poison, Eau"},{id:749,name:"Tiboudet",captured:!1,shiny:!1,generation:7,type:"Sol"},{id:750,name:"Bourrinos",captured:!1,shiny:!1,generation:7,type:"Sol"},{id:751,name:"Araqua",captured:!1,shiny:!1,generation:7,type:"Eau, Insecte"},{id:752,name:"Tarenbulle",captured:!1,shiny:!1,generation:7,type:"Eau, Insecte"},{id:753,name:"Mimantis",captured:!1,shiny:!1,generation:7,type:"Plante"},{id:754,name:"Floramantis",captured:!1,shiny:!1,generation:7,type:"Plante"},{id:755,name:"Spododo",captured:!1,shiny:!1,generation:7,type:"Plante, F\xe9e"},{id:756,name:"Lampignon",captured:!1,shiny:!1,generation:7,type:"Plante, F\xe9e"},{id:757,name:"Tritox",captured:!1,shiny:!1,generation:7,type:"Poison, Feu"},{id:758,name:"Malamandre",captured:!1,shiny:!1,generation:7,type:"Poison, Feu"},{id:759,name:"Nounourson",captured:!1,shiny:!1,generation:7,type:"Normal, Combat"},{id:760,name:"Chelours",captured:!1,shiny:!1,generation:7,type:"Normal, Combat"},{id:761,name:"Croquine",captured:!1,shiny:!1,generation:7,type:"Plante"},{id:762,name:"Candine",captured:!1,shiny:!1,generation:7,type:"Plante"},{id:763,name:"Sucreine",captured:!1,shiny:!1,generation:7,type:"Plante"},{id:764,name:"Gu\xe9rilande",captured:!1,shiny:!1,generation:7,type:"F\xe9e"},{id:765,name:"Gouroutan",captured:!1,shiny:!1,generation:7,type:"Normal, Psy"},{id:766,name:"Quartermac",captured:!1,shiny:!1,generation:7,type:"Combat"},{id:767,name:"Sovkipou",captured:!1,shiny:!1,generation:7,type:"Insecte, Eau"},{id:768,name:"Sarmura\xef",captured:!1,shiny:!1,generation:7,type:"Insecte, Eau"},{id:769,name:"Bacabouh",captured:!1,shiny:!1,generation:7,type:"Spectre, Sol"},{id:770,name:"Tr\xe9passable",captured:!1,shiny:!1,generation:7,type:"Spectre, Sol"},{id:771,name:"Concombaffe",captured:!1,shiny:!1,generation:7,type:"Eau"},{id:772,name:"Type:0",captured:!1,shiny:!1,generation:7,type:"Normal"},{id:773,name:"Silvalli\xe9",captured:!1,shiny:!1,generation:7,type:"Normal"},{id:774,name:"M\xe9t\xe9no",captured:!1,shiny:!1,generation:7,type:"Roche, Vol"},{id:775,name:"Dodoala",captured:!1,shiny:!1,generation:7,type:"Normal"},{id:776,name:"Boumata",captured:!1,shiny:!1,generation:7,type:"Feu, Dragon"},{id:777,name:"Togedemaru",captured:!1,shiny:!1,generation:7,type:"\xc9lectrik, Acier"},{id:778,name:"Mimiqui",captured:!1,shiny:!1,generation:7,type:"Spectre, F\xe9e"},{id:779,name:"Denticrisse",captured:!1,shiny:!1,generation:7,type:"Eau, Psy"},{id:780,name:"Dra\xefeul",captured:!1,shiny:!1,generation:7,type:"Normal, Dragon"},{id:781,name:"Sinistrail",captured:!1,shiny:!1,generation:7,type:"Spectre, Plante"},{id:782,name:"B\xe9b\xe9caille",captured:!1,shiny:!1,generation:7,type:"Dragon"},{id:783,name:"\xc9ca\xefd",captured:!1,shiny:!1,generation:7,type:"Dragon, Combat"},{id:784,name:"\xc9ka\xefser",captured:!1,shiny:!1,generation:7,type:"Dragon, Combat"},{id:785,name:"Tokorico",captured:!1,shiny:!1,generation:7,type:"\xc9lectrik, F\xe9e"},{id:786,name:"Tokopiyon",captured:!1,shiny:!1,generation:7,type:"Psy, F\xe9e"},{id:787,name:"Tokotoro",captured:!1,shiny:!1,generation:7,type:"Plante, F\xe9e"},{id:788,name:"Tokopisco",captured:!1,shiny:!1,generation:7,type:"Eau, F\xe9e"},{id:789,name:"Cosmog",captured:!1,shiny:!1,generation:7,type:"Psy"},{id:790,name:"Cosmovum",captured:!1,shiny:!1,generation:7,type:"Psy"},{id:791,name:"Solgaleo",captured:!1,shiny:!1,generation:7,type:"Psy, Acier"},{id:792,name:"Lunala",captured:!1,shiny:!1,generation:7,type:"Psy, Spectre"},{id:793,name:"Z\xe9ro\xefd",captured:!1,shiny:!1,generation:7,type:"Roche, Poison"},{id:794,name:"Mouscoto",captured:!1,shiny:!1,generation:7,type:"Insecte, Combat"},{id:795,name:"Cancrelove",captured:!1,shiny:!1,generation:7,type:"Insecte, Combat"},{id:796,name:"C\xe2blif\xe8re",captured:!1,shiny:!1,generation:7,type:"\xc9lectrik"},{id:797,name:"Bamboiselle",captured:!1,shiny:!1,generation:7,type:"Acier, Vol"},{id:798,name:"Katagami",captured:!1,shiny:!1,generation:7,type:"Plante, Acier"},{id:799,name:"Engloutyran",captured:!1,shiny:!1,generation:7,type:"T\xe9n\xe8bres, Dragon"},{id:800,name:"Necrozma",captured:!1,shiny:!1,generation:7,type:"Psy"},{id:801,name:"Magearna",captured:!1,shiny:!1,generation:7,type:"Acier, F\xe9e"},{id:802,name:"Marshadow",captured:!1,shiny:!1,generation:7,type:"Combat, Spectre"},{id:803,name:"V\xe9mini",captured:!1,shiny:!1,generation:7,type:"Poison"},{id:804,name:"Mandrillon",captured:!1,shiny:!1,generation:7,type:"Poison, Dragon"},{id:805,name:"Ama-Ama",captured:!1,shiny:!1,generation:7,type:"Roche, Acier"},{id:806,name:"Pierroteknik",captured:!1,shiny:!1,generation:7,type:"Feu, Spectre"},{id:807,name:"Zeraora",captured:!1,shiny:!1,generation:7,type:"\xc9lectrik"},{id:808,name:"Meltan",captured:!1,shiny:!1,generation:7,type:"Acier"},{id:809,name:"Melmetal",captured:!1,shiny:!1,generation:7,type:"Acier"},{id:810,name:"Ouistempo",captured:!1,shiny:!1,generation:8,type:"Plante"},{id:811,name:"Badabouin",captured:!1,shiny:!1,generation:8,type:"Plante"},{id:812,name:"Gorythmic",captured:!1,shiny:!1,generation:8,type:"Plante"},{id:813,name:"Flambino",captured:!1,shiny:!1,generation:8,type:"Feu"},{id:814,name:"Lapyro",captured:!1,shiny:!1,generation:8,type:"Feu"},{id:815,name:"Pyrobut",captured:!1,shiny:!1,generation:8,type:"Feu"},{id:816,name:"Larm\xe9l\xe9on",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:817,name:"Arrozard",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:818,name:"L\xe9zargus",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:819,name:"Rongourmand",captured:!1,shiny:!1,generation:8,type:"Normal"},{id:820,name:"Rongrigou",captured:!1,shiny:!1,generation:8,type:"Normal"},{id:821,name:"Minisange",captured:!1,shiny:!1,generation:8,type:"Vol"},{id:822,name:"Dresang",captured:!1,shiny:!1,generation:8,type:"Vol"},{id:823,name:"Bleuseille",captured:!1,shiny:!1,generation:8,type:"Vol, Acier"},{id:824,name:"Corvaillus",captured:!1,shiny:!1,generation:8,type:"Insecte"},{id:825,name:"Larvadar",captured:!1,shiny:!1,generation:8,type:"Insecte, Psy"},{id:826,name:"Col\xe9od\xf4me",captured:!1,shiny:!1,generation:8,type:"Insecte, Psy"},{id:827,name:"Filentrappe",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres"},{id:828,name:"Dispareptil",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres"},{id:829,name:"Louvette",captured:!1,shiny:!1,generation:8,type:"Plante"},{id:830,name:"Farfurex",captured:!1,shiny:!1,generation:8,type:"Plante"},{id:831,name:"Wooloo",captured:!1,shiny:!1,generation:8,type:"Normal"},{id:832,name:"Doumouton",captured:!1,shiny:!1,generation:8,type:"Normal"},{id:833,name:"Moufouette",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:834,name:"Moufflair",captured:!1,shiny:!1,generation:8,type:"Eau, Roche"},{id:835,name:"Voltoutou",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik"},{id:836,name:"Fulgudog",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik"},{id:837,name:"Charbi",captured:!1,shiny:!1,generation:8,type:"Roche"},{id:838,name:"Wagomine",captured:!1,shiny:!1,generation:8,type:"Roche, Feu"},{id:839,name:"Monthracite",captured:!1,shiny:!1,generation:8,type:"Roche, Feu"},{id:840,name:"Verpom",captured:!1,shiny:!1,generation:8,type:"Plante, Dragon"},{id:841,name:"Pomdrapi",captured:!1,shiny:!1,generation:8,type:"Plante, Dragon"},{id:842,name:"Dratatin",captured:!1,shiny:!1,generation:8,type:"Plante, Dragon"},{id:843,name:"Dunaja",captured:!1,shiny:!1,generation:8,type:"Sol"},{id:844,name:"Dunaconda",captured:!1,shiny:!1,generation:8,type:"Sol"},{id:845,name:"Nigosier",captured:!1,shiny:!1,generation:8,type:"Vol, Eau"},{id:846,name:"Embrochet",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:847,name:"Hastacuda",captured:!1,shiny:!1,generation:8,type:"Eau"},{id:848,name:"Toxizap",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik, Poison"},{id:849,name:"Salarsen",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik, Poison"},{id:850,name:"Grillepattes",captured:!1,shiny:!1,generation:8,type:"Feu, Insecte"},{id:851,name:"Scolocendre",captured:!1,shiny:!1,generation:8,type:"Feu, Insecte"},{id:852,name:"Poulpaf",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:853,name:"Krakos",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:854,name:"Th\xe9ffroi",captured:!1,shiny:!1,generation:8,type:"Spectre"},{id:855,name:"Polth\xe9geist",captured:!1,shiny:!1,generation:8,type:"Spectre"},{id:856,name:"Bibichut",captured:!1,shiny:!1,generation:8,type:"Psy"},{id:857,name:"Chapotus",captured:!1,shiny:!1,generation:8,type:"Psy"},{id:858,name:"Sorcilence",captured:!1,shiny:!1,generation:8,type:"Psy, F\xe9e"},{id:859,name:"Grimalin",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres, F\xe9e"},{id:860,name:"Fourbelin",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres, F\xe9e"},{id:861,name:"Angoliath",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres, F\xe9e"},{id:862,name:"Ixon",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres, Normal"},{id:863,name:"Berserkatt",captured:!1,shiny:!1,generation:8,type:"Acier"},{id:864,name:"Coray\xf4me",captured:!1,shiny:!1,generation:8,type:"Spectre"},{id:865,name:"Palarticho",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:866,name:"M. Glaquette",captured:!1,shiny:!1,generation:8,type:"Glace, Psy"},{id:867,name:"Tut\xe9t\xe9kri",captured:!1,shiny:!1,generation:8,type:"Sol, Spectre"},{id:868,name:"Cr\xe8my",captured:!1,shiny:!1,generation:8,type:"F\xe9e"},{id:869,name:"Charmilly",captured:!1,shiny:!1,generation:8,type:"F\xe9e"},{id:870,name:"Hexadron",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:871,name:"Wattapik",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik"},{id:872,name:"Frissonille",captured:!1,shiny:!1,generation:8,type:"Insecte, Glace"},{id:873,name:"Beldeneige",captured:!1,shiny:!1,generation:8,type:"Insecte, Glace"},{id:874,name:"Dolman",captured:!1,shiny:!1,generation:8,type:"Roche"},{id:875,name:"Bekagla\xe7on",captured:!1,shiny:!1,generation:8,type:"Glace"},{id:876,name:"Wimessir",captured:!1,shiny:!1,generation:8,type:"Psy, Normal"},{id:877,name:"Morpeko",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik, T\xe9n\xe8bres"},{id:878,name:"Charibari",captured:!1,shiny:!1,generation:8,type:"Acier"},{id:879,name:"Pachyradjah",captured:!1,shiny:!1,generation:8,type:"Acier"},{id:880,name:"Galvagon",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik, Dragon"},{id:881,name:"Galvagla",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik, Glace"},{id:882,name:"Hydragon",captured:!1,shiny:!1,generation:8,type:"Eau, Dragon"},{id:883,name:"Hydragla",captured:!1,shiny:!1,generation:8,type:"Eau, Glace"},{id:884,name:"Duralugon",captured:!1,shiny:!1,generation:8,type:"Acier, Dragon"},{id:885,name:"Fantyrm",captured:!1,shiny:!1,generation:8,type:"Dragon, Spectre"},{id:886,name:"Dispareptil",captured:!1,shiny:!1,generation:8,type:"Dragon, Spectre"},{id:887,name:"Lanssorien",captured:!1,shiny:!1,generation:8,type:"Dragon, Spectre"},{id:888,name:"Zacian",captured:!1,shiny:!1,generation:8,type:"F\xe9e"},{id:889,name:"Zamazenta",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:890,name:"\xc9thernatos",captured:!1,shiny:!1,generation:8,type:"Poison, Dragon"},{id:891,name:"Wushours",captured:!1,shiny:!1,generation:8,type:"Combat"},{id:892,name:"Shifours",captured:!1,shiny:!1,generation:8,type:"Combat, T\xe9n\xe8bres"},{id:893,name:"Zarude",captured:!1,shiny:!1,generation:8,type:"T\xe9n\xe8bres, Plante"},{id:894,name:"Regieleki",captured:!1,shiny:!1,generation:8,type:"\xc9lectrik"},{id:895,name:"Regidrago",captured:!1,shiny:!1,generation:8,type:"Dragon"},{id:896,name:"Blizzeval",captured:!1,shiny:!1,generation:8,type:"Glace"},{id:897,name:"Spectreval",captured:!1,shiny:!1,generation:8,type:"Spectre"},{id:898,name:"Sylveroy",captured:!1,shiny:!1,generation:8,type:"Psy, Plante"},{id:899,name:"Cerbyllin",captured:!1,shiny:!1,generation:8.5,type:"Normal, Psy"},{id:900,name:"Hach\xe9cateur",captured:!1,shiny:!1,generation:8.5,type:"Insecte, Roche"},{id:901,name:"Ursaking",captured:!1,shiny:!1,generation:8.5,type:"Sol, Normal"},{id:902,name:"Paragruel",captured:!1,shiny:!1,generation:8.5,type:"Eau, T\xe9n\xe8bres"},{id:903,name:"Farfurex",captured:!1,shiny:!1,generation:8.5,type:"Plante"},{id:904,name:"Qwilpik",captured:!1,shiny:!1,generation:8.5,type:"Poison, Combat"},{id:905,name:"Amov\xe9nus",captured:!1,shiny:!1,generation:8.5,type:"\xc9lectrik, Combat"},{id:906,name:"Poussacha",captured:!1,shiny:!1,generation:9,type:"Plante"},{id:907,name:"Matourgeon",captured:!1,shiny:!1,generation:9,type:"Plante"},{id:908,name:"Miascarade",captured:!1,shiny:!1,generation:9,type:"Plante, T\xe9n\xe8bres"},{id:909,name:"Chochodile",captured:!1,shiny:!1,generation:9,type:"Feu"},{id:910,name:"Crocogril",captured:!1,shiny:!1,generation:9,type:"Feu"},{id:911,name:"Fl\xe2migator",captured:!1,shiny:!1,generation:9,type:"Feu, Spectre"},{id:912,name:"Coiffeton",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:913,name:"Canarbello",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:914,name:"Palmaval",captured:!1,shiny:!1,generation:9,type:"Eau, Combat"},{id:915,name:"Gourmelet",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:916,name:"Fragroin",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:917,name:"Tissenboule",captured:!1,shiny:!1,generation:9,type:"Insecte"},{id:918,name:"Filentrappe",captured:!1,shiny:!1,generation:9,type:"Insecte"},{id:919,name:"Lilliterelle",captured:!1,shiny:!1,generation:9,type:"Insecte"},{id:920,name:"Gambex",captured:!1,shiny:!1,generation:9,type:"Insecte, T\xe9n\xe8bres"},{id:921,name:"Pohm",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik"},{id:922,name:"Pohmotte",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Combat"},{id:923,name:"Pohmarmotte",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Combat"},{id:924,name:"Compagnol",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:925,name:"Famignol",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:926,name:"P\xe2tachiot",captured:!1,shiny:!1,generation:9,type:"F\xe9e"},{id:927,name:"Briochien",captured:!1,shiny:!1,generation:9,type:"F\xe9e"},{id:928,name:"Olivini",captured:!1,shiny:!1,generation:9,type:"Plante, Normal"},{id:929,name:"Olivado",captured:!1,shiny:!1,generation:9,type:"Plante, Normal"},{id:930,name:"Arboliva",captured:!1,shiny:!1,generation:9,type:"Plante, Normal"},{id:931,name:"Tapato\xe8s",captured:!1,shiny:!1,generation:9,type:"Normal, Vol"},{id:932,name:"Selutin",captured:!1,shiny:!1,generation:9,type:"Roche"},{id:933,name:"Amassel",captured:!1,shiny:!1,generation:9,type:"Roche"},{id:934,name:"Gigansel",captured:!1,shiny:!1,generation:9,type:"Roche"},{id:935,name:"Charbambin",captured:!1,shiny:!1,generation:9,type:"Feu"},{id:936,name:"Carmadura",captured:!1,shiny:!1,generation:9,type:"Feu, Psy"},{id:937,name:"Malvalame",captured:!1,shiny:!1,generation:9,type:"Feu, Spectre"},{id:938,name:"T\xeatampoule",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik"},{id:939,name:"Ampibidou",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik"},{id:940,name:"Zap\xe9trel",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Vol"},{id:941,name:"Fulgulairo",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Vol"},{id:942,name:"Grondogue",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres"},{id:943,name:"Dogrino",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres"},{id:944,name:"Gribouraigne",captured:!1,shiny:!1,generation:9,type:"Poison, Normal"},{id:945,name:"Tag-Tag",captured:!1,shiny:!1,generation:9,type:"Poison, Normal"},{id:946,name:"Virovent",captured:!1,shiny:!1,generation:9,type:"Plante, Spectre"},{id:947,name:"Virevorreur",captured:!1,shiny:!1,generation:9,type:"Plante, Spectre"},{id:948,name:"Terracool",captured:!1,shiny:!1,generation:9,type:"Sol, Plante"},{id:949,name:"Terracruel",captured:!1,shiny:!1,generation:9,type:"Sol, Plante"},{id:950,name:"Craparoi",captured:!1,shiny:!1,generation:9,type:"Roche"},{id:951,name:"Pimito",captured:!1,shiny:!1,generation:9,type:"Plante"},{id:952,name:"Scovilain",captured:!1,shiny:!1,generation:9,type:"Plante, Feu"},{id:953,name:"L\xe9boul\xe9rou",captured:!1,shiny:!1,generation:9,type:"Insecte"},{id:954,name:"B\xe9rasca",captured:!1,shiny:!1,generation:9,type:"Insecte, Psy"},{id:955,name:"Flotillon",captured:!1,shiny:!1,generation:9,type:"Psy"},{id:956,name:"Cl\xe9opsytra",captured:!1,shiny:!1,generation:9,type:"Psy"},{id:957,name:"Forgerette",captured:!1,shiny:!1,generation:9,type:"F\xe9e, Acier"},{id:958,name:"Forgella",captured:!1,shiny:!1,generation:9,type:"F\xe9e, Acier"},{id:959,name:"Forgelina",captured:!1,shiny:!1,generation:9,type:"F\xe9e, Acier"},{id:960,name:"Taupikeau",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:961,name:"Triopikeau",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:962,name:"Lestombaile",captured:!1,shiny:!1,generation:9,type:"Vol, T\xe9n\xe8bres"},{id:963,name:"Dofin",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:964,name:"Superdofin",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:965,name:"Vrombi",captured:!1,shiny:!1,generation:9,type:"Acier, Poison"},{id:966,name:"Vrombotor",captured:!1,shiny:!1,generation:9,type:"Acier, Poison"},{id:967,name:"Motorizard",captured:!1,shiny:!1,generation:9,type:"Dragon, Normal"},{id:968,name:"Ferdeter",captured:!1,shiny:!1,generation:9,type:"Acier"},{id:969,name:"Germ\xe9clat",captured:!1,shiny:!1,generation:9,type:"Roche, Poison"},{id:970,name:"Flor\xe9clat",captured:!1,shiny:!1,generation:9,type:"Roche, Poison"},{id:971,name:"Toutombe",captured:!1,shiny:!1,generation:9,type:"Spectre"},{id:972,name:"Tomberro",captured:!1,shiny:!1,generation:9,type:"Spectre"},{id:973,name:"Flamenroule",captured:!1,shiny:!1,generation:9,type:"Vol, Combat"},{id:974,name:"Pi\xe9tac\xe9",captured:!1,shiny:!1,generation:9,type:"Glace"},{id:975,name:"Balbal\xe8ze",captured:!1,shiny:!1,generation:9,type:"Glace"},{id:976,name:"D\xe9lestin",captured:!1,shiny:!1,generation:9,type:"Eau, Psy"},{id:977,name:"Oyacata",captured:!1,shiny:!1,generation:9,type:"Eau"},{id:978,name:"Nigirigon",captured:!1,shiny:!1,generation:9,type:"Dragon, Eau"},{id:979,name:"Courrousinge",captured:!1,shiny:!1,generation:9,type:"Combat, Spectre"},{id:980,name:"Terraiste",captured:!1,shiny:!1,generation:9,type:"Poison, Sol"},{id:981,name:"Farigiraf",captured:!1,shiny:!1,generation:9,type:"Normal, Psy"},{id:982,name:"Deusolourdo",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:983,name:"Scalpereur",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Acier"},{id:984,name:"Fort-Ivoire",captured:!1,shiny:!1,generation:9,type:"Sol, Combat"},{id:985,name:"Hurle-Queue",captured:!1,shiny:!1,generation:9,type:"F\xe9e, Psy"},{id:986,name:"Fongus-Furie",captured:!1,shiny:!1,generation:9,type:"Plante, T\xe9n\xe8bres"},{id:987,name:"Flotte-M\xe8che",captured:!1,shiny:!1,generation:9,type:"Spectre, F\xe9e"},{id:988,name:"Rampe-Ailes",captured:!1,shiny:!1,generation:9,type:"Insecte, Combat"},{id:989,name:"Pelage-Sabl\xe9",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Sol"},{id:990,name:"Roue-de-Fer",captured:!1,shiny:!1,generation:9,type:"Sol, Acier"},{id:991,name:"Hotte-de-Fer",captured:!1,shiny:!1,generation:9,type:"Glace, Eau"},{id:992,name:"Paume-de-Fer",captured:!1,shiny:!1,generation:9,type:"Combat, \xc9lectrik"},{id:993,name:"T\xeates-de-Fer",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Vol"},{id:994,name:"Mite-de-Fer",captured:!1,shiny:!1,generation:9,type:"Feu, Poison"},{id:995,name:"\xc9pine-de-Fer",captured:!1,shiny:!1,generation:9,type:"Roche, \xc9lectrik"},{id:996,name:"Frigodo",captured:!1,shiny:!1,generation:9,type:"Dragon, Glace"},{id:997,name:"Cryodo",captured:!1,shiny:!1,generation:9,type:"Dragon, Glace"},{id:998,name:"Glaivodo",captured:!1,shiny:!1,generation:9,type:"Dragon, Glace"},{id:999,name:"Mordudor",captured:!1,shiny:!1,generation:9,type:"Spectre"},{id:1e3,name:"Gromago",captured:!1,shiny:!1,generation:9,type:"Acier, Spectre"},{id:1001,name:"Chongjian",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Plante"},{id:1002,name:"Baojian",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Glace"},{id:1003,name:"Dinglu",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Sol"},{id:1004,name:"Yuyu",captured:!1,shiny:!1,generation:9,type:"T\xe9n\xe8bres, Feu"},{id:1005,name:"Rugit-Lune",captured:!1,shiny:!1,generation:9,type:"Dragon, T\xe9n\xe8bres"},{id:1006,name:"Garde-de-Fer",captured:!1,shiny:!1,generation:9,type:"F\xe9e, Combat"},{id:1007,name:"Koraidon",captured:!1,shiny:!1,generation:9,type:"Combat, Dragon"},{id:1008,name:"Miraidon",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Dragon"},{id:1009,name:"Serpente-Eau",captured:!1,shiny:!1,generation:9,type:"Eau, Dragon"},{id:1010,name:"Vert-de-Fer",captured:!1,shiny:!1,generation:9,type:"Plante, Psy"},{id:1011,name:"Pomdramour",captured:!1,shiny:!1,generation:9,type:"Plante, Dragon"},{id:1012,name:"Poltchageist",captured:!1,shiny:!1,generation:9,type:"Plante, Spectre"},{id:1013,name:"Th\xe9ffroyable",captured:!1,shiny:!1,generation:9,type:"Plante, Spectre"},{id:1014,name:"F\xe9licanis",captured:!1,shiny:!1,generation:9,type:"Poison, Combat"},{id:1015,name:"Fortusimia",captured:!1,shiny:!1,generation:9,type:"Poison, Psy"},{id:1016,name:"Favianos",captured:!1,shiny:!1,generation:9,type:"Poison, F\xe9e"},{id:1017,name:"Ogerpon",captured:!1,shiny:!1,generation:9,type:"Plante"},{id:1018,name:"Pondralugon",captured:!1,shiny:!1,generation:9,type:"Acier, Dragon"},{id:1019,name:"Pomdorochi",captured:!1,shiny:!1,generation:9,type:"Plante, Dragon"},{id:1020,name:"Feu-Per\xe7ant",captured:!1,shiny:!1,generation:9,type:"Feu, Dragon"},{id:1021,name:"Ire-Foudre",captured:!1,shiny:!1,generation:9,type:"\xc9lectrik, Dragon"},{id:1022,name:"Roc-de-Fer",captured:!1,shiny:!1,generation:9,type:"Roche, Psy"},{id:1023,name:"Chef-de-Fer",captured:!1,shiny:!1,generation:9,type:"Acier, Psy"},{id:1024,name:"Terapagos",captured:!1,shiny:!1,generation:9,type:"Normal"},{id:1025,name:"P\xeachaminus",captured:!1,shiny:!1,generation:9,type:"Poison, Spectre"}];function OS(){const{huntId:e}=ie(),{currentUser:t}=PS(),[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[o,l]=(0,r.useState)(""),[u,c]=(0,r.useState)("all"),[d,h]=(0,r.useState)("all"),[p,f]=(0,r.useState)("all"),[m,g]=(0,r.useState)([]),y=re();(0,r.useEffect)(()=>{if(!e)return;const t=gS(uw(CS,"hunts",e),async e=>{if(e.exists()){var t;const n=e.data(),r={};if((null===(t=n.participants)||void 0===t?void 0:t.length)>1){(await Promise.all(n.participants.map(e=>pS(uw(CS,"users",e))))).forEach((e,t)=>{e.exists()&&(r[n.participants[t]]={username:e.data().username||e.data().email})})}i({id:e.id,...n,participantsInfo:r});const a=RS.map(e=>{var t,r,i;return{...e,capturedBy:(null===(t=n.captured)||void 0===t?void 0:t[e.id])||[],shinyCapturedBy:(null===(r=n.shinyCaptured)||void 0===r?void 0:r[e.id])||[],trackingBy:(null===(i=n.tracking)||void 0===i?void 0:i[e.id])||[]}});g(a)}s(!1)});return()=>t()},[e,t]);const v=async(e,r)=>{if(!t||!n)return;const i=uw(CS,"hunts",n.id);try{const n={};n[`captured.${e}`]=r.normal?SS(t.uid):ES(t.uid),n[`shinyCaptured.${e}`]=r.shiny?SS(t.uid):ES(t.uid),n[`tracking.${e}`]=r.tracking?SS(t.uid):ES(t.uid),await mS(i,n)}catch(a){console.error("Erreur lors de la mise \xe0 jour de la capture:",a)}},b=e=>{let{participants:r}=e;return!r||r.length<=1?null:(0,_S.jsxs)("div",{className:"participant-legend",children:[(0,_S.jsx)("h3",{children:"L\xe9gende des participants:"}),(0,_S.jsx)("div",{className:"legend-items",children:r.map(e=>{var r;const i=(null===(r=n.participantsInfo)||void 0===r?void 0:r[e])||{username:"Inconnu"},a=e===(null===t||void 0===t?void 0:t.uid);return(0,_S.jsxs)("div",{className:"legend-item",children:[(0,_S.jsx)("span",{className:"legend-color",style:{backgroundColor:w(e),transform:a?"scale(1.2)":"scale(1)",border:a?"2px solid #333":"1px solid #ddd"}}),(0,_S.jsxs)("span",{children:[i.username,a&&" (Vous)",e===n.creatorId&&" (Cr\xe9ateur)"]})]},e)})})]})},w=e=>{const t=["#FF6B6B","#48DBFB","#6BCB77","#FFD166","#A05195","#FFA5A5","#4CC9F0","#83C5BE","#FFDDD2","#A5A58D"],n=e.split("").reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0);return t[Math.abs(n%t.length)]},S=(m.length&&n?m.map(e=>{var r,i,a;const s=(null===(r=n.captured)||void 0===r?void 0:r[e.id])||[],o=(null===(i=n.shinyCaptured)||void 0===i?void 0:i[e.id])||[],l=(null===(a=n.tracking)||void 0===a?void 0:a[e.id])||[];return{...e,captured:s.includes(null===t||void 0===t?void 0:t.uid),shinyCaptured:o.includes(null===t||void 0===t?void 0:t.uid),tracking:l.includes(null===t||void 0===t?void 0:t.uid),capturedBy:s,shinyCapturedBy:o,trackingBy:l}}):m).filter(e=>{var n,r;const i=e.name.toLowerCase().includes(o.toLowerCase()),a="all"===u||e.generation.toString()===u,s="all"===d||e.type.split(", ").includes(d),l="all"===p||"captured"===p&&(null===(n=e.capturedBy)||void 0===n?void 0:n.includes(null===t||void 0===t?void 0:t.uid))||"notCaptured"===p&&!(null!==(r=e.capturedBy)&&void 0!==r&&r.includes(null===t||void 0===t?void 0:t.uid));return i&&a&&s&&l}),E=[...new Set(RS.map(e=>e.generation))].sort(),k=[...new Set(RS.flatMap(e=>e.type.split(", ")))].sort();return a?(0,_S.jsx)("div",{children:"Chargement..."}):n?(0,_S.jsxs)("div",{className:"pokemon-grid",children:[(0,_S.jsxs)("div",{className:"grid-header",children:[(0,_S.jsxs)("h1",{children:["Tracker de Captures - ",n.name]}),(0,_S.jsx)("button",{onClick:()=>y("/"),className:"back-button",children:"\u2190 Retour aux chasses"})]}),(0,_S.jsxs)("div",{className:"filters",children:[(0,_S.jsx)("input",{type:"text",placeholder:"Rechercher un Pok\xe9mon...",value:o,onChange:e=>l(e.target.value)}),(0,_S.jsxs)("select",{value:u,onChange:e=>c(e.target.value),children:[(0,_S.jsx)("option",{value:"all",children:"Toutes g\xe9n\xe9rations"}),E.map(e=>(0,_S.jsxs)("option",{value:e,children:["G\xe9n\xe9ration ",e]},e))]}),(0,_S.jsxs)("select",{value:d,onChange:e=>h(e.target.value),children:[(0,_S.jsx)("option",{value:"all",children:"Tous types"}),k.map(e=>(0,_S.jsx)("option",{value:e,children:e},e))]}),(0,_S.jsxs)("select",{value:p,onChange:e=>f(e.target.value),children:[(0,_S.jsx)("option",{value:"all",children:"Tous"}),(0,_S.jsx)("option",{value:"captured",children:"Captur\xe9s"}),(0,_S.jsx)("option",{value:"notCaptured",children:"Non captur\xe9s"})]})]}),(0,_S.jsx)(b,{participants:n.participants}),(0,_S.jsx)("div",{className:"grid-container",children:S.map(e=>(0,_S.jsx)(DS,{pokemon:e,userId:null===t||void 0===t?void 0:t.uid,onCapture:v,hunt:n},e.id))})]}):(0,_S.jsx)("div",{children:"Chasse non trouv\xe9e"})}function LS(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[u,c]=(0,r.useState)(!1),{currentUser:d}=PS(),h=re();return(0,_S.jsxs)("div",{className:"create-hunt-form",children:[(0,_S.jsx)("h2",{children:"Cr\xe9er une nouvelle chasse"}),o&&(0,_S.jsx)("p",{className:"error-message",children:o}),(0,_S.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),d)if(e.trim())if(n&&a.length<4)l("Le mot de passe doit contenir au moins 4 caract\xe8res");else try{c(!0);const t=uw(lw(CS,"hunts"));await function(e,t,n){e=tw(e,aw);const r=tw(e.firestore,hw),i=oS(e.converter,t,n);return yS(r,[xw(_w(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mf.none())])}(t,{name:e,nameSearch:e.toLowerCase().trim(),creatorId:d.uid,createdAt:new Aw("serverTimestamp"),isPrivate:n,password:n?a:null,participants:[d.uid],captured:{},shinyCaptured:{},tracking:{}}),h(`/hunt/${t.id}`)}catch(o){console.error("Erreur lors de la cr\xe9ation de la chasse:",o),l("Une erreur est survenue lors de la cr\xe9ation de la chasse")}finally{c(!1)}else l("Veuillez donner un nom \xe0 votre chasse");else l("Vous devez \xeatre connect\xe9 pour cr\xe9er une chasse")},children:[(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{htmlFor:"huntName",children:"Nom de la chasse:"}),(0,_S.jsx)("input",{type:"text",id:"huntName",value:e,onChange:e=>t(e.target.value),required:!0,autoFocus:!0})]}),(0,_S.jsx)("div",{className:"form-group",children:(0,_S.jsxs)("label",{children:[(0,_S.jsx)("input",{type:"checkbox",checked:n,onChange:e=>i(e.target.checked)}),"Chasse priv\xe9e"]})}),n&&(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{htmlFor:"password",children:"Mot de passe:"}),(0,_S.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>s(e.target.value),required:!0,minLength:"4"})]}),(0,_S.jsx)("button",{type:"submit",className:"submit-btn",disabled:u,children:u?"Cr\xe9ation en cours...":"Cr\xe9er la chasse"})]})]})}function MS(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),{currentUser:o}=PS(),l=re();return(0,_S.jsxs)("div",{className:"join-form",children:[(0,_S.jsx)("h2",{children:"Rejoindre une chasse"}),(0,_S.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s(""),!o)return void s("Connectez-vous d'abord");const r=e.trim().toLowerCase();if(r)try{const e=Jw(lw(CS,"hunts"),eS("nameSearch","==",r)),t=await function(e){e=tw(e,sw);const t=tw(e.firestore,hw),n=pw(t),r=new fS(t);return Qw(e._query),Wb(n,e._query).then(n=>new dS(t,r,e,n))}(e);if(t.empty)return void s(`V\xe9rifiez:\n        - L'orthographe exacte (${r})\n        - Que la chasse existe\n        - Que vous avez les permissions`);const i=t.docs[0],a=i.data();if(a.isPrivate&&(!n||a.password!==n))return void s(a.password?"Mot de passe requis":"Erreur de configuration");a.participants.includes(o.uid)||await mS(i.ref,{participants:SS(o.uid)}),l(`/hunt/${i.id}`)}catch(i){console.error(i),s("Erreur technique - R\xe9essayez")}else s("Entrez un nom valide")},children:[(0,_S.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Nom EXACT de la chasse",required:!0}),(0,_S.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),placeholder:"Mot de passe (si priv\xe9e)"}),a&&(0,_S.jsx)("div",{className:"error",children:a}),(0,_S.jsx)("button",{type:"submit",children:"Rejoindre"})]})]})}function FS(){const{currentUser:e,loginWithGoogle:t,loginWithEmail:n,register:i,logout:a}=PS(),[s,o]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),g=re();return(0,_S.jsx)("div",{className:"login-container",children:e?(0,_S.jsxs)("div",{className:"logged-in-buttons",children:[(0,_S.jsx)("button",{onClick:()=>g("/"),className:"home-btn",children:"Aller \xe0 l'accueil"}),(0,_S.jsx)("button",{onClick:a,className:"logout-btn",children:"Se d\xe9connecter"})]}):(0,_S.jsxs)("div",{className:"login-form",children:[(0,_S.jsx)("h2",{children:h?"Inscription":"Connexion"}),f&&(0,_S.jsx)("p",{className:"error-message",children:f}),(0,_S.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m("");try{h?await i(s,l,c):await n(s,l),g("/")}catch(t){m(t.message)}},children:[h&&(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{children:"Pseudo:"}),(0,_S.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{children:"Email:"}),(0,_S.jsx)("input",{type:"email",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{children:"Mot de passe:"}),(0,_S.jsx)("input",{type:"password",value:l,onChange:e=>u(e.target.value),required:!0,minLength:"6"})]}),(0,_S.jsx)("button",{type:"submit",className:"submit-btn",children:h?"S'inscrire":"Se connecter"})]}),(0,_S.jsx)("button",{onClick:async()=>{try{await t(),g("/")}catch(e){m(e.message)}},className:"google-btn",children:"Se connecter avec Google"}),(0,_S.jsx)("p",{className:"toggle-mode",children:h?(0,_S.jsxs)(_S.Fragment,{children:["D\xe9j\xe0 un compte?"," ",(0,_S.jsx)("span",{onClick:()=>p(!1),children:"Se connecter"})]}):(0,_S.jsxs)(_S.Fragment,{children:["Pas de compte?"," ",(0,_S.jsx)("span",{onClick:()=>p(!0),children:"S'inscrire"})]})})]})})}function VS(){var e;const{currentUser:t,updateUsername:n,logout:i,checkUsername:a}=PS(),[s,o]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),g=re();(0,r.useEffect)(()=>{null!==t&&void 0!==t&&t.username&&o(t.username)},[t]);return t?(0,_S.jsxs)("div",{className:"profile-container",children:[(0,_S.jsxs)("h2",{children:["Profil de ",t.username]}),(0,_S.jsxs)("div",{className:"profile-info",children:[(0,_S.jsxs)("p",{children:["Email: ",t.email]}),(0,_S.jsxs)("p",{children:["Pseudo actuel: ",t.username]}),(0,_S.jsxs)("p",{children:["Membre depuis: ",(null===(e=t.createdAt)||void 0===e?void 0:e.toLocaleDateString("fr-FR"))||"Date inconnue"]})]}),(0,_S.jsxs)("form",{onSubmit:async e=>{var r;if(e.preventDefault(),u(""),d(""),s.trim())if(s.toLowerCase()!==(null===t||void 0===t||null===(r=t.username)||void 0===r?void 0:r.toLowerCase()))if(h)try{await n(s),d("Pseudo mis \xe0 jour avec succ\xe8s !"),p(!1)}catch(i){u(i.message)}else u("Veuillez v\xe9rifier la disponibilit\xe9 du pseudo");else u("Vous avez d\xe9j\xe0 ce pseudo");else u("Veuillez entrer un pseudo")},className:"profile-form",children:[(0,_S.jsxs)("div",{className:"form-group",children:[(0,_S.jsx)("label",{children:"Nouveau pseudo:"}),(0,_S.jsxs)("div",{className:"username-input-container",children:[(0,_S.jsx)("input",{type:"text",value:s,onChange:e=>{o(e.target.value),p(!1),d("")},onBlur:async()=>{if(s&&s!==(null===t||void 0===t?void 0:t.username)){m(!0),u("");try{const e=await a(s);p(e),e||u("Ce pseudo est d\xe9j\xe0 pris")}catch(e){console.error("Erreur v\xe9rification pseudo:",e),u("Erreur lors de la v\xe9rification du pseudo. R\xe9essayez."),p(!1)}finally{m(!1)}}},required:!0,minLength:"3",maxLength:"20",disabled:f}),f&&(0,_S.jsx)("span",{className:"checking-availability",children:"V\xe9rification..."})]}),s&&s!==t.username&&(0,_S.jsx)("div",{className:"availability-message",children:h?(0,_S.jsx)("span",{className:"success-message",children:"Pseudo disponible"}):l?(0,_S.jsx)("span",{className:"error-message",children:l}):null})]}),(0,_S.jsx)("button",{type:"submit",className:"submit-btn",disabled:!h||s===t.username||f,children:"Mettre \xe0 jour"})]}),l&&(0,_S.jsx)("p",{className:"error-message",children:l}),c&&(0,_S.jsx)("p",{className:"success-message",children:c}),(0,_S.jsx)("button",{onClick:i,className:"logout-btn",children:"Se d\xe9connecter"})]}):(g("/login"),null)}const jS=function(){return(0,_S.jsx)(rt,{children:(0,_S.jsx)("div",{className:"app-container",children:(0,_S.jsxs)(ke,{children:[(0,_S.jsx)(Se,{path:"/login",element:(0,_S.jsx)(FS,{})}),(0,_S.jsx)(Se,{path:"/",element:(0,_S.jsx)(AS,{})}),(0,_S.jsx)(Se,{path:"/hunt/:huntId",element:(0,_S.jsx)(OS,{})}),(0,_S.jsx)(Se,{path:"/hunt/new",element:(0,_S.jsx)(LS,{})}),(0,_S.jsx)(Se,{path:"/join-private",element:(0,_S.jsx)(MS,{})}),(0,_S.jsx)(Se,{path:"/join-private/:huntId",element:(0,_S.jsx)(MS,{})}),(0,_S.jsx)(Se,{path:"/profile",element:(0,_S.jsx)(VS,{})})]})})})},zS=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,_S.jsx)(r.StrictMode,{children:(0,_S.jsxs)(NS,{children:[" ",(0,_S.jsx)(jS,{})]})})),zS()})();
//# sourceMappingURL=main.19407032.js.map